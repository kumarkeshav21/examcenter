<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">

<head>
<style type="text/css">
.highcharts-exporting-group {
	display: none;
}

.slidebox {
	padding: 14px;
	margin-top: 0px;
	margin: 0px 10px;
}

.form-group label {
	font-size: 12px;
	position: relative;
	top: 4px;
}

.holdCls {
	background-color: rgb(0, 143, 0);
}

.bg_white {
	background: #ffffff !important;
}

.blueClsWT {
	background: #0076ba;
	color: #fff;
}

.blueCls {
	background: #0076ba;
	color: #fff;
}

.blueClsWT::before {
	font-size: 8px;
	color: #FFF;
	content: '\e64c';
	font-family: 'themify';
	padding-right: 7px;
}

.modal-body table td input[type=checkbox] {
	width: 0px;
	margin-right: 16px;
	position: relative;
	top: 0px;
	float: none;
}

.firstnode {
	color: #929292;
	border-top: 1px solid transparent !important;
	border-left: 1px solid transparent !important;
	border-bottom: 1px solid transparent !important;
	width: 320px;
	font-size: 12px;
	font-weight: 100;
}

.simple-tree-table-closed .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
	transform: rotate(90deg);
}

.simple-tree-table-opened .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
}

.simple-tree-table-icon {
	display: inline-block;
	width: 1.5em;
	line-height: 1.5em;
	margin: 0.1em;
	background-color: transparent;
	text-align: center;
	cursor: pointer;
}

.tptCls {
	background: transparnt;
}
</style>
<script>

/* salesOrder def
 * 
 */
 
 var columnDefs = [
		{
			headerCheckboxSelection : true,
			headerCheckboxSelectionFilteredOnly : true,
			checkboxSelection : true,
			width : 10,
			sortable : false,
			filter : false,
			resizable : true

		},
		{
			headerName : "Grn No",
			field : "grnId",
			cellRenderer : function(params) {
				return '<a onclick=editgrnList("'
						+ params.data.grnId
						+ '") href="javascript:void(0)">'
						+ params.data.grnId + '</a>';
			}
		}, {

			headerName : 'Purchase Order Number',
			field : "poNumberName"
		},{

			headerName : 'Vendor Name',
			field : "vendorName"
		},{
			headerName : 'Invoice No',
			field : "invoiceNo",
			cellStyle : {
				textAlign : 'center'
			}
		}, {
			headerName : 'Invoice Date',
			field : "invoiceDate",
			cellStyle : {
				textAlign : 'center'
			}
		}];
		
 var gridOptions = {
			columnDefs : columnDefs,
			rowSelection : 'multiple',

			groupSelectsChildren : true,
			suppressRowClickSelection : true,
			suppressAggFuncInHeader : true,
			defaultColDef : {
				sortable : true,
				filter : true,
				resizable : true,
				width : 251,
				height : 10
			},
			onSelectionChanged : rowSelect,
		};


		
		/*
		 sales Item 
		*/
		var itemDefs = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true

			},
			{
				headerName : "SlNo",
				field : "slNo",
				cellRenderer : function(params) {
					if (params.data.slNo) {
						return '<a onclick=editProduct("' + params.data.slNo
								+ '") href="javascript:void(0)">'
								+ params.data.slNo + '</a>';
					} else {
						return '<a onclick=editProduct("' + params.data.slNo
								+ '") href="javascript:void(0)">'
								+ params.data.slNo + '</a>';
					}
				}
			}, {
				headerName : 'Item',
				field : "itemName"
			}, {

				headerName : 'Po Qty',
				field : "PoQty"
			}, {
				headerName : 'Receive Qty',
				field : "rcvQty",
				type : 'rightAligned',
				valueFormatter : currencyFormatter
			}, {
				headerName : 'Unit Price',
				field : "unitPrice",
				type : 'rightAligned',
				valueFormatter : currencyFormatter
			},  {
				headerName : 'CgstRate',
				field : "cgstRate",
				type : 'rightAligned',
				valueFormatter : currencyFormatter
			}, 
			
			{
				headerName : 'SgstRate',
				field : "sgstRate",
				type : 'rightAligned',
				valueFormatter : currencyFormatter
			},
			
			{
				headerName : 'IgstRate',
				field : "igstRate",
				type : 'rightAligned',
				valueFormatter : currencyFormatter
			},{
				headerName : 'Amount',
				field : "lineTotal",
				type : 'rightAligned',
				valueFormatter : currencyFormatter,
				aggFunc : 'sum'
			}, ];
		
		var itemOptions = {
				columnDefs : itemDefs,
				rowSelection : 'multiple',
				groupSelectsChildren : true,
				suppressRowClickSelection : true,
				suppressAggFuncInHeader : true,
				defaultColDef : {
					sortable : true,
					filter : true,
					resizable : true,
					width : 251,
					height : 10
				},
				 getRowNodeId : function(data) {
					return data.slNo;
				} 
			};

 

$(document).ready(function() {
	var gridDiv = document.querySelector('#myGrid');
	new agGrid.Grid(gridDiv, gridOptions);
	
	var gridDiv = document.querySelector('#item');
	new agGrid.Grid(gridDiv, itemOptions);

	gridOptions.api.setRowData();
	itemOptions.api.setRowData();
	
	$("#Cancel").hide();
	$("#addData").hide();
	$("#save").hide();
	$('#delete').attr("disabled", true);
	
	$("#Cancel").click(function() {
		$('.loader').show();
		$("body").addClass("overlay");
		$("#reqTable").show();
		$(".btn-hs").show();
		$("#myGrid").show();
		$("#addData").hide();
		agGrid.simpleHttpRequest({
			url : "manage-grn-through-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalCandidate').find('span').html(len);
			gridOptions.api.setRowData(data);
		});
		$("#grnId").val('');
		$("#grnListId").html('');
		$("#poNumberId").val('');
		$("#poNumberName").val('');
		$("#invoiceNo").val('');
		$("#invoiceDate").val('');

	
		$("#itemId").val('');
		$("#itemName").val('');
		$("#poQuantity").val('');
		$("#receiveQuantity").val('');
		$("#unitPrice").val('');
		$("#gstRate").val('');
		$("#cgstRate").val('');
		$("#sgstRate").val('');
		$("#igstRate").val('');

		$("#lineTotal").val('');
		$("#subTotal").val('');
		$("#qIGST").val('');
		$("#qCGST").val('');
		$("#qSGST").val('');
		$("#grandTotal").val('');
		$("#vendorId").val('');
		$("#vendorName").val('');
		$("#itemIgst").val();
		$("#itemCgst").val();
		$("#itemSgst").val();

		$('.loader').hide();
		$("body").removeClass("overlay");
	});
	agGrid.simpleHttpRequest({
		url : "manage-grn-through-ajax"
	}).then(function(data) {
		var len = data.length;
		$('#totalGrn').find('span').html(len);
		gridOptions.api.setRowData(data);
	});
	
	var dateFormat = localStorage.getItem("dateFormat");

	
	
	$("#toDateCalendarReceive").datetimepicker({
		format : dateFormat,
		closeOnDateSelect : true,
		timepicker : false,
	}).on("change", function() {
		$('#invoiceDate').val($(this).val());
	})

	$('#invoiceDate').blur(function() {
		$("#toDateCalendarReceive").val($(this).val());
	})
	
	

	

	

	$("#igstTR").hide();
	
	$("#browseBtnNew").click(function() {
		$("#myModal").modal('show');

	})
	
	/* item category	 
						 */
						$("#browseBtnNew")
								.click(
										function() {

											$(".benefitChk").prop("checked",
													false);
											$("#productModName").val("");
											$("#brand").val("");
											$("#itemMod").val("");
											$("#modelMod").val("");
											$("#manufactureItemMod").val("");
											$("#variationTypeMod").val("");
											$("#variationValueMod").val("");
											$("#unitMod").val("");

											$('.loader').show();
											$("body").addClass("overlay");
											$("#productDiv").modal("show");
											$
													.ajax({
														type : "POST",
														url : "manage-grn-item-list",
														dataType : "json",
														contentType : "application/json",
														data : "a",
														success : function(response) {
															if (response.message == "success") {
														
																for (var i = 0; i < response.body.length; i++) {
																	var row = "";
																	if (response.body[i].categoryId == response.body[i].parentId) {
																		if (response.body[i].nodeCount > 0) {

																			row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'
																					+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'
																					+ response.body[i].categoryName
																					+ '</td></tr>';
																		} else {
																			row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'
																					+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'
																					+ response.body[i].categoryId
																					+ '" value="'
																					+ response.body[i].categoryId
																					+ '" name="'
																					+ response.body[i].categoryName
																					+ '" onchange=selectCheckBox("'
																					+ response.body[i].categoryId
																					+ '","'
																					+ response.body[i].catLevel
																					+ '")>'
																					+ response.body[i].categoryName
																					+ '</td></tr>';
																		}

																	} else {
																		if (response.body[i].nodeCount > 0) {
																			row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'
																					+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'
																					+ response.body[i].categoryName
																					+ '</td></tr>';
																		} else {

																			row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'
																					+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'
																					+ response.body[i].categoryId
																					+ '" value="'
																					+ response.body[i].categoryId
																					+ '" name="'
																					+ response.body[i].categoryName
																					+ '" onchange=selectCheckBox("'
																					+ response.body[i].categoryId
																					+ '","'
																					+ response.body[i].catLevel
																					+ '")>'
																					+ response.body[i].categoryName
																					+ '</td></tr>';
																		}
																	}
																	$(
																			"#itemCategoryCBDiv")
																			.append(
																					row);

																}
																$('.loader')
																		.hide();
																$("body")
																		.removeClass(
																				"overlay");

																$('#basic')
																		.simpleTreeTable(
																				{
																					expander : $('#expander'),
																					collapser : $('#collapser'),
																					store : 'session',
																					storeKey : 'simple-tree-table-basic'
																				});
															}
														},
														error : function(data) {
															console.log(data)
															$('.loader').hide();
															$("body")
																	.removeClass(
																			"overlay");
															$("#productDiv")
																	.modal(
																			"show");
														}
													});
										})
	
});



function add() {
	$('#hideTbl').hide();
	$("#add").hide();
	$("#myGrid").hide();
	$("#save").show();
	$("#Cancel").show();
	$("#addData").show();
	$("#totalCandidate").hide();
	$("#dwnld").hide();
	$("#upld").hide();
	
	$("#grnListheadId").html("");
	$("#grnId").val("");
	$("#invoiceNo").val("");
	$("#invoiceDate").val("");

	$("#toDateCalendar").val("");
	
	$("#subTotal").val("");
	$("#grandTotal").val("");
	$("#slNo").val("");
	$("#itemId").val("");
	$("#itemName").val("");
	$("#PoQty").val("");
	$("#rcvQty").val("");

	$("#unitPrice").val("");
	$("#gstRate").val("");
	$("#lineTotal").val("");
	$("#vendorId").val("");
	$("#vendorName").val("");

	
	$("#qIGST").val("");
	$("#qCGST").val("");
	$("#qSGST").val("");
	$("#itemIgst").val();
	$("#itemCgst").val();
	$("#itemSgst").val();
	
	
}

function Cancel() {
	$("#add").show();
	$("#myGrid").show();
	$("#save").hide();
	$("#Cancel").hide();
	$("#addData").hide();
	$('#hideTbl').show();
	$("#totalCandidate").show();
	$("#dwnld").show();
	$("#upld").show();
	itemOptions.api.setRowData();
	
	$('#delete').attr("disabled", true);

}

function openNav() {
	$("#itemName").val("");
	$("#PoQty").val("");
	$("#rcvQty").val("");

	$("#unitPrice").val("");
	$("#gstRate").val("");
	$("#lineTotal").val("");
	$("#editProduct").val("");
	document.getElementById("mySidenav").style.cssText = "width: 350px; position: absolute; right:-30px; overflow: hidden; height:auto; top:260px;";
	document.getElementById("main_content").style.width = "72%";

}

function closeNav() {
	document.getElementById("mySidenav").style.width = "0";
	document.getElementById("main_content").style.width = "100%";
	$("#itemId").val('');
	$("#itemName").val('');
	$("#PoQty").val("");
	$("#rcvQty").val("");
	$("#unitPrice").val('');
	$("#gstRate").val('');
	$("#lineTotal").val('');
	$("#editProduct").val(null);

}

/*
 * taxtype fn
 */
function hideShowS() {
	//alert("hy")
	var taxType = $("#taxType").val();
	if (taxType == "true") {
		$('#igstTR').show();
		$('#cgstTR').hide();
		$('#sgstTR').hide();

	} else {
		$('#igstTR').hide();
		$('#cgstTR').show();
		$('#sgstTR').show();

	}

}

 /* customer AutoSearch */

	/* function getCustomerList() {
		var search = $("#custName").val();

		if (search) {

			$.ajax({
						type : "POST",
						url : "view-saleorder-get-customer-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								if (response.body.length != 0) {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1" style="margin-left:-40px; font-weight:100; font-size:14px; color:#ccc;">';
									for (var i = 0; i < response.body.length; i++) {
										content += '<li class="autocompletedata cp" onClick="selectAutocompleteValue1(\''
												+ response.body[i].custId
												+ '\',\''
												+ response.body[i].custName
												+ '\',\''
												+ response.body[i].custGSTNo
												+ '\',\''
												+ response.body[i].taxType
												+ '\')">'
												+ response.body[i].custName
												+ '</li>';
									}
									content += '</ul>';
									console.log("content " + content)
									$("#suggesstion-box1_").show();
									$("#suggesstion-box1_").html(content);

								} else {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									content += '<li onClick="selectAutocompleteValue()">'
											+ "No Data Found" + '</li>';
									content += '</ul>';
									$("#suggesstion-box1_").show();
									$("#suggesstion-box1_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
						}
					})
		}

	} */

	/* function selectAutocompleteValue1(custId, custName, custGSTNo, taxType) {

		if (custId) {
			

			$("#custId").val(custId);

			$("#custName").val(custName);
			$("#custGSTNo").val(custGSTNo);
			$("#taxType").val(taxType);
			$("#search").val(custName);
			$("#search").attr('data-procat', custId);
			$("#suggesstion-box1_").hide();
			hideShowS();
			//checkForDuplicate(key,counter);

		} else {

			$("#custId").val("");

			$("#custName").val("");
			$("#custGSTNo").val("");
			$("#taxType").val("");
			$("#search").val("");
			$("#search").attr('data-procat', "");
			$("#suggesstion-box1_").hide();

		}
	} */
	/* function selectAutocompleteValue() {

		$("#custId").val("");

		$("#custName").val("");
		$("#custGSTNo").val("");
		$("#taxType").val("");
		$("#search").val("");
		$("#search").attr('data-procat', "");
		$("#suggesstion-box1_").hide();

	} */
	
	/* Item AutoSearch */

	function getItemQutotationList() {
		var search = $("#itemName").val();
		if (search) {
		
			$.ajax({
						type : "POST",
						url : "manage-grn-get-item-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {

								if (response.body.length != 0) {
									$("#itemName").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1" style="margin-left:-40px; font-weight:100; font-size:14px; color:#ccc;">';
									for (var i = 0; i < response.body.length; i++) {
										content += '<li class="autocompletedata cp" onClick="selectAutocompleteValueItem1(\''
												+ response.body[i].itemId
												+ '\',\''
												+ response.body[i].itemName
												+ '\',\''
												+ response.body[i].gstRate
												+ '\',\''
												+ response.body[i].rcvQty
												+ '\',\''
												+ response.body[i].poQty
												+ '\')">'
												+ response.body[i].itemName
												+ '</li>';
									}
									content += '</ul>';
									console.log("content " + content)
									$("#suggesstion-box_").show();
									$("#suggesstion-box_").html(content);

								} else {
									$("#itemName").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									content += '<li onClick="selectAutocompleteValueItem()">'
											+ "No Data Found" + '</li>';
									content += '</ul>';
									$("#suggesstion-box_").show();
									$("#suggesstion-box_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
						}
					})
		}
	}

	function selectAutocompleteValueItem1(itemId, itemName, gstRate, sku) {

		if (itemId) {

			$("#itemId").val(itemId);
			$("#itemName").val(itemName);
			$("#gstRate").val(gstRate);
			$("#PoQty").val(PoQty);
			$("#rcvQty").val(rcvQty);
			$("#itemName").attr('data-procat', itemId);
			$("#suggesstion-box_").hide();
			hideShowS();
			//checkForDuplicate(key,counter);

		} else {

			$("#itemId").val("");
			$("#gstRate").val("");
			$("#PoQty").val("");
			$("#rcvQty").val("");

			$("#itemName").val("");
			$("#itemName").attr('data-procat', "");
			$("#suggesstion-box_").hide();

		}
	}
	 function selectAutocompleteValueItem() {

		$("#itemId").val("");
		$("#gstRate").val("");
		$("#PoQty").val("");
		$("#rcvQty").val("");
		$("#itemName").val("");
		$("#itemName").attr('data-procat', "");
		$("#suggesstion-box_").hide();

	} 
	 
	 function selectCheckBox(id, lvl) {
			$("#select_product").empty();
			getProductByCategory();

			/* $(".pc1-box").prop("checked",false);
			$("#cat_"+id).prop("checked",true); */

			if (lvl == 'L1') {
				var textDesc = $("#lbl_" + id).text();
				$("#catDesc").text(textDesc);
			} else {
				var res = lvl.substring(1, 1000000);

				var lastText = $("#lbl_" + id).text();
				var textDesc = "";
				for (i = res; i > 1; i--) {
					var pUL = $("#lbl_" + id).parents("ul").attr("id");
					pUL = pUL.substring(3, 10000000000000);
					var newText = $("#lbl_" + pUL).text();
					textDesc = newText + " > " + textDesc;
					id = pUL;
				}
				textDesc = textDesc + lastText;
				$("#catDesc").text(textDesc);
			}
		}
	 
	 function selectProductVal() {
			$("#itemName").val($("#itemNameTemp").val());
			$("#item").val($("#itemIdTemp").val());
			$("#brandName").val($("#brandNameTemp").val());
			$("#brandId").val($("#brandIdTemp").val());
			$("#category").val($("#prodCatIdTemp").val());
			$("#categoryName").val($("#prodCatNameTemp").val());
			$("#PoQty").val($("#PoQtyTemp").val());
			$("#rcvQty").val($("#rcvQtyTemp").val());

			$("#search").val($("#itemNameTemp").val())
			$("#select_product").html('');
			$('#myModal').modal('hide');
		}

	 function getProductByCategory() {

			$("#select_product").empty();
			var valor = "";
			$('input.pc1-box[type=checkbox]').each(function() {
				if (this.checked)
					valor = valor + $(this).val() + ",";
			});

			if (valor) {
				$("#select_product").empty();
				$
						.ajax({
							type : "POST",
							url : "manage-grn-product-by-cat",
							dataType : 'json',
							contentType : 'application/json',
							data : valor,
							success : function(response) {
								if (response.message == "success") {
									//console.log(response.body)
									$("#select_product").empty();
									var content = '';
									for (var i = 0; i < response.body.length; i++) {

										content += '<div class="autocompletedata cp product-item" id="' +
											 response.body[i].productId +
					                            "_" 
												+ response.body[i].PoQty
												+ '" onClick=selectActive("'
												+ response.body[i].productId
												+ "_"
												+ response.body[i].PoQty
												+ '","'
												+ response.body[i].PoQty
												+ '","'
												+ response.body[i].productId
												+ '","'
												+ encodeURIComponent(response.body[i].productName)
												+ '","'
												+ response.body[i].brandId
												+ '","'
												+ response.body[i].brandName
												+ '","'
												+ response.body[i].productCatId
												+ '","'
												+ response.body[i].productCatName
												+ '")>'
												+ response.body[i].PoQty
												+ " - "
												+ response.body[i].brandName
												+ " - "
												+ response.body[i].productName
												+ '</div>';
									}
									content += '</ul>';
									$("#select_product").show();
									$("#select_product").append(content);

									var itemId = $("#itemId").val();
									var PoQty = $("#PoQty").html();

									if (itemId) {
										$("#" + itemId + "_" + PoQty).addClass(
												'productActive');
									}

								}
							},
							error : function(data) {
							console.log(data)
							}
						})
			} else {
				$("#select_product").empty();
			}
		}

	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
	 
		function selectActive(id, PoQty, productId, productName, brandId, brandName,
				prodCatId, prodCatName) {
			var splitArray = productName.split('%20');
			var finalString = "";
			for (i = 0; i < splitArray.length; i++) {
				finalString += splitArray[i] + " ";
			}
			$('.autocompletedata ').removeClass('productActive');
			$("#" + id).addClass('productActive');
			$("#itemNameTemp").val(finalString);
			$("#itemIdTemp").val(productId);
			$("#brandNameTemp").val(brandName);
			$("#brandIdTemp").val(brandId);
			$("#PoQtyTemp").val(PoQty);
			$("#rcvQtyTemp").val(rcvQty);

			$("#prodCatIdTemp").val(prodCatId);
			$("#prodCatNameTemp").val(prodCatName);
			$("#searchTemp").val(productName)

		} 
		
		
		/* //grn order item  table add */

		function saveTableData() {
			var editProduct = $("#editProduct").val();
			var item = {};
			var data = 1;
			var validation = true;


			if (item.PoQty == null || item.PoQty == "") {
				validation = validationUpdated("PoQty Required", 'PoQty');
			}
			
			if (item.rcvQty == null || item.rcvQty == "") {
				validation = validationUpdated("rcvQty Required", 'rcvQty');
			}
			if (item.itemName == null || item.itemName == "") {
				validation = validationUpdated("itemName Required", 'itemName');
			}
			
			if (item.unitPrice == null || item.unitPrice == "") {
				validation = validationUpdated("unitPrice Required", 'unitPrice');
			}
			
			
			if (item.lineTotal == null || item.lineTotal == "") {
				validation = validationUpdated("lineTotal Required", 'lineTotal');
			}

			if (validation) {
				itemOptions.api.forEachNode(function(rowNode, index) {
					if (!editProduct) {
						data = data + 1;
					}
				});

				item.itemId = $('#itemId').val();
				item.PoQty = $('#PoQty').val();
				item.rcvQty = $('#rcvQty').val();
				item.itemName = $('#itemName').val();
				item.quantity = $('#quantity').val();
				item.unitPrice = $('#unitPrice').val();
				
				
				item.lineTotal = $('#lineTotal').val();
				

				
				item.slNo = data;
				var quot = [];
				
				if (editProduct) {
					var rowNode = itemOptions.api.getRowNode(editProduct);
					rowNode.setData(item);
				} else {
					itemOptions.api.forEachNode(function(rowNode, index) {
						quot.push(rowNode.data);
					}); 
					quot.push(item)
					itemOptions.api.setRowData(quot);
					
					//calculation GST,IGST,SGST,CGST,SUBTOTAL,GRANDTOTAL
					var sum = 0.0;
					var gstRate = 0.0;
					var qSGST = 0.0;
					var qCGST = 0.0;
					var qIGST = 0.0;
					var itemIgst=0.0;
					var itemCgst=0.0;
					var itemSgst=0.0;
					var len = quot.length;
					for (var i = 0; i < len; i++) {
						sum = sum + parseFloat(quot[i].lineTotal);
						var taxType = $("#taxType").val();

						if (taxType == "true") {

							quot[i]. itemIgst = quot[i].lineTotal * quot[i].gstRate / 100;
							qIGST = qIGST +quot[i].itemIgst;
							grandTotal = sum + qIGST;
						} else {
							quot[i]. itemCgst = quot[i].lineTotal * quot[i].gstRate / 200;
							quot[i]. itemSgst = quot[i].lineTotal * quot[i].gstRate / 200;

							qCGST = qCGST +quot[i]. itemCgst;
							qSGST = qSGST +quot[i]. itemSgst;
							grandTotal = sum + qCGST + qSGST;
						}

					}
					
					
					$("#subTotal").val(sum);
					$("#qIGST").val(qIGST);
					$("#qCGST").val(qCGST);
					$("#qSGST").val(qSGST);
					$("#grandTotal").val(grandTotal)

				 } 
				closeNav();
				$("#itemId").val('');
				$("#itemName").val('');
				$("#PoQty").val('');
				$("#rcvQty").val('');
				$("#cgstRate").val('');
				$("#sgstRate").val('');
				$("#igstRate").val('');

				$("#quantity").val('');
				$("#unitPrice").val('');
				$("#discount").val('');
				$("#gstRate").val('');
				$("#lineTotal").val('');
				
				$("#editProduct").val(null);
			}

		}
		/* //salesOrder  table add */

		function save() {
			
				var datas = [];
				if (itemOptions.api.getDisplayedRowCount() > 0) {
					itemOptions.api.forEachNode(function(rowNode, index) {

						var obj = rowNode.data;
						obj.grnId = $("#grnId").val();
						obj.grnListId = $("#grnListheadId").html();
						obj.poNumberId = $("#poNumberId").val();
						obj.poNumberName = $("#poNumberName").val();
						obj.vendorId = $("#vendorId").val();
						obj.vendorName = $("#vendorName").val();
						obj.invoiceDate = $("#invoiceDate").val();
						obj.invoiceNo = $("#invoiceNo").val();


						obj.subTotal = $("#subTotal").val();
						obj.grandTotal = $("#grandTotal").val();
						obj.qIGST = $('#qIGST').val();
						obj.qCGST = $('#qCGST').val();
						obj.qSGST = $('#qSGST').val();
						obj.quantity = $('#quantity').val();

						

						datas.push(obj);

					});

				} else {
					var obj = {};
					obj.grnId = $("#grnId").val();
					obj.grnListId = $("#grnListheadId").html();
					obj.poNumberId = $("#poNumberId").val();
					obj.poNumberName = $("#poNumberName").val();
					obj.vendorId = $("#vendorId").val();
					obj.vendorName = $("#vendorName").val();
					obj.invoiceDate = $("#invoiceDate").val();
					obj.invoiceNo = $("#invoiceNo").val();

					
					
					obj.subTotal = $("#subTotal").val();
					obj.grandTotal = $("#grandTotal").val();
					obj.qIGST = $('#qIGST').val();
					obj.qCGST = $('#qCGST').val();
					obj.qSGST = $('#qSGST').val();
					obj.quantity = $('#quantity').val();
					
					obj.grnListId = $('#grnListId').val();
					obj.createdDate = $('#createdDate').val();
					obj.invoiceDate = $('#invoiceDate').val();

					datas.push(obj);

				}

				console.log(datas);
				saveAllSalesOreder(datas);
			
		}

		function saveAllSalesOreder(datas) {
		console.log(JSON.stringify(datas))
			$.ajax({

				type : "POST",
				url : "manage-grn-add",
				contentType : "application/json",
				data : JSON.stringify(datas),
				success : function(response) {
					if (response.message == "Success") {
	
						console.log(JSON.stringify(datas))
						
						$("#messageParagraph").text("Data Saved Successfully");
						$("#msgOkModal").removeClass("btn3");
						$("#msgOkModal").addClass("btn1");
						$("#msgModal").modal('show');
						$("#itemId").val(response.body[0].itemId);
						$("#itemName").val(response.body[0].itemName);
						$("#grnListId").val(response.body[0].grnListId);
						$("#vendorId").val(response.body[0].vendorId);
						$("#vendorName").val(response.body[0].vendorName);
						$("#poNumberId").val(response.body[0].poNumberId);
						$("#poNumberName").val(response.body[0].poNumberName);
						$("#invoiceNo").val(response.body[0].invoiceNo);
						$("#invoiceDate").val(response.body[0].invoiceDate);

						$("#subTotal").val(response.body[0].subTotal);
						$("#grandTotal").val(response.body[0].grandTotal);
						$("#storeId").val(response.body[0].storeId);
						$("#invoiceDate").val(response.body[0].invoiceDate);
						$("#createdDate").val(response.body[0].createdDate);

						$("#itemName").attr("data-procat",response.body[0].itemId);
						 $("#grnListheadId").html(response.body[0].grnListId);
						// itemOptions.api.setRowData(response.body);

					}

				},
				error : function(datas) {
					console.log(datas)
				}
			})

		}

		/* function validFormData() {
			
			alert('hhh')
			var allValid = true;
			if (!validationUpdated("Purchase Order Number  can't be Left Blank", 'poNumberName'))
				allValid = false;
			if (!validationUpdated("Vendor Name can't be Left Blank",
					'vendorName'))
				allValid = false;
			
			 if (!validationUpdated("invoiceNo  can't be Left Blank", 'invoiceNo'))
				allValid = false;
			if (!validationUpdated("invoiceDate  can't be Left Blank", 'invoiceDate'))
				allValid = false; 
			return allValid;
		}

		function validProductData() {
			return true;
		} */
		
		
		/* 
		Edit Quotation
		 */
		function editProduct(slNo) {
			var grnListId = $("#grnListheadId").html();
			var rowNode = itemOptions.api.getRowNode(slNo);

			console.log(rowNode)
			openNav();
			$("#editProduct").val(slNo);
			$("#itemId").val(rowNode.data.itemId);
			$("#itemName").val(rowNode.data.itemName);
			$("#PoQty").val(rowNode.data.PoQty);
			$("#rcvQty").val(rowNode.data.rcvQty);

			$("#unitPrice").val(rowNode.data.unitPrice);
			$("#gstRate").val(rowNode.data.gstRate);
			$("#cgstRate").val(rowNode.data.cgstRate);
			$("#sgstRate").val(rowNode.data.sgstRate);
			$("#igstRate").val(rowNode.data.igstRate);

			
			$("#lineTotal").val(rowNode.data.lineTotal);
			$("#itemIgst").val(rowNode.data.itemIgst);
			$("#itemCgst").val(rowNode.data.itemCgst);
			$("#itemSgst").val(rowNode.data.itemSgst);

		}

		function editsalesOrder(grnListId) {
			Cancel();
			$("#myGrid").hide();
			$("#reqTable").hide();
			$(".btn-hs").hide();
			$("#addData").show();
			$("#add").hide();
			$("#save").show();
			$("#Cancel").show();
			$("#totalCandidate").hide();
			$("#dwnld").hide();
			$("#upld").hide();

			agGrid.simpleHttpRequest({
				url : 'manage-grn-edit-new?id=' + grnListId
			}).then(function(data) {
				//console.log(data);
				$("#grnListheadId").html(data[0].grnListId);
				$("#grnId").val(data[0].grnId);
				$("#vendorId").val(data[0].vendorId);
				$("#vendorName").val(data[0].vendorName);
				$("#poNumberId").val(data[0].poNumberId);
				$("#poNumberName").val(data[0].poNumberName);

				$("#grnListId").val(data[0].grnListId);
				$("#invoiceNo").val(data[0].invoiceNo);
				$("#invoiceDate").val(data[0].invoiceDate);
		
				
			//	getEditTaxType(data[0].custName);

				/* itemOptions.api.setRowData(data);
				//EDIT GST,SUBTOTAL,GRANDTOTAL,SGST,CGST,IGST
						var sum = 0.0;
						var gstRate = 0.0;
						var qSGST = 0.0;
						var qCGST = 0.0;
						var qIGST = 0.0;
				var len = data.length;
				for (var i = 0; i < len; i++) {
					sum = sum + data[i].lineTotal;

					var taxType = $("#taxtype").val(data[0].taxType);
					//alert(data[0].taxType)
					if (data[0].taxType) {
						//alert("@" +data[0].taxType)
						data[0]. itemIgst = data[i].lineTotal * data[i].gstRate / 100;
						qIGST = qIGST +data[0].itemIgst;
						
						
						grandTotal = sum + qIGST;
					} else {
						data[0].itemCgst = data[i].lineTotal * data[i].gstRate / 200;
						data[0]. itemSgst = data[i].lineTotal * data[i].gstRate / 200;

						qCGST = qCGST +data[0]. itemCgst;
						qSGST = qSGST +data[0]. itemSgst;
						grandTotal = sum + qCGST + qSGST;
					}

				} */
				  
	 
				$("#itemIgst").val(itemIgst);
				$("#itemCgst").val(itemCgst);
				$("#itemSgst").val(itemSgst);
				$("#subTotal").val(sum);
				$("#qIGST").val(qIGST);
				$("#qCGST").val(qCGST);
				$("#qSGST").val(qSGST);
				$("#grandTotal").val(grandTotal)


			});

		}

		/* function getEditTaxType(search) {

			$.ajax({
				type : "POST",
				url : "view-saleorder-get-customer-list",
				dataType : 'json',
				contentType : 'application/json',
				data : search,
				success : function(response) {
					if (response.message == "success") {
						console.log("response data" + response.body[0].taxType)
						$("#taxType").val(response.body[0].taxType);
						hideShowS();
					}
				},
				error : function(data) {
					console.log(data);
				}
			})
		} */
		/* 
		Delete quotation
		 */
		function deleteQuotation() {

			$('#deleteQuot').modal('show');
		}
		function deleteItem() {

			$('#deleteProduct').modal('show');
		}

		function cancelModalBtn() {

			$("#deleteModalBtn").removeAttr("disabled");
		}

		function cancelModalProductBtn() {

			$("#deleteModalBtn").removeAttr("disabled");
			$('#deleteProduct').modal('hide');
		}

		function rowSelect() {
			var selectedRows = gridOptions.api.getSelectedRows();
			var rowCount = 0;
			selectedRows.forEach(function(selectedRow, index) {
				rowCount = rowCount + 1;
			});

			if (rowCount > 0) {
				$('#delete').attr("disabled", false);
				// $('#salesInvoice').attr("disabled", false); 
			} else {
				$('#delete').attr("disabled", true);
				//$('#salesInvoice').attr("disabled", true);
			}

		}

		// delete salesOrder

		function deleteOnclick() {
			var selectedRows = gridOptions.api.getSelectedRows();
			var selectedRowsString = '';
			selectedRows.forEach(function(selectedRow, index) {
				if (index > 0) {
					selectedRowsString += ',';
				}
				selectedRowsString += selectedRow.grnListId;
			});
			if (selectedRowsString) {
				var item = {};
				item.salesOrder = selectedRowsString;
				$('.loader').show();
				$("body").addClass("overlay");
				$.ajax({
					type : "POST",
					url : "manage-grn-delete",
					dataType : "json",
					contentType : "application/json",
					data : JSON.stringify(item),
					success : function(response) {
						$('.loader').hide();
						$('.modal').hide();
						if (response.message == "Success") {
							agGrid.simpleHttpRequest({
								url : 'manage-grn-through-ajax'
							}).then(function(data) {
								gridOptions.api.setRowData(data);
								//console.log(JSON.stringify(data))
							});

						} else {
							
						}
					},
					error : function(data) {
						console.log(data)
					}
				})
			} else {
				$("#alert").modal('show');
				document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
			}

		}
		function deleteProductOnclick() {
			var selectedRows = itemOptions.api.getSelectedRows();
			itemOptions.api.applyTransaction({
				remove : selectedRows

			});
			cancelModalProductBtn();
			//DELETE GST,SUBTOTAL,GRANDTOTAL,SGST,CGST,IGST
			var sum =$("#subTotal").val();
			var gstRate =$("#gstRate").val();
			var qCGST =$("#qCGST").val();
			var qSGST = $("#qSGST").val();
			var qIGST = $("#qIGST").val();
			var grandTotal = $("#grandTotal").val(); 
			var itemIgst=$("#itemIgst").val();
			var itemCgst=$("#itemCgst").val();
			var itemSgst=$("#itemSgst").val();
			var len = selectedRows.length;
			for (var i = 0; i < len; i++) {
				
				sum = sum - selectedRows[i].lineTotal;
				
				
			}
			
			$("#itemIgst").val(itemIgst);
			$("#itemCgst").val(itemCgst);
			$("#itemSgst").val(itemSgst);
			$("#subTotal").val(sum);
			$("#qIGST").val(qIGST);
			$("#qCGST").val(qCGST);
			$("#qSGST").val(qSGST);
			$("#grandTotal").val(grandTotal)
		}
		
		//calculate Amount=(quantity*unitPrice)-Discount
		var totalLine;
		function calculateLineTotal() {
			var price = $("#unitPrice").val();
			var quantity = $("#quantity").val();
			var discount = $("#discount").val();

			if (price && quantity) {
				var mul = price * quantity;

				if (discount > mul) {

					$("#discount").val("0");
					totalLine = mul - discount;
					$("#lineTotal").val((mul).toFixed(2));
				} else {
					totalLine = mul - discount;
					$("#lineTotal").val((totalLine).toFixed(2));
				}

				
			} else {
				var mul = 0;
				$("#lineTotal").val((mul).toFixed(2));
				

			}
		}
		
	/*create SalesInvoice*/
	
/* function salesInvoice() {
	var selectedRows = gridOptions.api.getSelectedRows();
	var selectedRowsString = '';
	selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
			selectedRowsString += ',';
		}
		selectedRowsString += selectedRow.grnListId;
		
	});
 	if (selectedRowsString) { 
		sessionStorage.setItem('activity', 'ACT0079');
		
		agGrid.simpleHttpRequest({
					url : 'view-saleorder-edit-new?id='
							+ selectedRowsString
				}).then(function(data) {
			localStorage.setItem('ReqData', JSON.stringify(data)); 
			itemOptions.api.setRowData(data);
			window.location.href = "/customer/view-saleInvoice"
		});
		
	 } else {
		$("#alert").modal('show');
		document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
	} 

} */

		
</script>
</head>
<body>

	<div layout:fragment="content" class="maincontent">
		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">
						<div class="row margin_topbot" id="hideTbl">
							<div class="btn-hs">
								<div class="input-style row">
									<input type="text" id="searchBar" placeholder="Search.."
										name="search" class="searchboxinput" onkeyup="cancelBar()"
										oninput="onQuickFilterChanged()">
									<div class="searchicon">
										<a href="#"><span style="display: none" id="closeKey"
											onclick="gridVendorOptions.api.setQuickFilter(null);$('#searchBar').val('');document.getElementById('closeKey').style.display='none';"
											class="close_i">X</span></a> <a href="#"><i
											class="fa fa-search"></i></a>
									</div>
								</div>
							</div>
						</div>
						<div class="row" id="reqTable">

							<div class="col-md-7 btn-hs">
								<div class="font-design" id="totalCandidate">
									GRN LIST (<span></span>)
								</div>
							</div>
							<div class="col-md-5 buttonsec btn-hs">

								
								<div class="buttongap"></div>

								<button onclick="add()" class="btn1" id="add">New</button>
								<button onclick="deleteQuotation()" class="btn3" id="delete">delete</button>
							</div>
						</div>


						<div id="myGrid" style="height: 500px; width: 1090px;"
							class="ag-theme-alpine"></div>

						<div class="collapse" id="addData">
							<div class="innerstickybg">
								<div class="row">
									<div class="col-md-3">
										GRN ID: <span id=grnListheadId></span>
									</div>

									<!-- <div class="col-md-6">
										<div id="statusDiv">
											<div class="hr4"></div>
											<div class="main-div">
												<div class="section2">
													<div id="createdDiv" class="green-box">
														<div class="green-box-heading">CREATED</div>
														<div class="date" id="createdDate"></div>
													</div>
												</div>
												<div class="section3">
													<div id="activeDiv" class="green-box">
														<div class="green-box-heading">ACTIVE</div>
														<div class="date" id="activeDate"></div>
													</div>
												</div>
												<div class="section4">
													<div id="completeDiv" class="grey-box">
														<div class="green-box-heading">COMPLETE</div>
														<div class="date" id="completeDate"></div>
													</div>
												</div>
												<div class="section5">
													<div id="onHoldDiv" class="grey-box">
														<div class="green-box-heading">ONHOLD</div>
														<div class="date" id="onHoldDate"></div>
													</div>
												</div>

											</div>
										</div>
									</div> -->
									
									
									<div class="col-md-12" align="left">
										<button class="btn4" id="Cancel" onClick="Cancel()">Cancel</button>
										<button class="btn1" id="save" onclick="save()">Save</button>
									</div>
								</div>
							</div>

							<div class="row innersticky_contentgap">
								<input type="hidden" id="grnListId">
								<input type="hidden" id="grnId">

									<div class="col-lg-3">
									<div class="form-group">
										<label>Purchase Order</label>
										<div class="select">
											<select id="poNumberId">
												<option value="">Select</option>
												<option th:each="c,iter:${poList}" th:value="${c.key}"
													th:text="${c.name}"></option>
											</select>
										</div>
									</div>

								</div>
								<div class="col-lg-3">
									<div class="form-group">
										<label>Vendor Name</label>
										<div class="select">
											<select id="vendorId">
												<option value="">Select</option>
												<option th:each="c,iter:${vendorList}" th:value="${c.key}"
													th:text="${c.name}"></option>
											</select>
										</div>
									</div>

								</div>


                                        <div class="col-md-3">
													<div class="form-group">
														<label>Invoice No</label> <input type="text"  value=""
															id="invoiceNo" placeholder="" class="form-control"
															>
													</div>
												</div>

			
								<div class="col-md-3">
									<label>Invoice Date</label> <input type="text"
										id="invoiceDate" class="form-control"
										th:attr="onkeyup=|formatDate('dob','${session.DATEFORMAT_JS}')|">
									<i class="ti-calendar picker_calendar"
										id="toDateCalendarReceive"></i>
								</div>
							</div>
							
								<div id="main_content">
								<div class="wrapper center-block">
									<div class="panel-group" id="accordion" role="tablist"
										aria-multiselectable="true">
										<div class="panel panel-default">
											<div class="panel-heading active" role="tab" id="headingOne">
												<h4 class="panel-title">
													<a role="button" data-toggle="collapse"
														data-parent="#accordion" href="#itemList"
														aria-expanded="true" aria-controls="itemList">
														Item Details </a>
												</h4>
											</div>
											<div id="itemList" class="panel-collapse collapse show"
												role="tabpanel" aria-labelledby="headingOne">
												<div class="row">

													<div class="col-md-4 btn-hs1">
														<div class="font-design"></div>
													</div>
													<div class="col-md-8 butttonsec">

														<button class="btn1" onclick="openNav()">NEW</button>
														<button class="btn3" id="delete" onclick="deleteItem()">Delete</button>
													</div>
												</div>
												<div id="item" style="width: 100%; height: 200px;"
													class="ag-theme-alpine"></div>


											</div>

										</div>
									</div>

									<div id="mySidenav" class="sidenav">
										<div class="slidebox">
											<div class="row">
												<div class="chartbtnsec">
													<div align="right">
														<button class="btn4" onclick="closeNav()">CANCEL</button>
														<button class="btn1" id="saveTableData"
															onclick="saveTableData()">SAVE</button>

													</div>
												</div>

												
												<div class="col-lg-6">
													<div class="form-group">
													<div class="autocomplete" style="width:auto">
														<input type="hidden" id="editProduct"> <input
															type="hidden" id="itemId"> <label>Item
															Name</label> <input type="text" id="itemName"
															class="form-control" onkeyup='getItemQutotationList()'>
															</div>
														<div id="suggesstion-box_" class="sugg-cls"></div>
													</div>
												</div>


												<div class="col-lg-6">
													<div class="form-group">
														<label>PO Quantity</label> <input type="text" id="PoQty"
															class="form-control"
															onkeyup="calculateLineTotal()">
													</div>
												</div>
												
												<div class="col-lg-6">
													<div class="form-group">
														<label>Receive Quantity</label> <input type="text" id="rcvQty"
															class="form-control">
													</div>
												</div>
												<div class="col-lg-6">
													<div class="form-group">
														<label>Unit Price</label><input type="text" id="unitPrice"
															class="form-control"
															onkeyup="calculateLineTotal()">
													</div>
												</div>
												
												
												<div class="col-lg-6">
													<div class="form-group">
														<label>lineTotal</label> <input type="text" id="lineTotal"
															class="form-control">
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							
							<div class="row" id=gstCalS>
								<div class="col-lg-9"></div>
								<div class="col-lg-3">
									<table style="width: 88%">
										<tr>
											<th>
												<div class="row">
													<div class="col-lg-6">Sub Total:</div>
													<div class="col-lg-6">
														<div class="form-group">
															<input type="text" id="subTotal" class="form-control">
														</div>
													</div>
												</div>
											</th>

										</tr>
										<tr class="tbl-box" id="sgstTR">
											<th>
												<div class="row">
													<div class="col-lg-6">SGST:</div>
													<div class="col-lg-6">
														<div class="form-group">
															<input type="text" id="qSGST" class="form-control">
															<input type="hidden" id=itemIgst>
														</div>
													</div>
												</div>
											</th>

										</tr>

										<tr id="cgstTR">
											<th>

												<div class="row">
													<div class="col-lg-6">CGST:</div>
													<div class="col-lg-6">
														<div class="form-group">
															<input type="text" id="qCGST" class="form-control">
															<input type="hidden" id=itemCgst>
														</div>
													</div>
												</div>
											</th>

										</tr>

										<tr class="tbl-box" id="igstTR">
											<th>
												<div class="row">
													<div class="col-lg-6">IGST:</div>
													<div class="col-lg-6">
														<div class="form-group">
															<input type="text" id="qIGST" class="form-control">
															<input type="hidden" id=itemSgst>
														</div>
													</div>
												</div>
											</th>
										</tr>

										<tr>
											<th>
												<div class="row">
													<div class="col-lg-6">Grand Total:</div>
													<div class="col-lg-6">
														<div class="form-group">
															<input type="text" id="grandTotal" class="form-control">
														</div>
													</div>
												</div>
											</th>

										</tr>
									</table>
								</div>
							</div>
						</div>
					</div>
					<!-- delete modal start -->
					<div id="deleteQuot" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalBtn()">
										<i class="ti-close modal-close"></i>
									</button>
								</div>
								<div class="modal-body">
									<p>Do you really want to delete these records? This process
										cannot be undone.</p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -30px;">

									<button type="button" class="btn4" data-dismiss="modal"
										onclick="cancelModalBtn();">Cancel</button>
									<button type="button" class="btn3" onclick="deleteOnclick()">Delete</button>
								</div>
							</div>
						</div>
					</div>
					<!-- delete item start	 -->
					<div id="deleteProduct" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalProductBtn()">
										<i class="ti-close modal-close"></i>
									</button>
								</div>
								<div class="modal-body">
									<p>Do you really want to delete these records? This process
										cannot be undone.</p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -30px;">

									<button type="button" class="btn4" data-dismiss="modal"
										onclick="cancelModalBtn();">Cancel</button>
									<button type="button" class="btn3"
										onclick="deleteProductOnclick()">Delete</button>
								</div>
							</div>
						</div>
					</div>
					
							<div class="modal fade" id="myModal">
						<div class="modal-dialog modal-lg" style="margin-top: 130px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<div class="modal-header">
									<h4 class="modal-title md-color">Select Product</h4>
									<button type="button" class="close cp" data-dismiss="modal">&times;</button>
								</div>

								<!-- Modal body -->
								<div class="modal-body modal-cat">
									<div class="row">

										<div class="col-md-6" df="0"
											style="height: 300px; overflow-y: scroll;">
											<table id="basic">
												<tbody id="productCategoryCBDiv"></tbody>
											</table>


										</div>
										<div class="col-md-6" id="productCategorySelectDiv" df="0"
											style="border-left: 1px solid #ccc;">
											<div>
												<div class="productlist">Select Product</div>
												<div id="select_product"></div>
												<input type="hidden" id="itemNameTemp" /> <input
													type="hidden" id="itemIdTemp" /> <input type="hidden"
													id="brandNameTemp" /> <input type="hidden"
													id="brandIdTemp" /> <input type="hidden" id="skuTemp" />
												<input type="hidden" id="prodCatIdTemp" /> <input
													type="hidden" id="prodCatNameTemp" />
											</div>
										</div>
									</div>
								</div>

								<!-- Modal footer -->
								<div class="modal-footer">
									<div class="chartbtnsec">
										<button class="btn1" onclick="selectProductVal()">SELECT</button>
										<button class="btn4" data-dismiss="modal">CANCEL</button>
									</div>
								</div>

							</div>
						</div>
					</div>
					<!-- alert modal start -->
					<div id="alert" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalBtn()">
										<i class="ti-close modal-close"></i>
									</button>
								</div>
								<div class="modal-body">
									<p id="textId"></p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -30px;">

									<button type="button" class="btn1" data-dismiss="modal">SELECT</button>
									<!-- <button type="button" class="btn3" onclick="deleteOnclick()">Delete</button> -->
								</div>
							</div>
						</div>
					</div>
					
				</div>
			</div>
		</div>
	</div>

</body>
</html>
