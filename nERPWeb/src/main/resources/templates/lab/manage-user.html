<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">

<head>

<style type="text/css">
body {
	background: #f5f5f5;
	font-family: 'Poppins', sans-serif!important;
}

.content-wrapper {
	background: transparent;
	padding: .75rem 2.25rem;
}

.btnDisable {
	color: #ccc !important;
}

.card-body a {
	color: #000;
}
.table thead th {
    vertical-align: bottom;
    font-family: 'Poppins', sans-serif!important;
    border-bottom: 1px solid #dbdbdb!important;
    background: transparent;
    font-size: 18px !important;
    color: #000;
    text-align: center;
    font-weight: 300;
    font-family: 'BOLD';
    letter-spacing: .5px;
}



.highcharts-axis-title {
	display: none;
}
/*todaychanges*/
.card {
	margin: 8px 0px;
}

.smlbox {
	border: 1px solid #ccc;
	background: #FFF;
	border-radius: 5px;
	padding: 10px;
	margin: 5px;
	color: #333;
}

.smlbox1 {
	border: 1px solid #ccc;
	background: #FFF;
	border-radius: 5px;
	padding: 10px;
	margin: 11.5px 0px;
	color: #333;
}

.smlbox11 {
	border-radius: 5px;
	padding: 10px;
	color: #0071c1;
}

.smlbox11 .title {
	width: 100px !important;
	color: #000;
	float: left;
}

.smlbox2 {
	background: transparent;
	border-radius: 5px;
	padding: 5px 10px;
	margin: 5px 0px;
	color: #FFF;
}

.smlbox2 span {
	float: right;
	text-align: right;
}

.mrt_5 {
	margin-top: 8px;
}

.text-left {
	color: #0071c1;
}

.padding_8 {
	padding: 0px 8px;
}

.heading {
	background: rgba(0, 0, 0, 0.5);
	padding: 8px;
}

.table td, .table th {
	border-top: none;
	font-family: 'HelveticaNeue';
	font-size: 16px;
    font-weight: 100;
}

.card_light {
	background: #FFF;
	border: 1px solid #ccc;
	padding: 10px;
	border-radius: 10px;
}

.card_light .card-title {
	background: #0071c1;
	color: #FFF;
	padding: 12px 10px;
	margin-bottom: 18px;
}

.cardtitle1 {
	/*background: #0071c1;*/
	font-size: 16px;
	color: #333;
	padding-top: 10px;
	padding-left: 10px;
}

.card_light p {
	color: #ccc;
}

.card {
	margin: 0 !important;
	margin-bottom: 8px !important;
}

/*new*/
.searchsec {
	background: #dbdbdb;
	height: 60px;
	border-bottom: 3px solid #7bd4df;
	padding: 5px;
	width: 100%;
	margin: 0px 5px;
}

.card-title {
	padding: 10px 3px;
	color: #333 !important;
	font-size: 18px;
}

.highcharts-figure {
	width: 100% !important;
	margin: 0 !important;
}

.highcharts-drilldown-data-label text {
	text-decoration: none !important;
	color: #FFF !important;
	fill: #FFF !important;
}

.padding_5 {
	padding: 0px 5px;
}

.d-block {
	display: block !important;
	width: 100%;
}

.card-body {
	padding: 0.5rem 0.5rem;
	text-align: left;
}

.highcharts-xaxis-labels text {
	color: #333 !important;
	fill: #333 !important;
}

.highcharts-yaxis-labels text {
	color: #333 !important;
	fill: #333 !important;
}

#sundargarh {
	height: 500px;
	min-width: 310px;
	max-width: 800px;
	margin: 0 auto;
}

.loading {
	margin-top: 10em;
	text-align: center;
	color: gray;
}

#area {
	height: 200px;
	position: relative;
	right: 20px;
	width: 300px;
}

.highcharts-a11y-proxy-button {
	color: #333 !important;
}

#daywise {
	height: 150px;
	width: 150px;
	position: relative;
	right: 40px;
}

#daywise .highcharts-yaxis-labels {
	display: none;
}

#chart .highcharts-a11y-proxy-button {
	color: #333 !important;
}

.white {
	color: #FFF;
}

/* .active {
	background: #98cb4a;
	border: 1px solid #FFF;
} */
.inactive {
	background: #f76d3c;
	color: #333;
	border: 1px solid #FFF;
}

.inactive a {
	color: #FFF;
}

.ulbar {
	display: flex;
	flex-wrap: wrap;
	margin-right: -15px;
	margin-left: -15px;
	margin-bottom: 8px;
}

.card a {
	color: #98cb4a;
	padding: 0px 7px;
	position: relative;
	top: 10px;
	right: 10px;
}

.boxicon {
	position: absolute;
	bottom: 8px;
	right: 8px;
}

.card-body a {
	color: #FFF !important;
	padding: 16px;
	width: 100%;
	position: relative;
	top: -20px;
	left: 0px;
}

.card-body a .icon {
	position: relative;
	top: -20px;
}

.font-weight-normal {
	font-family: "ubuntu-regular", sans-serif;
	font-size: 16px;
}

.profile {
	border: 2px solid #ccc;
	border-radius: 80px;
	height: 104px;
	width: 104px;
	position: relative;
	left: 33%;
}

.profile img {
	height: 100px;
	width: 100px;
	border-radius: 50%;
}

.edit {
	position: absolute;
	background: #0071c1;
	height: 30px;
	width: 30px;
	border-radius: 20px;
	color: #FFF;
	right: 0;
	bottom: 0px;
	padding: 3px 8px;
}

.card-title2 {
	/* padding: 10px 3px; */
	color: #333 !important;
	font-size: 18px;
	font-weight: 500;
}

.card-dsn {
	box-shadow: 0 1px 6px 0 rgb(32 33 36/ 28%);
	height: 315px;
	border-bottom: 5px solid #913ccd;
	border-radius: 5px;
	overflow-y: scroll;
	overflow-x: hidden;
}

.card-emergency {
	box-shadow: 0 1px 6px 0 rgb(32 33 36/ 28%);
	height: 130px;
	border-bottom: 5px solid #f2b40c;
	border-radius: 5px;
}

.card-family {
	box-shadow: 0 1px 6px 0 rgb(32 33 36/ 28%);
	height: 130px;
	border-bottom: 5px solid #f15f74;
	border-radius: 5px;
}

.card-profile {
	box-shadow: 0 1px 6px 0 rgb(32 33 36/ 28%);
	border-bottom: 5px solid #3000c6;
	border-radius: 5px;
}

.mt-8 {
	margin-top: 8px;
}

.mb-20 {
	margin-bottom: 20px;
}

.tbl-card {
	background-color: #fff;
	border-radius: 5px;
	border-bottom: 5px solid #2ca8c2;
	margin-bottom: 30px;
	box-shadow: 0 1px 6px 0 rgb(32 33 36/ 28%);
	height: 315px;
}

.tbl-head {
	font-size: 18px;
	color: #fff;
	background-color: #2ca8c2;
	padding: 5px 10px;
	border-radius: 5px 5px 0px 0px;
}

.table thead th {
	border: none;
}

.table td, .table th {
	border-top: none;
}

.inr-tbl {
	padding: 10px;
}

.date-clnd {
	border: 1px solid #2d9f9e;
	border-radius: 7px;
	text-align: center;
	background-color: #fff;
	font-weight: 700;
	color: #000;
}

.btm-txt {
	background-color: #2d9f9e;
	border-radius: 0px 0px 7px 7px;
	color: #fff;
	font-weight: 500;
}

.disble-clnd {
	border: 1px solid #cacaca;
	border-radius: 7px;
	text-align: center;
	background-color: #fff;
	font-weight: 700;
	color: #000;
}

.disble-txt {
	background-color: #cacaca;
	border-radius: 0px 0px 7px 7px;
	font-weight: 500;
}

.rlt-nm {
	font-size: 16px;
	color: #000;
	border-right: 2px solid #000;
	width: 165px;
	float: left;
}

.rlt {
	font-size: 16px;
	color: #000;
	margin-left: 10px;
}

.ph-no {
	font-size: 16px;
	color: #000;
}

.ph-no span {
	color: #056fe2;
}

.d-flex {
	display: flex;
}

.user-dtlhd {
	font-size: 16px;
	color: #000;
	font-weight: 500;
}

.user-id {
	font-size: 16px;
	font-weight: 400;
	color: #056fe2;
}

.mb-10 {
	margin-bottom: 10px;
}

.mdtbl-scrl {
	height: 400px;
	overflow-y: scroll;
}

.tbl-scrl {
	height: 380px;
	overflow-y: scroll;
}

.since-txt {
	font-size: 16px;
	color: #000;
}

.since-txt span {
	font-size: 16px;
	color: #000;
	margin-left: 10px;
}

.more {
	text-align: right;
	font-size: 16px;
	color: #000;
	margin-right: 20px;
	margin-bottom: 8px;
}

.rpt-nm {
	font-size: 16px;
	color: #000;
}

.lab-name {
	font-size: 16px;
	color: #056fe2;
}

.btn-book {
	color: #fff;
	background-color: #3000c6;
	border-color: #3000c6;
}

.btn-book:hover {
	color: #fff;
	background-color: #5129ce;
	border-color: #5129ce;
}

.prf-ht {
	height: 600px;
}

.mecication-head {
	font-size: 18px;
	color: #fff;
	background-color: #117a75;
	padding: 5px 10px;
	border-radius: 5px 5px 0px 0px;
}

.md-tbl td, .md-tbl th {
	padding: 6px 5px;
}

.md-tbl td {
	color: #056fe2;
	font-size: 16px;
}

.mecication-card {
	background-color: #fff;
	border-radius: 5px;
	border-bottom: 5px solid #117a75;
	margin-bottom: 30px;
	box-shadow: 0 1px 6px 0 rgb(32 33 36/ 28%);
	height: 454px;
	margin-top: -30px;
}

.mb-8 {
	margin-bottom: 8px;
}

.grn-btn {
	background: #00a330;
	color: #FFF;
	border: none;
	outline: none;
	cursor: pointer;
	border-radius: 30px;
	padding: 4px 10px 4px 10px;
	text-decoration: none;
	font-family: roboto;
}
</style>
<script>



//function viewDateDetails(date)
$(document).ready(function()
		
{

	//alert("hello")
	$.ajax({
		
		type : "GET",
				url : "manage-user-table",

				success : function(response) {

					if (response.message == "Success") {
						$("#tbodyId").empty();
						console.log(response.body)
								var k=1;
						for (var i = 0; i < response.body.length; i++) {

							var div2 = '<tr><td>'
									+ k
									+ '</td>'
									+ '<td>'
									+ response.body[i].userType
									+ '</td>'
									+ '<td>'
									+ response.body[i].userName
									+ '</td>'
									+ '<td>'
									+ response.body[i].email
									+ '</td>'
									+ '<td>'
									+ response.body[i].phone
									+ '</td>'
									
									+ '<td>'
									+ response.body[i].address
									+ '</td>'
									+ '<td>'
									+ '<a data-toggle="modal" data-target="#myModal" onclick="editManage(\''
									+ response.body[i].sId
									+ '\',\''
									+ response.body[i].userType
									+ '\',\''
									+ response.body[i].userName
									+ '\',\''
									+ response.body[i].email
									+ '\',\''
									+ response.body[i].phone
									+ '\',\''
									+ response.body[i].address
									+ '\',);" ><i class="fa fa-pencil-square-o modal-link" aria-hidden="true"></i></a>  <a data-toggle="modal" data-target="#myModal1" onclick="deleteManage(\''
									+ response.body[i].sId
									+ '\');" ><i class="fa fa-trash modal-link" aria-hidden="true"></i></a>'
									+ '</td>'
									
									

							$("#tbodyId").append(div2);
									k++;
						}

					}
				},
			});

});

function editManage(sId, userType, userName, email, phone,address) {

	$("#sId").val(sId)
	$("#userType").val(userType)
	$("#userName").val(userName)
	$("#email").val(email)
	$("#phone").val(phone)
	$("#address").val(address)
}


 function saveEditedData() {
	//alert("helo instruction")

	data = {};
	data.sId = $("#sId").val();
	data.userType = $("#userType").val();
	data.userName = $("#userName").val();
	data.email = $("#email").val();
	data.phone = $("#phone").val();
	data.address = $("#address").val();

	var id = $("#userType").val();
	if (id != null && id != "") {
		$
				.ajax({
					type : "POST",
					url : "manage-user-edit-details-save",
					dataType : "json",
					contentType : "application/json",
					data : JSON.stringify(data),
					success : function(response) {
						console.log(response)
						if (response.message == "Success") {
							$.ajax({
								
								type : "GET",
										url : "manage-user-table",

										success : function(response) {

											if (response.message == "Success") {
												$("#tbodyId").empty();
												console.log(response.body)
														var k=1;
												for (var i = 0; i < response.body.length; i++) {

													var div2 = '<tr><td>'
															+ k
															+ '</td>'
															+ '<td>'
															+ response.body[i].userType
															+ '</td>'
															+ '<td>'
															+ response.body[i].userName
															+ '</td>'
															+ '<td>'
															+ response.body[i].email
															+ '</td>'
															+ '<td>'
															+ response.body[i].phone
															+ '</td>'
															
															+ '<td>'
															+ response.body[i].address
															+ '</td>'
															+ '<td>'
															+ '<a data-toggle="modal" data-target="#myModal" onclick="editManage(\''
															+ response.body[i].sId
															+ '\',\''
															+ response.body[i].userType
															+ '\',\''
															+ response.body[i].userName
															+ '\',\''
															+ response.body[i].email
															+ '\',\''
															+ response.body[i].phone
															+ '\',\''
															+ response.body[i].address
															+ '\',);" ><i class="fa fa-pencil-square-o modal-link" aria-hidden="true"></i></a>  <a data-toggle="modal" data-target="#myModal1" onclick="deleteManage(\''
															+ response.body[i].sId
															+ '\');" ><i class="fa fa-trash modal-link" aria-hidden="true"></i></a>'
															+ '</td>'
															
															

													$("#tbodyId").append(div2);
															k++;
												}

											}
										},
									});
							
							

							
	                 } else {
		             $("#candValid").modal("toggle");
		            $("#candMsg").text("");
		           $("#candMsg").text("Save the personal details first!");
	}
} 
				})}}
 
 
 
 /********Delete instruction***********/
 

	function deleteInstruction() {
		var examId = $("#examId").val();
		$.ajax({
			type : "GET",
			url : "manage-user-delete?id=" + examId,
			dataType : "json",
			contentType : "application/json",
			success : function(response) {
			if (response.message == "Success") {
				
				$.ajax({
					
					type : "GET",
							url : "manage-user-table",

							success : function(response) {

								if (response.message == "Success") {
									$("#tbodyId").empty();
									console.log(response.body)
											var k=1;
									for (var i = 0; i < response.body.length; i++) {

										var div2 = '<tr><td>'
												+ k
												+ '</td>'
												+ '<td>'
												+ response.body[i].userType
												+ '</td>'
												+ '<td>'
												+ response.body[i].userName
												+ '</td>'
												+ '<td>'
												+ response.body[i].email
												+ '</td>'
												+ '<td>'
												+ response.body[i].phone
												+ '</td>'
												
												+ '<td>'
												+ response.body[i].address
												+ '</td>'
												+ '<td>'
												+ '<a data-toggle="modal" data-target="#myModal" onclick="editManage(\''
												+ response.body[i].sId
												+ '\',\''
												+ response.body[i].userType
												+ '\',\''
												+ response.body[i].userName
												+ '\',\''
												+ response.body[i].email
												+ '\',\''
												+ response.body[i].phone
												+ '\',\''
												+ response.body[i].address
												+ '\',);" ><i class="fa fa-pencil-square-o modal-link" aria-hidden="true"></i></a>  <a data-toggle="modal" data-target="#myModal1" onclick="deleteManage(\''
												+ response.body[i].sId
												+ '\');" ><i class="fa fa-trash modal-link" aria-hidden="true"></i></a>'
												+ '</td>'
												
												

										$("#tbodyId").append(div2);
												k++;
									}

								}
							},
						});
				
				
				
			}
		},
		error : function(response) {
		console.log(response);
		 }
	  })

	}

	function deleteManage(sId) {
		//alert(sId)
		$("#examId").val(sId)
	}
</script>

</head>
<body>
	<div layout:fragment="content" class="maincontent">
		<div class="container-scroller">
			<!-- partial -->
			<div class="container-fluid">
				<!-- partial -->
				<div class="main-panel">
					<div class="content-wrapper">

						<div class="row">
							<div class="col-md-12">

								<div class="row"></div>
								<div class="card">
									<div class="table-responsive">

										<div align="center" style="color: red"></div>

										<table class="table table-striped table-bordered" id="example" width="100%"
											cellspacing="0">
											<thead>
												<tr>
													<th>ID</th>
													<th>User Profile</th>
													<th>User Name</th>
													<th>Email</th>
													<th>Phone</th>
													<th>Address</th>
													<th>Action</th>
												
												</tr>
											</thead>

											<tbody class="tbodyCls" id="tbodyId">

											</tbody>
										</table>
									</div>
								</div>
								<div class="clearfix"></div>



								<!-- partial -->
							</div>
							<!-- main-panel ends -->
						</div>
						<!-- page-body-wrapper ends -->
					</div>
					<div id="myModal" class="modal fade" role="dialog">
						<div class="modal-dialog">

							<!-- Modal content-->
							<div class="modal-content">
								<div class="modal-header">
									<!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
									<h4 class="modal-title">Edit Users</h4>
									<button type="button" class="close" data-dismiss="modal">&times;</button>
								</div>
								<div class="modal-body">
									

										<input class="form-control" type="hidden"
											placeholder="Enter Exam Name" autocomplete="off" name="sId"
											id="sId">
										<div class="col-md-12">
											<div class="form-group">
												<label>User Profile :</label>
												
												<div class = "select">
												<select class="form-control" name="userType"
													id="userType" >
														
														<option value="rol002">Nodel Officer</option>
														
												</select>
												</div>
											</div>
										</div>
										<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label>User Name</label>
												<input class="form-control" placeholder="enter your instruction"
												name="userName" type="text" id="userName" value="" required>
											</div>
										</div>
									
									</div>
									<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label>Email :</label>
												<input class="form-control" placeholder="enter email address"
												name="email" type="text" id="email" value="" required>
											</div>
										</div>
									
									</div>
									<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label>Phone:</label>
			
												<input class="form-control" placeholder=""
												name="phone" type="text" id="phone" required>
												
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label>Address:</label>
												
												<input class="form-control" placeholder=""
												 name="address" type="text" id="address">
												
											</div>
										</div>
									</div>
										
									
									
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default"
										data-dismiss="modal" onclick="saveEditedData()">Save</button>
									<button type="button" class="btn btn-default"
										data-dismiss="modal">Close</button>
								</div>
							</div>

						</div>
					</div>
					<!-- /***********************************************/ -->
					<div id="myModal1" class="modal fade" role="dialog">
						<div class="modal-dialog">

							<!-- Modal content-->
							<div class="modal-content">
								<div class="modal-header">
									<!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
									<h4 class="modal-title">Are you sure to Delete this
										Instruction</h4>
									<button type="button" class="close" data-dismiss="modal">&times;</button>
								</div>
								<input type="hidden" id="examId">
								<div class="modal-footer">
									<button type="button" class="btn btn-default"
										data-dismiss="modal" onclick="deleteInstruction()">Yes</button>
									<button type="button" class="btn btn-default"
										data-dismiss="modal">No</button>
								</div>
							</div>

						</div>
					</div>
					



				</div>
				<!-- container-scroller -->
				<!-- plugins:js -->
				<!-- plugins:js -->

				<!-- End custom js for this page -->
			</div>
		</div>
	</div>

</body>
</html>