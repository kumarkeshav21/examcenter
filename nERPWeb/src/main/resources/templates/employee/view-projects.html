<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
<head>


<style type="text/css">
.highcharts-exporting-group {
	display: none;
}

.slidebox {
	padding: 14px;
	margin-top: 0px;
	margin: 0px 10px;
}
.modal-body table td input[type=checkbox] {
    width: 0px;
    margin-right: 16px;
    position: relative;
    top: 0px;
     float: none; 
}

.firstnode {
	color: #929292;
	border-top: 1px solid transparent !important;
	border-left: 1px solid transparent !important;
	border-bottom: 1px solid transparent !important;
	width: 320px;
	font-size: 12px;
    font-weight: 100;
}

/* table {
	border: 1px solid #ebeded;
} */

.simple-tree-table-closed .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
	transform: rotate(90deg);
}

.simple-tree-table-opened .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
}

.simple-tree-table-icon {
	display: inline-block;
	width: 1.5em;
	line-height: 1.5em;
	margin: 0.1em;
	background-color: transparent;
	text-align: center;
	cursor: pointer;
}

/* .form-group label {
	font-size: 12px;
	position: relative;
	top: 4px;
} */
.holdCls {
	background-color: rgb(0, 143, 0);
}

.bg_white {
	background: #ffffff !important;
}

input[type="date"]::-webkit-input-placeholder {
	visibility: hidden !important;
}
</style>

<script type="text/javascript">
	$(document)
			.ready(
					function() {
						for (var n = 1; n <= 25; n++) {
							$('#box ul')
									.append(
											'<li><span>image '
													+ n
													+ ' </span><img src="http://unsplash.it/280/180?image='
													+ n + '"></li>');
						}
						$('#box').mCustomScrollbar({
							theme : "inset",
							scrollButtons : {
								enable : true
							}
						});

					});
</script>
<script type="text/javascript">

function closeAllNav(){
	closeNav();
	closeNav1();
}

	function newBtn() {
		$('#createDate').html('');
		$("#myGrid").hide();
		$(".btn-hs").hide();
		$("#hideTbl").hide();
		$("#btnReset").hide();
		$("#demo").show();

		$('#createdDiv').attr("class", "grey-box");
		$('#divCreate').attr("class", "");

		$('#activityId').hide();

		$('#actionDiv').hide();
		
		$("#projectId").val("");
		$("#projectName").val("");
		$("#projectType").val("");
		$("#priority").val("");
		$("#projectDesc").val("");
		$("#dept").val("");
		$("#ownerId").val("");
		$("#startDate").val("");
		$("#endDate").val("");
		$('#budgetResourceSpend').val("");
		$('#budgetNonResourceSpend').val("");
		$('#budgetHour').val("");
		$(".mainSecond").hide();
		$("#main").hide();
		
		closeAllNav();
	}

	$(document).ready(function() {
		
		$(".mainSecond").hide();
		
		/*  $("#newBtn").click(function(){
		     $("#myGrid").hide();
		     $(".btn-hs").hide();
		     $("#hideTbl").hide();
		     $("#btnReset").hide();
		     $("#demo").show();
		 }) */

		$('#copyId').attr("disabled", true);
		$('#deleteId').attr("disabled", true);
		$('#uploadId').attr("disabled", true);
		$('#downloadId').attr("disabled", true);

		gridOptions.api.setRowData();
		gridOptions1.api.setRowData();
		gridOptions2.api.setRowData();


		$("#cancelBtn").click(function() {
			$("#myGrid").show();
			$(".btn-hs").show();
			$("#hideTbl").show();
			$("#btnReset").show();
			$("#demo").hide();
			$(".formValidation").remove();
			
			agGrid.simpleHttpRequest({
				url : 'view-projects-list'
			}).then(function(data1) {
				var len = data1.length;
				$('#totalReq').find('span').html(len);
				gridOptions.api.setRowData(data1);
			});
			
			$("#main").hide();
			
			closeAllNav();
		});

		$("#copycancelBtn").click(function() {
			$("#myGrid").show();
			$(".btn-hs").show();
			$("#hideTbl").show();
			$("#btnReset").show();
			$("#demo").hide();
		});

		$("#profilebtn").click(function() {
			$("#myTbl").hide();
			$(".btn-hs").hide();
			$("#profile").show();
		})
		$("#profilecancelbtn").click(function() {
			$("#myTbl").show();
			$(".btn-hs").show();
			$("#profile").hide();
		});

		$('.collapse').on('show.bs.collapse', function() {
			$(this).siblings('.panel-heading').addClass('active');
		});

		$('.collapse').on('hide.bs.collapse', function() {
			$(this).siblings('.panel-heading').removeClass('active');
		});

	});
</script>


<script type="text/javascript">
	$(document).ready(
			function() {

				$('input,textarea').focus(
						function() {
							$(this).data('placeholder',
									$(this).attr('placeholder')).attr(
									'placeholder', '');
						}).blur(function() {
					$(this).attr('placeholder', $(this).data('placeholder'));
				});

				agGrid.simpleHttpRequest({
					url : 'view-projects-list'
				}).then(function(data1) {
					var len = data1.length;
					$('#totalReq').find('span').html(len);
					gridOptions.api.setRowData(data1);
				});
				
			});

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}

	function openNav() {

		$('#saveId').attr("disabled", true);
		$('#cancelBtn').attr("disabled", true);
		
		document.getElementById("mySidenav1").style.cssText = "width: 350px; position: absolute; right:-70px; overflow: hidden; height:auto; top:440px;";

		document.getElementById("main").style.width = "72%";
	}

	function closeNav() {

		$('#saveId').attr("disabled", false);
		$('#cancelBtn').attr("disabled", false);

		$('#teamPlanId').val("");
		$('#employeeNmae').val("");
		$('#hourlyCost').val("");
		$('#billingRate').val("");
		$('#totalHour').val("");
		$('#location').val("");
		$("#search12").val("");
		$("#costCenterName1").text("");
		$("#costCenterId1").val("");
		$("#searchAcc").val("");
		$("#accountName").text("");
		$("#accountId").val("");
		$("#hiddenCost1").val("");
		$("#hiddenAccount").val("");
		
		document.getElementById("mySidenav1").style.width = "0";
		document.getElementById("main").style.width = "100%";
	}

	function openNav1() {

		$('#saveId').attr("disabled", true);
		$('#cancelBtn').attr("disabled", true);
		
		document.getElementById("mySidenav2").style.cssText = "width: 350px; position: absolute; right:-70px; overflow: hidden; height:auto; top:440px;";

		document.getElementById("main").style.width = "72%";
	}

	function closeNav1() {

		$('#saveId').attr("disabled", false);
		$('#cancelBtn').attr("disabled", false);
		
		$('#nonResourceId').val("");
		$('#itemId').val("");
		$('#locationNonResource').val("");
		$("#costCenterId").val("");
		$("#unitCost").val("");
		$("#noOfUnits").val("");
		$("#totalAmount").val("");
		$("#itemName").text("");
		$("#search").val("");
		$("#search2").val("");
		$("#costCenterName").text("");
		$("#costCenterId").val("");
		$("#hiddenCost2").val("");
		
		document.getElementById("mySidenav2").style.width = "0";
		document.getElementById("main").style.width = "100%";
	}

	//AG GRID 

	var columnDefs = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true
			},
			{
				headerName : "Project ID",
				cellRenderer : function(params) {
					return '<a id="editId" onclick=editProjects("'
							+ params.data.projectId
							+ '") href="javascript:void(0)">'
							+ params.data.projectId + '</a>';
				}
			}, {
				headerName : "Name",
				field : "projectName"
			}, {
				headerName : "Type",
				field : "projectType",
				cellRenderer : function(params) {
						return '<div>' + params.data.projectTypeName + '</div>';
				}
			}, {
				headerName : "Priority",
				field : "priority",
				cellRenderer : function(params) {
						return '<div>' + params.data.priorityName + '</div>';
				}
			}, {
				headerName : "Department",
				field : "dept"
			}, {
				headerName : "Owner",
				field : "projectOwner"
			}, {
				headerName : "Start Date",
				field : "startDate",
				cellStyle : {
					textAlign : 'center'
				}
			}, {
				headerName : "End Date",
				field : "startDate",
				cellStyle : {
					textAlign : 'center'
				}
			}, {
				headerName : "Budget Hours",
				field : "budgetHour",
				type:"rightAligned",
				valueFormatter: currencyFormatter
			}, {
				headerName : "Budget Spend",
				field : "budgetResourceSpend",
				type:"rightAligned",
				valueFormatter: currencyFormatter
			}, {
				headerName : "Create Date",
				field : "createdOn",
				cellStyle : {
					textAlign : 'center'
				}
			} ];

	function titlePage(id) {
		$("#myGrid").hide();
		$(".btn-hs").hide();
		$("#hideTbl").hide();
		$("#btnReset").hide();
		$('#activityId').show();

	}

	// let the grid know which columns and what data to use
	var gridOptions = {
		columnDefs : columnDefs,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 149,
			height : 10
		},
		rowSelection : 'multiple',
		onSelectionChanged : onSelectionChangedProject
	};

	function onSelectionChangedProject() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});

		if (rowCount > 0) {
			$('#copyId').attr("disabled", false);
			$('#deleteId').attr("disabled", false);
			$('#uploadId').attr("disabled", false);
			$('#downloadId').attr("disabled", false);

		} else {
			$('#copyId').attr("disabled", true);
			$('#deleteId').attr("disabled", true);
			$('#uploadId').attr("disabled", true);
			$('#downloadId').attr("disabled", true);

		}
	}

	function onQuickFilterChanged() {
		gridOptions.api
				.setQuickFilter(document.getElementById('quickFilter').value);
	}

	function deleteReq() {

		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += '"' + selectedRow.projectId + '"';
		});

		if (selectedRowsString) {

			$
					.ajax({
						type : "GET",
						url : "view-projects-delete?id="
								+ selectedRowsString,
						success : function(response) {
							if (response.message == "success") {
								agGrid.simpleHttpRequest({
									url : 'view-projects-list'
								}).then(function(data1) {
									var len = data1.length;
									$('#totalReq').find('span').html(len);
									gridOptions.api.setRowData(data1);
								});
								
								$("#delete").modal("hide");
							}
						},
						error : function(data) {
							console.log(data);
						}
					})
		} else {
			$("#modalMsg").text("Select an Project");
			$('#reqValid').modal('toggle');
		}

	}

	function copyBtn() {
		var status = 1;
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index == 0) {
				selectedRowsString += selectedRow.requisitionId;
				status = 1;
			} else {
				$('#modalMsg').text("");
				$('#reqValid').modal('toggle');
				$('#modalMsg').text("Select only one Requisition.");
				selectedRowsString = "";
				status = 0;
			}

		});
		if (status) {
			copyData(selectedRowsString);
		}

	}

	function copyData(selectedRowsString) {
		if (selectedRowsString) {
			$("#myGrid").hide();
			$(".btn-hs").hide();
			$("#hideTbl").hide();
			$('#reqId').val("");
			$('#createDate').html('');

			$.ajax({
				type : "GET",
				url : "view-new-requi-mstr-edit?id=" + selectedRowsString,
				success : function(response) {
					if (response.message == "Success") {
						var s1 = 0;
						var s2 = 0;
						for (i = 0; i < response.body.length; i++) {

							$('#jobTitle').val(response.body[i].jobTitle);
							$('#jobType').val(response.body[i].jobType);
							$('#location').val(response.body[i].jobLocation);
							$('#educationReq').val(
									response.body[i].minEducation);
							$('#dept').val(response.body[i].department);
							$('#hiringManager').val(
									response.body[i].hiringManager);
							$('#workHour').val(response.body[i].workHour);
							$('#band').val(response.body[i].band);
							$('#minSalary').val(response.body[i].minSalary);
							$('#maxSalary').val(response.body[i].maxSalary);
							$('#noPos').val(response.body[i].noPosition);

							var date = dateFormat(response.body[i].joinDate);
							document.getElementById("dateReq").value = date;

							$('#txtAreaSumN').val(
									response.body[i].positionSummary);
							txtLen = $('#txtAreaSumN').val().length;
							var pId1 = $('#txtAreaSumN').next().attr("id");
							$('#' + pId1 + ' span').empty();
							$('#' + pId1 + ' span').append(txtLen);
							$('#txtAreaResN').val(
									response.body[i].positionResponsibility);
							txtLen = $('#txtAreaResN').val().length;
							var pId2 = $('#txtAreaResN').next().attr("id");
							$('#' + pId2 + ' span').empty();
							$('#' + pId2 + ' span').append(txtLen);
							$('#txtAreaExpN').val(
									response.body[i].requiredSkillExperience);
							txtLen = $('#txtAreaExpN').val().length;
							var pId3 = $('#txtAreaExpN').next().attr("id");
							$('#' + pId3 + ' span').empty();
							$('#' + pId3 + ' span').append(txtLen);
							$("#" + response.body[i].reqBenefits).attr(
									"checked", "checked");
							if (response.body[i].approver != null
									&& response.body[i].approver != "") {
								$("#approvalCheck").attr("checked", "checked");
								s1 = 1;
							}
							if (response.body[i].about != null
									&& response.body[i].about != "") {
								$(".about").attr("checked", "checked");
								s2 = 1;
							}
						}
						if (s1 == 1) {
							approval();
						}
						if (s2 == 1) {
							about();
						}

						$("#demo").show()
					}
				},
				error : function(data) {
					console.log(data);
				}
			})
		} else {
			$('#reqValid').modal('toggle');
			$('#modalMsg').text("");
			$('#modalMsg').text("Select an Requisition.");
		}
	}

	// setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridDiv = document.querySelector('#myGrid');
		new agGrid.Grid(gridDiv, gridOptions);

		var gridDiv1 = document.querySelector('#myGrid1');
		new agGrid.Grid(gridDiv1, gridOptions1);

		var gridDiv2 = document.querySelector('#myGrid2');
		new agGrid.Grid(gridDiv2, gridOptions2);

	});
</script>

<script>
$(document).ready(function() {
	
	$("#browseBtn").click(function() {
		$("#myModal").modal('show');
		getCategoryList();
	})
});

function getCategoryList() {
	$("#productCategoryCBDiv").empty();
	$
			.ajax({
				type : "POST",
				url : "view-projects-product-category-get-total-list",
				dataType : "json",
				contentType : "application/json",
				success : function(response) {
					if (response.message == "Success") {

						if (response.body.length > 0) {

							var c = 0;
							$("#totalPCat").text(c);
							for (var i = 0; i < response.body.length; i++) {

								c = c + 1;

								if (response.body[i].nodeCount > 0) {
									var tbl = '<ul id="myUL_'+response.body[i].categoryId+'" data-field="1" class="level bg_white"><li id="li_'+response.body[i].categoryId+'"><span class="caret" value="0" id="spanA_'
											+ response.body[i].categoryId
											+ '" onclick=getRootLeafNodes("'
											+ response.body[i].categoryId
											+ '")></span> '
											+ '<span id="lbl_'+response.body[i].categoryId+'" class="leveltxt" level="'+response.body[i].catLevel+'">'
											+ response.body[i].categoryName
											+ '</span> '
											+ '<ul class="nested bg_white" id="ul_'+response.body[i].categoryId+'" data-field="0"></ul>'
											+ '</li></ul>';
								} else {
									var tbl = '<ul id="myUL_'+response.body[i].categoryId+'" data-field="1" class="level bg_white"><li id="li_'+response.body[i].categoryId+'"><span class="caret" value="0" id="spanA_'
											+ response.body[i].categoryId
											+ '" onclick=getRootLeafNodes("'
											+ response.body[i].categoryId
											+ '")></span> '
											+ '<div class="category"><input type="checkbox" id="cat_'
											+ response.body[i].categoryId
											+ '" class="pc1-box" value='
											+ response.body[i].categoryId
											+ ' onchange=selectCheckBox("'
											+ response.body[i].categoryId
											+ '","'
											+ response.body[i].catLevel
											+ '")></div><span id="lbl_'+response.body[i].categoryId+'" class="leveltxt" level="'+response.body[i].catLevel+'">'
											+ response.body[i].categoryName
											+ '</span> '
											+ '<ul class="nested bg_white" id="ul_'+response.body[i].categoryId+'" data-field="0"></ul>'
											+ '</li></ul>';
								}

								$("#productCategoryCBDiv").append(tbl);

								getRootLeafNodes(response.body[i].categoryId);
							}

							var prCategoryId = $("#prodCatId").val();
							$("#cat_" + prCategoryId).prop("checked",
									true);

						}
					} else {
						swal({
							title : response.code,
							text : response.message,
							type : "warning"
						})
					}
				},
				error : function(response) {
					console.log(response);
				}
			})
}

function getRootLeafNodes(id) {

	$("#ul_" + id).empty();

	var value = $("#spanA_" + id).attr("value");
	if (value == "0") {

		$
				.ajax({
					type : "POST",
					url : "view-projects-product-category-get-category-list-by-id",
					dataType : "json",
					contentType : "application/json",
					data : id,
					success : function(response) {
						if (response.message == "Success") {
							if (response.body.length > 0) {
								for (var i = 0; i < response.body.length; i++) {

									if (response.body[i].nodeCount > 0) {
										var tbl = '<li id="li_'+response.body[i].categoryId+'"><span class="caret" value="0" id="span_'
												+ response.body[i].categoryId
												+ '" onclick=getLeafNodes("'
												+ response.body[i].categoryId
												+ '")></span><span class="leveltxt" id="lbl_'+response.body[i].categoryId+'" level="'+response.body[i].catLevel+'"> '
												+ response.body[i].categoryName
												+ ' </span>'
												+ '<ul class="nested bg_white" id="ul_'+response.body[i].categoryId+'" data-field="0"></ul>'
												+ '</li>';
									} else {
										var tbl = '<li id="li_'+response.body[i].categoryId+'"><span class="caret" value="0" id="span_'
												+ response.body[i].categoryId
												+ '" onclick=getLeafNodes("'
												+ response.body[i].categoryId
												+ '")></span><div class="category"><input type="checkbox" id="cat_'
												+ response.body[i].categoryId
												+ '" class="pc1-box" value='
												+ response.body[i].categoryId
												+ '  onchange=selectCheckBox("'
												+ response.body[i].categoryId
												+ '","'
												+ response.body[i].catLevel
												+ '")></div><span class="leveltxt" id="lbl_'+response.body[i].categoryId+'" level="'+response.body[i].catLevel+'"> '
												+ response.body[i].categoryName
												+ ' </span>'
												+ '<ul class="nested bg_white" id="ul_'+response.body[i].categoryId+'" data-field="0"></ul>'
												+ '</li>';
									}

									$("#spanA_" + id).attr("value", "1");
									$("#spanA_" + id)
											.addClass("caret-down");
									$("#ul_" + id).addClass("active");

									$("#ul_" + id).append(tbl);

									getLeafNodes(response.body[i].categoryId);
								}

								var prCategoryId = $("#prodCatId").val();

								$("#cat_" + prCategoryId).prop("checked",
										true);

								//$("#ul_"+id).attr("data-field","1");
							}
						}

					},
					error : function(data) {
						$("#spanA_" + id).attr("value", "0");
						$("#spanA_" + id).removeClass("caret-down");
						$("#ul_" + id).removeClass("active");
						$("#ul_" + id).empty();
					}
				});
	} else {
		$("#spanA_" + id).attr("value", "0");
		$("#spanA_" + id).removeClass("caret-down");
		$("#ul_" + id).removeClass("active");
		$("#ul_" + id).empty();
	}
}

function getLeafNodes(id) {

	$("#ul_" + id).empty();

	var value = $("#span_" + id).attr("value");
	if (value == "0") {

		$
				.ajax({
					type : "POST",
					url : "view-projects-product-category-get-category-list-by-id",
					dataType : "json",
					contentType : "application/json",
					data : id,
					success : function(response) {
						if (response.message == "Success") {
							if (response.body.length > 0) {
								for (var i = 0; i < response.body.length; i++) {

									if (response.body[i].nodeCount > 0) {
										var tbl = '<li id="li_'+response.body[i].categoryId+'"><span class="caret" value="0" id="span_'
												+ response.body[i].categoryId
												+ '" onclick=getLeafNodes("'
												+ response.body[i].categoryId
												+ '")></span><span class="leveltxt" id="lbl_'+response.body[i].categoryId+'" level="'+response.body[i].catLevel+'"> '
												+ response.body[i].categoryName
												+ ' </span>'
												+ '<ul class="nested bg_white" id="ul_'+response.body[i].categoryId+'" data-field="0"></ul>'
												+ '</li>';
									} else {
										var tbl = '<li id="li_'+response.body[i].categoryId+'"><span class="caret" value="0" id="span_'
												+ response.body[i].categoryId
												+ '" onclick=getLeafNodes("'
												+ response.body[i].categoryId
												+ '")></span><div class="category"><input type="checkbox" id="cat_'
												+ response.body[i].categoryId
												+ '" class="pc1-box" value='
												+ response.body[i].categoryId
												+ '  onchange=selectCheckBox("'
												+ response.body[i].categoryId
												+ '","'
												+ response.body[i].catLevel
												+ '")></div><span class="leveltxt" id="lbl_'+response.body[i].categoryId+'" level="'+response.body[i].catLevel+'"> '
												+ response.body[i].categoryName
												+ ' </span>'
												+ '<ul class="nested bg_white" id="ul_'+response.body[i].categoryId+'" data-field="0"></ul>'
												+ '</li>';
									}

									$("#span_" + id).attr("value", "1");
									$("#span_" + id).addClass("caret-down");
									$("#ul_" + id).addClass("active");
									//var df = $("#ul_"+id).attr("data-field");
									//if(df == 0) {
									$("#ul_" + id).append(tbl);
									//}
									getLeafNodes(response.body[i].categoryId);
								}

								var prCategoryId = $("#prodCatId").val();
								if (prCategoryId) {
									$("#cat_" + prCategoryId).prop(
											"checked", true);
									getProductByCategory();
								}
							}
						}

					},
					error : function(data) {
						$("#span_" + id).attr("value", "0");
						$("#span_" + id).removeClass("caret-down");
						$("#ul_" + id).removeClass("active");
						$("#ul_" + id).empty();
						$("#ul_" + id).empty();
					}
				});
	} else {
		$("#span_" + id).attr("value", "0");
		$("#span_" + id).removeClass("caret-down");
		$("#ul_" + id).removeClass("active");
		$("#ul_" + id).empty();
	}
}

function selectCheckBox(id, lvl) {
	getProductByCategory();

	if (lvl == 'L1') {
		var textDesc = $("#lbl_" + id).text();
		$("#catDesc").text(textDesc);
	} else {
		var res = lvl.substring(1, 1000000);

		var lastText = $("#lbl_" + id).text();
		var textDesc = "";
		for (i = res; i > 1; i--) {
			var pUL = $("#lbl_" + id).parents("ul").attr("id");
			pUL = pUL.substring(3, 10000000000000);
			var newText = $("#lbl_" + pUL).text();
			textDesc = newText + " > " + textDesc;
			id = pUL;
		}
		textDesc = textDesc + lastText;
		$("#catDesc").text(textDesc);
	}
}

function getProductByCategory() {
	var valor = "";
	$('input.pc1-box[type=checkbox]').each(function() {
		if (this.checked)
			valor = valor + $(this).val() + ",";
	});
	if (valor) {
		$("#select_product").empty();
		$
				.ajax({
					type : "POST",
					url : "view-projects-get-product-by-cat",
					dataType : 'json',
					contentType : 'application/json',
					data : valor,
					success : function(response) {
						if (response.message == "success") {
							$("#select_product").empty();
							var content = '';
							for (var i = 0; i < response.body.length; i++) {

								content += '<div class="autocompletedata cp product-item" id="'
										+ response.body[i].productId
										+ "_"
										+ response.body[i].sku
										+ '" onClick=selectActive("'
										+ response.body[i].productId
										+ "_"
										+ response.body[i].sku
										+ '","'
										+ response.body[i].sku
										+ '","'
										+ response.body[i].productId
										+ '","'
										+ encodeURIComponent(response.body[i].productName)
										+ '","'
										+ response.body[i].brandId
										+ '","'
										+ response.body[i].brandName
										+ '","'
										+ response.body[i].productCatId
										+ '","'
										+ response.body[i].productCatName
										+ '")>'
										+ response.body[i].sku
										+ " - "
										+ response.body[i].brandName
										+ " - "
										+ response.body[i].productName
										+ '</div>';
							}
							content += '</ul>';
							$("#select_product").show();
							$("#select_product").append(content);

							var itemId = $("#itemId").val();
							var skuId = $("#sku").html();

							if (itemId) {
								$("#" + itemId + "_" + skuId).addClass(
										'productActive');
							}

						}
					},
					error : function(data) {

					}
				})
	} else {
		$("#select_product").empty();
	}
}

function getProductList() {
	
	var search = $("#search").val();
	if (search) {
		$
				.ajax({
					type : "POST",
					url : "view-projects-get-product-list",
					dataType : 'json',
					contentType : 'application/json',
					data : search,
					success : function(response) {
						if (response.message == "success") {

							if (response.body.length != 0) {
								$("#search").css("background", "#FFF");
								var content = '<ul id="autocomplete-list1" style="margin-left:-40px; font-weight:100; font-size:14px; color:#ccc;">';
								for (var i = 0; i < response.body.length; i++) {
									content += '<li class="autocompletedata cp" onClick="selectAutocompleteValue1(\''
											+ response.body[i].itemId
											+ '\',\''
											+ response.body[i].itemName
											+ '\',\''
											+ response.body[i].sku
											+ '\',\''
											+ response.body[i].brandName
											+ '\',\''
											+ response.body[i].brand
											+ '\',\''
											+ response.body[i].itemCategoryId
											+ '\',\''
											+ response.body[i].itemCategoryName
											+ '\')">'
											+ response.body[i].itemName
											+ '('
											+ response.body[i].sku
											+ ')'
											+ '('
											+ response.body[i].brandName
											+ ')' + '</li>';
								}
								content += '</ul>';
								$("#suggesstion-box1_").show();
								$("#suggesstion-box1_").html(content);

							} else {
								$("#search").css("background", "#FFF");
								var content = '<ul id="autocomplete-list1">';
								content += '<li onClick="selectAutocompleteValue()">'
										+ "No Data Found" + '</li>';
								content += '</ul>';
								$("#suggesstion-box1_").show();
								$("#suggesstion-box1_").html(content);
							}
						}
					},
					error : function(data) {
						console.log(data);
					}
				})
	}
}

function selectAutocompleteValue1(key, name, sku, brandName, brand,
		prodcatId, prodCatName) {

	if (key) {
		$("#itemName").html(name);
		$("#itemId").val(key);
		$("#brandName").html(brandName);
		$("#brandId").val(brand);
		$("#prodCatId").val(prodcatId);
		$("#prodCatName").val(prodCatName);
		$("#sku").html(sku);
		$("#search").val(name)
		$("#search").attr('data-procat', key);
		$("#suggesstion-box1_").hide();
		//checkForDuplicate(key,counter);

	} else {

		$("#itemName").html("");
		$("#itemId").val("");
		$("#brandId").html("");
		$("#brandId").val("");
		$("#sku").html("");
		$("#prodCatId").val('');
		$("#prodCatName").val('');
		$("#search").val("");
		$("#search").attr('data-procat', "");
		$("#suggesstion-box1_").hide();

	}
}
function selectAutocompleteValue() {
	$("#itemName").html("");
	$("#itemId").val("");
	$("#brandId").val("");
	$("#brandName").html("");
	$("#sku").html("");
	$("#search").val("");
	$("#search").attr('data-procat', "");
	$("#suggesstion-box1_").hide();

}

function clearSearchData() {
	$("#search").val(null);
	$("#itemId").html('');
	$("#itemName").html('');
}

function selectActive(id, sku, productId, productName, brandId, brandName,
		prodCatId, prodCatName) {
	var splitArray = productName.split('%20');
	var finalString = "";
	for (i = 0; i < splitArray.length; i++) {
		finalString += splitArray[i] + " ";
	}
	$('.autocompletedata ').removeClass('productActive');
	$("#" + id).addClass('productActive');
	$("#itemNameTemp").val(finalString);
	$("#itemIdTemp").val(productId);
	$("#brandNameTemp").val(brandName);
	$("#brandIdTemp").val(brandId);
	$("#skuTemp").val(sku);
	$("#prodCatIdTemp").val(prodCatId);
	$("#prodCatNameTemp").val(prodCatName);
	$("#searchTemp").val(productName)

}
function selectProductVal() {
	$("#itemName").html($("#itemNameTemp").val());
	$("#itemId").val($("#itemIdTemp").val());
	$("#brandName").html($("#brandNameTemp").val());
	$("#brandId").val($("#brandIdTemp").val());
	$("#prodCatId").val($("#prodCatIdTemp").val());
	$("#prodCatName").val($("#prodCatNameTemp").val());
	$("#sku").html($("#skuTemp").val());
	$("#search").val($("#itemNameTemp").val())
	$("#select_product").html('');
	$('#myModal').modal('hide');
}

</script>

<script type="text/javascript">

function calDuration(){
	var dt1 = new Date($("#startDate").val());
	var dt2 = new Date($("#endDate").val()); 

     //calculate time difference  
     var date1 = dt1.getTime();
     var date2 = dt2.getTime();
     
     console.log(date1)
     console.log(date2)
     
     var time_difference =  parseInt(date2) - parseInt(date1);

     var tt = parseInt(time_difference) / 1000;
     //calculate days difference by dividing total milliseconds in a day  
     var days_difference = tt / (60 * 60 * 24 * 7); 
	  
     var days = ((Math.round(days_difference) * 7 - tt / (60 * 60 * 24)));
 
	 $("#duration").text(Math.round(days_difference) + " Weeks " + days + " Days");
}


function saveProjectDetails(){
	var obj = {};
	
	var budgetResourceSpend = parseFloat($('#budgetResourceSpend').val().replace(/\D/g,''));
	var budgetNonResourceSpend = parseFloat($('#budgetNonResourceSpend').val().replace(/\D/g,''));
	var budgetHour = parseFloat($('#budgetHour').val().replace(/\D/g,''));
	
	var validAll = true;
	if (!validationUpdated("Project Name Required", "projectName")) {
		validAll = false;
	}
	if (!validationUpdated("Start Date Required", "startDate")) {
		validAll = false;
	}
	if (!validationUpdated("End Date Required", "endDate")) {
		validAll = false;
	}
	if (!validationUpdated("Owner Name Required", "ownerId")) {
		validAll = false;
	}
	
	obj.projectId = $("#projectId").val();
	obj.projectName = $("#projectName").val();
	obj.projectType = $("#projectType").val();
	obj.priority = $("#priority").val();
	obj.projectDesc = $("#projectDesc").val();
	obj.dept = $("#dept").val();
	obj.projectOwner = $("#ownerId").val();
	obj.startDate = $("#startDate").val();
	obj.endDate = $("#endDate").val();
	obj.budgetHour = budgetHour;
	obj.budgetResourceSpend = budgetResourceSpend;
	obj.budgetNonResourceSpend = budgetNonResourceSpend;
	
	console.log(obj)
	if(validAll){
		$('.loader').show();
		$("body").addClass("overlay");
		
		$.ajax({
			type : "POST",
			url : "view-projects-add-ajax",
			contentType : "application/json",
			data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "Success") {
					
					console.log(response.body)
					$('.loader').hide();
					$("body").removeClass("overlay");
					
					$('#candMsg').text("");
					$('#candValid').modal('toggle');
					$('#candMsg').text("Data Saved Successfully");
					
					$('#projectId').val(response.body.projectId);
					$('#project').text(response.body.projectId);
					
					$(".mainSecond").show();
					$("#main").show();
					$("#myGrid1").show();
				}
			},
			error : function(data) {
				$('.loader').hide();
				$("body").removeClass("overlay");	
				console.log(data);
			}
		}) //ajax ends
	}
	
}

var allocateHr = 0;
var allocateBudget = 0;
var availableHr = 0;
var availableBudget = 0;

function editProjects(id){
	
	allocateHr = 0;
	allocateBudget = 0;
	availableHr = 0;
	availableBudget = 0;
	
	agGrid.simpleHttpRequest({
		url : 'view-projects-teamplan-list?id=' + id
	}).then(function(data1) {
		var len = data1.length;
		for(var i = 0; i<len; i++){
			allocateHr = allocateHr + parseInt(data1[i].totalHour);
			var x = parseInt(data1[i].totalHour) * parseFloat(data1[i].hourlyCost);
			allocateBudget = allocateBudget + x;	
		}
		
		availableHr = parseFloat($('#budgetHour').val().replace(/\D/g,'')) - allocateHr;
		$('#availableHour').text(Number(availableHr).toLocaleString());
		
		availableBudget = parseFloat($('#budgetResourceSpend').val().replace(/\D/g,'')) - allocateBudget;
		$("#availableResourceSpend").text(Number(availableBudget).toLocaleString());
		
		$('#allocatedHours').text(Number(allocateHr).toLocaleString());
		$('#allocatedResourceSpend').text(Number(allocateBudget).toLocaleString());
		gridOptions1.api.setRowData(data1);
	});
	
	agGrid.simpleHttpRequest({
		url : 'view-projects-nonResource-list?id=' + id
	}).then(function(data1) {
		gridOptions2.api.setRowData(data1);
	});
	
	$('#createDate').html('');
	$("#myGrid").hide();
	$(".btn-hs").hide();
	$("#hideTbl").hide();
	$("#btnReset").hide();
	$("#demo").show();
	//$('#createdDiv').attr("class", "grey-box");
	//$('#divCreate').attr("class", "");
	$('#actionDiv').show();
	
	$.ajax({
		type : "GET",
		url : "view-projects-edit?id=" + id,
		async: false,
		success : function(response) {
			console.log(response)
		if (response.message == "Success") {
			
			for(i = 0; i< response.body.length; i++){

				$('#project').text(response.body[i].projectId);
				$("#projectId").val(response.body[i].projectId);
				$("#projectName").val(response.body[i].projectName);
				$("#projectType").val(response.body[i].projectType);
				$("#priority").val(response.body[i].priority);
				$("#projectDesc").val(response.body[i].projectDesc);
				$("#dept").val(response.body[i].dept);
				$("#ownerId").val(response.body[i].projectOwner);
				$('#budgetResourceSpend').val(Number((response.body[i].budgetResourceSpend)).toLocaleString());
				$('#budgetNonResourceSpend').val(Number((response.body[i].budgetNonResourceSpend)).toLocaleString());
				$('#budgetHour').val(Number((response.body[i].budgetHour)).toLocaleString());
				
				var dateStart = dateFormat(response.body[i].startDate);
				document.getElementById("startDate").value = dateStart;
				 
				var dateEnd = dateFormat(response.body[i].endDate);
				document.getElementById("endDate").value = dateEnd;
			
				$('#createdDate').html(response.body[i].createdOn);
				$('#createdDiv').attr("class","green-box");
				$('#divCreate').attr("class","green-box-heading");
				
				$(".mainSecond").show();
				$("#main").show();
				$("#myGrid1").show();
		
				calDuration();
		}
		}
		},
		error : function(data) {
		console.log(data);
		}
	});
}

function saveTeamPlan(){ /*  $('#').val(); */
	obj = {};
	
	obj.projectId = $('#projectId').val();
	obj.teamPlanId = $('#teamPlanId').val();
	obj.employeeId = $('#employeeNmae').val();
	obj.employeeName = $('#employeeNmae').find(":selected").text();
	obj.hourlyCost = $('#hourlyCost').val();
	obj.billingRate = $('#billingRate').val();
	obj.totalHour = $('#totalHour').val();
	obj.location = $('#location').val();
	obj.costCenter = $("#costCenterId1").val();
	obj.chartOfAccount = $("#accountId").val();

	var id = $('#projectId').val();
	
	$.ajax({
		type : "POST",
		url : "view-projects-add-teamplan",
		contentType : "application/json",
		data : JSON.stringify(obj),
		success : function(response) {
			if (response.message == "Success") {
				
				allocateHr = 0;
				allocateBudget = 0;
				availableHr = 0;
				availableBudget = 0;
				
				closeNav();
				agGrid.simpleHttpRequest({
					url : 'view-projects-teamplan-list?id=' + id
				}).then(function(data1) {
					var len = data1.length;
					for(var i = 0; i<len; i++){
						allocateHr = allocateHr + parseInt(data1[i].totalHour);
						var x = parseInt(data1[i].totalHour) * parseFloat(data1[i].hourlyCost);
						allocateBudget = allocateBudget + x;	
					}
					
					availableHr = parseFloat($('#budgetHour').val().replace(/\D/g,'')) - allocateHr;
					$('#availableHour').text(Number(availableHr).toLocaleString());
					
					availableBudget = parseFloat($('#budgetResourceSpend').val().replace(/\D/g,'')) - allocateBudget;
					$("#availableResourceSpend").text(Number(availableBudget).toLocaleString());
					
					$('#allocatedHours').text(Number(allocateHr).toLocaleString());
					$('#allocatedResourceSpend').text(Number(allocateBudget).toLocaleString());
					gridOptions1.api.setRowData(data1);
				});
			}
		},
		error : function(data) {
			console.log(data);
		}
	}) //ajax ends
	
}

var columnDefs1 = [

	{
		headerName : "Employee ID", /* field: "requisitionId", */
		cellRenderer : function(params) {
			return '<a href="javascript:void(0)">' + params.data.employeeId + '</a>';
		}
	}, {
		headerName : "Name",
		field : "employeeName"
	}, {
		headerName : "Internal Hourly Cost",
		field : "hourlyCost",
		valueFormatter: currencyFormatter
	}, {
		headerName : "Billing Rate",
		field : "billingRate",
		valueFormatter: currencyFormatter
	}, {
		headerName : "Total hours allocated",
		field : "totalHour",
		valueFormatter: currencyFormatter
	}, {
		headerName : "Location",
		field : "location",
		cellRenderer : function(params) {
			return '<a>' + params.data.locationName + '</a>';
		}
	}, {
		headerName : "Cost Center",
		field : "costCenter",
		cellRenderer : function(params) {
			return '<a>' + params.data.costCenterName + '</a>';
		}
	}, {
		headerName : "Account",
		field : "chartOfAccount",
		cellRenderer : function(params) {
			return '<a>' + params.data.chartOfAccountName + '</a>';
		}
	}, {
		headerName : "Create Date",
		field : "createdOn",
		cellStyle : {
			textAlign : 'center'
		}
	} ];

	var gridOptions1 = {
		columnDefs : columnDefs1,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 149,
			height : 10
		},
		rowSelection : 'single',
		onSelectionChanged : onSelectionChangedProjectTeamPlan
	};
	
	function onSelectionChangedProjectTeamPlan(){
		
		openNav();
		
		var selectedNodes= gridOptions1.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);

		$('#teamPlanId').val(selectedData.map(node => node.teamPlanId));
		$('#employeeNmae').val(selectedData.map(node => node.employeeId));
		$('#hourlyCost').val(selectedData.map(node => node.hourlyCost));
		$('#billingRate').val(selectedData.map(node => node.billingRate));
		$('#totalHour').val(selectedData.map(node => node.totalHour));
		$('#location').val(selectedData.map(node => node.location));
		$("#search12").val(selectedData.map(node => node.costCenterName));
		$("#costCenterName1").text(selectedData.map(node => node.costCenterName));
		$("#costCenterId1").val(selectedData.map(node => node.costCenter));
		$("#searchAcc").val(selectedData.map(node => node.chartOfAccountName));
		$("#accountName").text(selectedData.map(node => node.chartOfAccountName));
		$("#accountId").val(selectedData.map(node => node.chartOfAccount));
		
		$("#hiddenCost1").val("ccCheck_"+selectedData.map(node => node.costCenter));
		$("#hiddenAccount").val("ccCheck_"+selectedData.map(node => node.chartOfAccount));
		
	}
	
	function deleteTeamPlan(){
		var id = $('#projectId').val();
		
		var selectedRows = gridOptions1.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += '"' + selectedRow.teamPlanId + '"';
		});

		if (selectedRowsString) {

			$.ajax({
				type : "GET",
				url : "view-projects-teamplan-delete?id=" + selectedRowsString,
				success : function(response) {
					if (response.message == "Success") {
						allocateHr = 0;
						allocateBudget = 0;
						availableHr = 0;
						availableBudget = 0;
						
						closeNav();
						agGrid.simpleHttpRequest({
							url : 'view-projects-teamplan-list?id=' + id
						}).then(function(data1) {
							var len = data1.length;
							for(var i = 0; i<len; i++){
								allocateHr = allocateHr + parseInt(data1[i].totalHour);
								var x = parseInt(data1[i].totalHour) * parseFloat(data1[i].hourlyCost);
								allocateBudget = allocateBudget + x;	
							}
							
							availableHr = parseFloat($('#budgetHour').val().replace(/\D/g,'')) - allocateHr;
							$('#availableHour').text(Number(availableHr).toLocaleString());
							
							availableBudget = parseFloat($('#budgetResourceSpend').val().replace(/\D/g,'')) - allocateBudget;
							$("#availableResourceSpend").text(Number(availableBudget).toLocaleString());
							
							$('#allocatedHours').text(Number(allocateHr).toLocaleString());
							$('#allocatedResourceSpend').text(Number(allocateBudget).toLocaleString());
							gridOptions1.api.setRowData(data1);
						});
						
					}
				},
				error : function(data) {
					console.log(data);
				}
			})
		} else {
			$("#modalMsg").text("Select an Employee");
			$('#reqValid').modal('toggle');
		}
	}
	
	//Non-Resource Plan
	var columnDefs2 = [

	{
		headerName : "Product ID", /* field: "requisitionId", */
		cellRenderer : function(params) {
			return '<a href="javascript:void(0)">' + params.data.productId + '</a>';
		}
	}, {
		headerName : "Name",
		field : "productName"
	}, {
		headerName : "Unit Cost",
		field : "unitCost",
		type:"rightAligned",
		//valueFormatter: currencyFormatter
	}, {
		headerName : "No of Units",
		field : "noOfUnits",
		type:"rightAligned",
		valueFormatter: currencyFormatter
	}, {
		headerName : "Total Amount",
		field : "totalAmount",
		type:"rightAligned",
		//valueFormatter: currencyFormatter
	}, {
		headerName : "Location",
		field : "locationNonResource",
		cellRenderer : function(params) {
			return '<a>' + params.data.nonResourceLocationName + '</a>';
		}
	}, {
		headerName : "Cost Center",
		field : "nonResourceCostCenter",
		cellRenderer : function(params) {
			return '<a>' + params.data.nonResourceCostCenterName + '</a>';
		}
	}, {
		headerName : "Create Date",
		field : "createdOn",
		cellStyle : {
			textAlign : 'center'
		}
	} ];

	var gridOptions2 = {
		columnDefs : columnDefs2,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 249,
			height : 10
		},
		rowSelection : 'single',
		onSelectionChanged : onSelectionChangedProjectNonResource
	};
	
	function saveNonResource(){
		var obj = {};
		
		obj.projectId = $('#projectId').val();
		obj.nonResourceId = $('#nonResourceId').val();
		obj.productId = $('#itemId').val();
		obj.locationNonResource = $('#locationNonResource').val();
		obj.nonResourceCostCenter = $("#costCenterId").val();
		obj.unitCost = $("#unitCost").val();
		obj.noOfUnits = $("#noOfUnits").val();
		obj.totalAmount = $("#totalAmount").val();
		
		var id = $('#projectId').val();
		
		$.ajax({
			type : "POST",
			url : "view-projects-add-nonResource",
			contentType : "application/json",
			data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "Success") {
					
					closeNav1();
					agGrid.simpleHttpRequest({
						url : 'view-projects-nonResource-list?id=' + id
					}).then(function(data1) {
						gridOptions2.api.setRowData(data1);
					});
				}
			},
			error : function(data) {
				console.log(data);
			}
		}) //ajax ends
	}
	
	function onSelectionChangedProjectNonResource(){
		openNav1();
		
		var selectedNodes= gridOptions2.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);

		$('#projectId').val(selectedData.map(node => node.projectId));
		$('#nonResourceId').val(selectedData.map(node => node.nonResourceId));
		$('#itemId').val(selectedData.map(node => node.productId));
		$('#locationNonResource').val(selectedData.map(node => node.locationNonResource));
		$("#costCenterId").val(selectedData.map(node => node.nonResourceCostCenter));
		$("#unitCost").val(selectedData.map(node => node.unitCost));
		$("#noOfUnits").val(selectedData.map(node => node.noOfUnits));
		$("#totalAmount").val(selectedData.map(node => node.totalAmount));
		$("#itemName").text(selectedData.map(node => node.productName));
		$("#search").val(selectedData.map(node => node.productName));
		$("#search2").val(selectedData.map(node => node.nonResourceCostCenterName));
		$("#costCenterName").text(selectedData.map(node => node.nonResourceCostCenterName));
		$("#costCenterId").val(selectedData.map(node => node.nonResourceCostCenter));
		
		$("#hiddenCost2").val("ccCheck_"+selectedData.map(node => node.nonResourceCostCenter));

	}

	function deleteNonResource(){
		var id = $('#projectId').val();
		
		var selectedRows = gridOptions2.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += '"' + selectedRow.nonResourceId + '"';
		});

		if (selectedRowsString) {

			$.ajax({
				type : "GET",
				url : "view-projects-nonResource-delete?id=" + selectedRowsString,
				success : function(response) {
					if (response.message == "Success") {
						
						closeNav1();
						agGrid.simpleHttpRequest({
							url : 'view-projects-nonResource-list?id=' + id
						}).then(function(data1) {
							gridOptions2.api.setRowData(data1);
						});
						
					}
				},
				error : function(data) {
					console.log(data);
				}
			})
		} else {
			$("#modalMsg").text("Select a Product");
			$('#reqValid').modal('toggle');
		}
	}
	
	function calTotalAmount(){
		
		var unitCost = $("#unitCost").val();
		var units = $("#noOfUnits").val();
		
		var total = 0.0;
		total = unitCost * units;
		
		$("#totalAmount").val(total);
	}
</script>

<script>
function getCostCenterList(no){
	
	if(no == 1){
		$("#modalCostCenter").modal('show');
		$("#costCeneterCBDiv").empty();
		$("#costCeneterCBDiv1").empty();
		obj = {};
		obj.year = "2021";
		dataset = "Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan";
		obj.id = dataset;
		$.ajax({
	        type: "POST",
	        url: "view-projects-get-cc-list",
	        dataType: "json",
	        contentType: "application/json",
	        data: JSON.stringify(obj),
	        success: function(response) {
	            if (response.message == "success") {
	            	console.log(response.body)
	            	for(var i = 0; i < response.body.length; i++) {
	            		var row = "";
	            		if(i == 0) {
	            			if(response.body[i].count > 0) {
	            				row = '<tr data-node-id="'+response.body[i].id+'" class="abc" id="'+response.body[i].id+'">'+
	    						'<td class="firstnode">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
	            			} else {
	            				row = '<tr data-node-id="'+response.body[i].id+'" class="abc" id="'+response.body[i].id+'">'+
	    						'<td class="firstnode"><input class="benefitChk" type="checkbox" id="ccCheck_'+ response.body[i].id +'" value="'+ response.body[i].id +
	    						'" name="'+ response.body[i].name +'" onclick="getCostCeneter(this.id)">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
	            			}
	            			
	            		} else {
	            			if(response.body[i].count > 0) {
	            				row = '<tr data-node-id="'+response.body[i].id+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].id+'">'+
	    						'<td class="firstnode">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
	            			} else {
	            				
	            					row = '<tr data-node-id="'+response.body[i].id+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].id+'">'+
	        						'<td class="firstnode"><input class="benefitChk" type="checkbox" id="ccCheck_'+ response.body[i].id +'" value="'+ response.body[i].id +'" name="'+
	        						response.body[i].name +'" onclick="getCostCeneter(this.id)">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
	            			}
	            		}
						$("#costCeneterCBDiv").append(row);
						
						
						var id = $("#hiddenCost1").val();
						if(id != null && id != ""){
							$("#"+id).attr("checked","checked");
						}
	            	}
	            	
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	            	
	            	$('#basic').simpleTreeTable({
	            	    expander: $('#expander'),
	            	    collapser: $('#collapser'),
	            	    store: 'session',
	            		storeKey: 'simple-tree-table-basic'
	            	});
	            }
	        }, error: function(data) {
	        	console.log(data)
	        	$('.loader').hide();
	        	$("body").removeClass("overlay");
	        }
		});
		
		
	} else if(no == 2){
		$("#modalCostCenter1").modal('show');
		$("#costCeneterCBDiv1").empty();
		$("#costCeneterCBDiv").empty();
		obj = {};
		obj.year = "2021";
		dataset = "Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan","Jan";
		obj.id = dataset;
		$.ajax({
	        type: "POST",
	        url: "view-projects-get-cc-list",
	        dataType: "json",
	        contentType: "application/json",
	        data: JSON.stringify(obj),
	        success: function(response) {
	            if (response.message == "success") {
	            	console.log(response.body)
	            	for(var i = 0; i < response.body.length; i++) {
	            		var row = "";
	            		if(i == 0) {
	            			if(response.body[i].count > 0) {
	            				row = '<tr data-node-id="'+response.body[i].id+'" class="abc" id="'+response.body[i].id+'">'+
	    						'<td class="firstnode">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
	            			} else {
	            				row = '<tr data-node-id="'+response.body[i].id+'" class="abc" id="'+response.body[i].id+'">'+
	    						'<td class="firstnode"><input class="benefitChk" type="checkbox" id="ccCheck_'+ response.body[i].id +'" value="'+ response.body[i].id +
	    						'" name="'+ response.body[i].name +'" onclick="getCostCeneter(this.id)">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
	            			}
	            			
	            		} else {
	            			if(response.body[i].count > 0) {
	            				row = '<tr data-node-id="'+response.body[i].id+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].id+'">'+
	    						'<td class="firstnode">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
	            			} else {
	            				
	            					row = '<tr data-node-id="'+response.body[i].id+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].id+'">'+
	        						'<td class="firstnode"><input class="benefitChk" type="checkbox" id="ccCheck_'+ response.body[i].id +'" value="'+ response.body[i].id +'" name="'+
	        						response.body[i].name +'" onclick="getCostCeneter(this.id)">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
	            			}
	            		}
						$("#costCeneterCBDiv1").append(row);
						
						var id = $("#hiddenCost2").val();
						if(id != null && id != ""){
							$("#"+id).attr("checked","checked");
						}
	            	}
	            	
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	            	
	            	$('#basic1').simpleTreeTable({
	            	    expander: $('#expander'),
	            	    collapser: $('#collapser'),
	            	    store: 'session',
	            		storeKey: 'simple-tree-table-basic'
	            	});
	            }
	        }, error: function(data) {
	        	console.log(data)
	        	$('.loader').hide();
	        	$("body").removeClass("overlay");
	        }
		});
	}
}

//Cost Center modal select
var checkId = "";

function getCostCeneter(id){
	
	$(".benefitChk").prop("checked",false);
	document.getElementById(id).checked = true;
	checkId = id;
	
}

function selectCostCenter(){
	
	$("#costCenterId1").val("");
	$("#costCenterName1").html("");
	$("#search12").val();
	$("#"+checkId).attr("checked","checked");
	
	$("#hiddenCost1").val(checkId);
	
	$("#costCenterId1").val($("#"+checkId).val());
	$("#costCenterName1").html($('#'+checkId).prop('name'));
	$("#search12").val($('#'+checkId).prop('name'));
	
	$('#modalCostCenter').modal('hide');
}

function selectCostCenter1(){
	
	$("#costCenterId").val("");
	$("#costCenterName").html("");
	$("#search2").val();
	$("#"+checkId).attr("checked","checked");
	
	$("#hiddenCost2").val(checkId);
	
	$("#costCenterId").val($("#"+checkId).val());
	$("#costCenterName").html($('#'+checkId).prop('name'));
	$("#search2").val($('#'+checkId).prop('name'));
	
	$('#modalCostCenter1').modal('hide');
}

//Chart of Account

function getAccountList(){
	$("#modalChartAccount").modal('show');
	$("#chartAccountCBDiv").empty();
	
	$.ajax({
        type: "GET",
        url: "view-projects-get-ca-list",
        success: function(response) {
            if (response.message == "Success") {
            	console.log(response.body)
            	for(var i = 0; i < response.body.length; i++) {
            		var row = "";
            		if(i == 0) {
            			if(response.body[i].count > 0) {
            				row = '<tr data-node-id="'+response.body[i].id+'" class="abc" id="'+response.body[i].id+'">'+
    						'<td class="firstnode">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
            			} else {
            				row = '<tr data-node-id="'+response.body[i].id+'" class="abc" id="'+response.body[i].id+'">'+
    						'<td class="firstnode"><input class="benefitChk" type="checkbox" id="ccCheck_'+ response.body[i].id +'" value="'+ response.body[i].id +
    						'" name="'+ response.body[i].name +'" onclick="getChartAccount(this.id)">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
            			}
            			
            		} else {
            			if(response.body[i].count > 0) {
            				row = '<tr data-node-id="'+response.body[i].id+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].id+'">'+
    						'<td class="firstnode">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
            			} else {
            				
            					row = '<tr data-node-id="'+response.body[i].id+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].id+'">'+
        						'<td class="firstnode"><input class="benefitChk" type="checkbox" id="ccCheck_'+ response.body[i].id +'" value="'+ response.body[i].id +'" name="'+
        						response.body[i].name +'" onclick="getChartAccount(this.id)">'+response.body[i].slNo+' - '+response.body[i].name+'</td></tr>';
            			}
            		}
					$("#chartAccountCBDiv").append(row);
					
					var id = $("#hiddenAccount").val();
					if(id != null && id != ""){
						$("#"+id).attr("checked","checked");
					}
					
            	}
            	
            	$('.loader').hide();
            	$("body").removeClass("overlay");
            	
            	$('#accountBasic').simpleTreeTable({
            	    expander: $('#expander'),
            	    collapser: $('#collapser'),
            	    store: 'session',
            		storeKey: 'simple-tree-table-basic'
            	});
            }
        }, error: function(data) {
        	console.log(data)
        	$('.loader').hide();
        	$("body").removeClass("overlay");
        }
	});
}

//Chart of Account modal select
var checkIdAcc = "";

function getChartAccount(id){
	$("#accountId").val("");
	$("#accountName").html("");
	$("#searchAcc").val();
	
	$(".benefitChk").prop("checked",false);
	document.getElementById(id).checked = true;
	checkIdAcc = id;
	$("#hiddenAccount").val(id);
}
function selectChartAccount(){
	
	$("#accountId").val($("#"+checkIdAcc).val());
	$("#accountName").html($('#'+checkIdAcc).prop('name'));
	$("#searchAcc").val($('#'+checkIdAcc).prop('name'));
	
	$('#modalChartAccount').modal('hide');
}

</script>

</head>
<body>
	<div layout:fragment="content" class="maincontent">

		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">

						<div class="row margin_topbot" id="hideTbl">
							
								<div class="input-style row">
									<input type="text" placeholder="Search.." name="search"
										class="searchboxinput" onkeyup="cancelBar()"
										oninput="onQuickFilterChanged()" id="quickFilter">
									<div class="searchicon">
										<a href="javascript: void(0)"><span
											style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
											id="closeKey"
											onclick="gridOptions.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKey').style.display='none';"
											class="close_i"><i class="ti-close srchicon"></i></span></a><a
											href="javascript: void(0)"><i class="ti-search srchicon"></i></a>
									</div>
								</div>
							
						</div>
						<!--  <form enctype="multipart/form-data"> -->
						<div class="row">

							<div class="col-md-7  btn-hs">
								<div class="font-design" id="totalReq">
									Project LIST (<span></span>)
									<!-- <i onclick="resetState()" class="ti-reload tblreset" id="btnReset"></i> -->
								</div>
							</div>
							<div class="col-md-5 btn-hs">
								<div class="buttonsec">
								    
									<input type="button" value="DOWNLOAD" class="btn4" id="downloadId">
									<input type="button" value="UPLOAD" class="btn4" id="uploadId">
									  <input type="button"
										class="btn3" value="DELETE" id="deleteId" data-toggle="modal"
										data-target="#delete" readonly>
										<input
										type="button" class="btn2" value="COPY" onclick="copyBtn()"
										id="copyId" readonly>
										<input type="button" class="btn1" value="NEW"
										onclick="newBtn()" id="newId" readonly>
									<!--  <a class="btn2 add-record copy" data-added="0">COPY</a>
                                 <a class="btn3 delete-record copy">DELETE</a> -->
								
									
								</div>
							</div>
						</div>

						<div id="myGrid" style="width: 100%; height: 500px;"
							class="ag-theme-alpine"></div>

						<div class="collapse" id="demo">
							<div class="col-md-12">
								<div class="innerstickybg">
									<div class="row">
										<div class="col-md-3">
											<input id="projectId" type="hidden">
											Project Id: <span id="project"></span>
										</div>

										<div class="col-md-6">
											<div id="statusDiv">
												<div class="hr4"></div>
												<div class="main-div">
													<div class="section2">
														<div id="createdDiv" class="grey-box">
															<div class="green-box-heading">CREATED</div>
															<div class="date" id="createdDate"></div>
														</div>
													</div>
													<div class="section3">
														<div id="activeDiv" class="grey-box">
															<div class="green-box-heading">ACTIVE</div>
															<div class="date" id="activeDate"></div>
														</div>
													</div>
													<div class="section4">
														<div id="completeDiv" class="grey-box">
															<div class="green-box-heading">COMPLETE</div>
															<div class="date" id="completeDate"></div>
														</div>
													</div>
													<div class="section5">
														<div id="onHoldDiv" class="grey-box">
															<div class="green-box-heading">ONHOLD</div>
															<div class="date" id="onHoldDate"></div>
														</div>
													</div>

												</div>
											</div>
										</div>
										<div class="col-md-3">
											<button class="btn4" type="button" data-dismiss="modal"
												id="cancelBtn">CANCEL</button>
											<button class="btn1" id="saveId" onclick="saveProjectDetails()">SAVE</button>
										</div>
									</div>
								</div>

								<div class="innercontent">
									<div class="row">
										<div class="col-md-6">
											<div class="form-group">
												<label>Project Name</label> <input type="text"
													class="form-control" placeholder="Project Name" id="projectName">
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label>Type</label>
												<div class="select">
													<select id="projectType">
														<option value="">Select Type</option>
														<option th:each="c,iter:${projectTypeList}"
															th:value="${c.key}" th:text="${c.name}"></option>

													</select>
												</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label>Priority</label>
												<div class="select">
													<select id="priority">
														<option value="">Select</option>
														<option th:each="c,iter:${priorityList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-md-6">

											<div class="form-group">
												<label>Description</label>
												<textarea style="height: 110px;" id="projectDesc"></textarea>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label>Department</label>
												<div class="select">
													<select id="dept">
														<option value="">Select Department</option>
														<option th:each="c,iter:${DepartmentList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>

											<div class="form-group">
												<label>Start Date </label> <input type="date"
													class="form-control" name="" id="startDate">
											</div>


										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label>Owner</label>
												<div class="select">
													<select class="form-control" id="ownerId">
														<option value="">Select</option>
														<option th:each="c,iter:${managerList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>

											<div class="form-group">
												<label>End Date</label> <input type="date"
													class="form-control" name="" id="endDate" onchange="calDuration()">
											</div>
										</div>

										<div class="col-md-3">
											<div class="form-group">
												<label>Budget Hours</label> <input type="text" name=""
													class="form-control" id="budgetHour" onblur="salaryCheck(event)" onclick="salaryBack(event)">
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label>Budget Resources Spend</label> <input type="text"
													name="" class="form-control" id="budgetResourceSpend" onblur="salaryCheck(event)" onclick="salaryBack(event)">
											</div>
										</div>

										<div class="col-md-3">
											<div class="form-group">
												<label>Budget No-resources Spend</label>
												 <input type="text"name="" class="form-control" id="budgetNonResourceSpend" onblur="salaryCheck(event)" onclick="salaryBack(event)">
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label>Duration</label>
												<div class="detailtxt" id="duration"></div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label>Allocated Hours</label>
												<div class="detailtxt" id="allocatedHours">0</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label>Allocated Resource Spend</label>
												<div class="detailtxt" id="allocatedResourceSpend">0</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label>Allocated Non-resource Spend</label>
												<div class="detailtxt" id="allocatedNonResourceSpend">0</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group" id="actionDiv">
												<label>Actions</label>
												<div class="detailtxt" align="right">
													<button class="btn2 btn-left">Approve</button>
													<button class="btn2 btn-left">Complete</button>
													<button class="btn2 btn-left">On-hold</button>
												</div>
											</div>
										</div>

										<div class="col-md-3">
											<div class="form-group">
												<label>Available Hour</label>
												<div class="detailtxt" id="availableHour">0</div>
											</div>
										</div>


										<div class="col-md-3">
											<div class="form-group">
												<label>Available Resource Spend</label>
												<div class="detailtxt" id="availableResourceSpend">0</div>
											</div>
										</div>

										<div class="col-md-3">
											<div class="form-group">
												<label>Available Non-resource Spend</label>
												<div class="detailtxt" id="availableNonResourceSpend">0</div>
											</div>
										</div>


									</div>

									<div id="main">

										<div class="wrapper center-block">
											<div class="panel-group" id="accordion" role="tablist"
												aria-multiselectable="true">
												
												

												<div class="panel panel-default">
													<div class="panel-heading" role="tab" id="headingOne" onclick="closeAllNav()">
														<!--onclick="closeAllNav()" -->
														<h4 class="panel-title">
															<a class="collapsed mainSecond" role="button"
																data-toggle="collapse" data-parent="#accordion"
																href="#collapseOne" aria-expanded="false"
																aria-controls="collapseOne"> Team Plan </a>
														</h4>
													</div>
													<div id="collapseOne" class="panel-collapse collapse"
														role="tabpanel" aria-labelledby="headingOne">
														<div class="row">

															<div class="col-md-5  btn-hs1">
																<div class="font-design">
																	<!-- Vendor LIST <span>(10)</span> -->
																</div>
															</div>
															<div class="col-md-12 btn-hs1">

																<button class="btn1" id="awardsId" onclick="openNav()">NEW</button>

															</div>

															<div class="col-md-12">

																<div id="myGrid1" style="width: 100%; height: 100px;"
																	class="ag-theme-alpine"></div>

															</div>
														</div>
													</div>
												</div>

												

											<div class="panel panel-default">
												<div class="panel-heading" role="tab" id="headingTwo" onclick="closeAllNav()">
													<!-- onclick="closeAllNav()" -->
													<h4 class="panel-title">
														<a class="collapsed mainSecond" role="button"
															data-toggle="collapse" data-parent="#accordion"
															href="#collapseTwo" aria-expanded="false"
															aria-controls="collapseTwo"> Non-resource Spend Plan</a>
													</h4>
												</div>
												<div id="collapseTwo" class="panel-collapse collapse"
													role="tabpanel" aria-labelledby="headingTwo">
													<div class="row">

														<div class="col-md-5  btn-hs1">
															<div class="font-design"></div>
														</div>
														<div class="col-md-12 btn-hs1">

															<button class="btn1" id="awardsId" onclick="openNav1()">NEW</button>

														</div>

														<div class="col-md-12">

															<div id="myGrid2" style="width: 100%; height: 100px;"
																class="ag-theme-alpine"></div>

														</div>
													</div>
												</div>
											</div>


										</div>
										
										
										
										
										<!-- SIDE BAR NAVIGATION STARTS -->
												<div id="mySidenav1" class="sidenav">
													<div class="slidebox">
														<div class="row">
															<div class="col-md-10">
																<div class="edit" id="heading">Team Plan</div>
																<input type="hidden" id="teamPlanId">
															</div>
															<div class="col-md-2">
																<div class="arrow">
																	<a href="javascript:void(0)" class="closebtn"
																		onclick="closeNav()"><i class="ti-arrow-right"></i></a>
																</div>
															</div>
														</div>
														
															<div class="chartbtnsec">
																<div align="right">

																	<button class="btn1" onclick="saveTeamPlan()">SAVE</button>
																	<button class="btn3" onclick="deleteTeamPlan()">DELETE</button>
																	<button class="btn4" onclick="closeNav()">CANCEL</button>

																</div>
															</div>
															<div class="clearfix"></div>
															
															<div class="row">
														
															<div class="col-md-6">
																<div class="form-group">

																	<label>Employee Name</label>
																	<div class="select">
																		<select class="form-control" id="employeeNmae">
																			<option value="">Select</option>
																			<option th:each="c,iter:${managerList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select>
																	</div>

																</div>
															</div>

															<div class="col-md-6">
																<div class="form-group">
																	<label>Internal Hourly Cost</label> <input type="text"
																		placeholder="Hourly Cost" class="form-control"
																		id="hourlyCost">

																</div>
															</div>

															<div class="col-md-6">
																<div class="form-group">
																	<label>Billing Rate</label> <input type="text"
																		placeholder="Billing Rate" class="form-control"
																		id="billingRate">

																</div>
															</div>

															<div class="col-md-6">
																<div class="form-group">
																	<label>Hours Allocated</label> <input type="text"
																		placeholder="Hours Allocated" class="form-control"
																		id="totalHour">

																</div>
															</div>

															<div class="col-md-12">
																<div class="form-group">
																	<label>Location</label>
																	<div class="select">
																		<select id="location">
																			<option value="">Select Location</option>
																			<option th:each="c,iter:${jobLocationList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select>
																	</div>

																</div>
															</div>

														</div>
															
															<div class="panelheading">Cost Center </div>
															<input type="hidden" id="hiddenCost1">
															<div class="row">
																<div class="col-lg-9">
																	<div class="form-group">

																		<div class="inner_search">

																			<div class="input-style1">
																				<div class="autocomplete">
																					<input id="search12" type="text" name="search"
																						class="inner_searchboxinput" placeholder="Search"
																						onkeyup='search12()'>
																				</div>

																				<div class="searchicon1">
																					<a href="javascript: void(0)"><span
																						style="display: block; border-right: 1px solid rgb(204, 204, 204); padding-right: 5px;"
																						id="closeKey" onclick="clearSearchData12()"
																						class="close_i"><i
																							class="ti-close srchicon"></i></span></a><a href="#"
																						style="color: #ccc; margin-top: -5px;"><i
																						class="ti-search srchicon"></i></a>

																				</div>

																			</div>
																		</div>

																		<div id="suggesstion-box3_" class="sugg-cls"></div>
																	</div>
																</div>
																<div class="col-lg-3 mrt_6">
																	<div class="form-group">
																		<button id="chartOfAccBtn" class="btn2"
																			onclick="getCostCenterList(1)">Browse</button>
																	</div>
																</div>
															</div>
															
															<div class="row">
																<div class="col-lg-12">
																	<div class="form-group">
																		<label>Cost Center Name: </label><span id="costCenterName1"
																			class="fetchdata"></span><input type="hidden" id="costCenterId1">
																	</div>
																</div>
															</div>
															
															<div class="panelheading">Account </div>
															<input type="hidden" id="hiddenAccount">
															<div class="row">
																<div class="col-lg-9">
																	<div class="form-group">

																		<div class="inner_search">

																			<div class="input-style1">
																				<div class="autocomplete">
																					<input id="searchAcc" type="text" name="search"
																						class="inner_searchboxinput" placeholder="Search"
																						onkeyup='searchAccount()'>
																				</div>
																				<div class="searchicon1">
																					    <a href="javascript: void(0)"><span
																						style="display: block; border-right: 1px solid rgb(204, 204, 204); padding-right: 5px;"
																						id="closeKey" onclick="clearSearchDataAcc()"
																						class="close_i"><i
																							class="ti-close srchicon"></i></span></a>
																						<a href="#" style="color: #ccc; margin-top: -5px;"><i
																						class="ti-search srchicon"></i></a>
																				</div>

																			</div>
																		</div>

																		<div id="suggesstion-boxAcc_" class="sugg-cls"></div>
																	</div>
																</div>
																<div class="col-lg-3 mrt_6">
																	<div class="form-group">
																		<button id="chartOfAccBtn" class="btn2"
																			onclick="getAccountList()">Browse</button>
																	</div>
																</div>
															</div>
															
														<div class="row">
														
															<div class="col-lg-12">
																<div class="form-group">
																	<label>Account: </label>
																	<span id="accountName" class="fetchdata"></span>
																	<input type="hidden" id="accountId">
																</div>
															</div>
														</div>
														
														
													</div>
												</div>

												<!-- SIDE BAR NAVIGATION ENDS -->
												
												
												
												
												<!-- SIDE BAR NAVIGATION STARTS -->
												<div id="mySidenav2" class="sidenav">
												 <div class="slidebox">
														<div class="row">
															<div class="col-md-10">
																<div class="edit" id="heading">Non-resource Spend
																	Plan</div>
																	<input type="hidden" id="nonResourceId">
															</div>
															<div class="col-md-2">
																<div class="arrow">
																	<a href="javascript:void(0)" class="closebtn"
																		onclick="closeNav1()"><i class="ti-arrow-right"></i></a>
																</div>
															</div>
														</div>
														<div class="chartbtnsec">
															<div align="right">

																<button class="btn1" onclick="saveNonResource()">SAVE</button>
																<button class="btn3" onclick="deleteNonResource()">DELETE</button>
																<button class="btn4" onclick="closeNav1()">CANCEL</button>

															</div>
														</div>
														<div class="clearfix"></div>
														
														<div class="panelheading">Product List </div>
														<input type="hidden" id="hiddenProduct">
														<div class="row">
															<div class="col-lg-9">
																<div class="form-group">

																	<div class="inner_search">

																		<div class="input-style1">
																			<div class="autocomplete">
																				<input id="search" type="text" name="search"
																					class="inner_searchboxinput" placeholder="Search"
																					onkeyup='getProductList()'>
																			</div>

																			<div class="searchicon1">
																				<a href="javascript: void(0)"><span
																					style="display: block; border-right: 1px solid rgb(204, 204, 204); padding-right: 5px;"
																					id="closeKey" onclick="clearSearchData()"
																					class="close_i"><i class="ti-close srchicon"></i></span></a><a
																					href="#" style="color: #ccc; margin-top: -5px;"><i
																					class="ti-search srchicon"></i></a>

																			</div>

																		</div>
																	</div>

																	<div id="suggesstion-box1_" class="sugg-cls"></div>
																</div>
															</div>
															<div class="col-lg-3 mrt_6">
																<div class="form-group">
																	<button id="browseBtn" class="btn2">Browse</button>
																</div>
															</div>
														</div>

													<div class="row">
														<div class="col-lg-12">
															<div class="form-group">
																<label>Item Name: </label><span id="itemName"
																	class="fetchdata"></span><input type="hidden" id="itemId">
															</div>
														</div>
													</div>
														
													<div class="row">
															
														<div class="col-md-6">
															<div class="form-group">
																<label>Unit Cost</label> <input type="text"
																	placeholder="Unit Cost" class="form-control"
																	id="unitCost" onkeyup="calTotalAmount()">

															</div>
														</div>
														
														<div class="col-md-6">
															<div class="form-group">
																<label>No of Units</label> <input type="text"
																	placeholder="No of Units" class="form-control"
																	id="noOfUnits" onkeyup="calTotalAmount()">

															</div>
														</div>
														
														<div class="col-md-6">
															<div class="form-group">
																<label>Total Amount</label> <input type="text"
																	placeholder="Total Amount" class="form-control"
																	id="totalAmount">

															</div>
														</div>

														<div class="col-md-6">
																<div class="form-group">
																	<label>Location</label>
																	<div class="select">
																		<select id="locationNonResource">
																			<option value="">Select Location</option>
																			<option th:each="c,iter:${jobLocationList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select>
																	</div>

																</div>
															</div>
													</div>
														
														<div class="panelheading">Cost Center</div>
														<input type="hidden" id="hiddenCost2">
														<div class="row">
																<div class="col-lg-9">
																	<div class="form-group">

																		<div class="inner_search">

																			<div class="input-style1">
																				<div class="autocomplete">
																					<input id="search2" type="text" name="search"
																						class="inner_searchboxinput" placeholder="Search"
																						onkeyup='search2()'>
																				</div>

																				<div class="searchicon1">
																					<a href="javascript: void(0)"><span
																						style="display: block; border-right: 1px solid rgb(204, 204, 204); padding-right: 5px;"
																						id="closeKey" onclick="clearSearchData2()"
																						class="close_i"><i
																							class="ti-close srchicon"></i></span></a><a href="#"
																						style="color: #ccc; margin-top: -5px;"><i
																						class="ti-search srchicon"></i></a>

																				</div>

																			</div>
																		</div>

																		<div id="suggesstion-box2_" class="sugg-cls"></div>
																	</div>
																</div>
																<div class="col-lg-3 mrt_6">
																	<div class="form-group">
																		<button id="chartOfAccBtn" class="btn2"
																			onclick="getCostCenterList(2)">Browse</button>
																	</div>
																</div>
															</div>
														
													<div class=row>
														<div class="col-lg-12">
															<div class="form-group">
																<label>Cost Center Name: </label><span id="costCenterName"
																	class="fetchdata"></span><input type="hidden" id="costCenterId">
															</div>
														</div>
													</div>

													</div>

												</div>

											<!-- </div> -->

											<!-- SIDE BAR NAVIGATION ENDS -->
									</div>
								</div>

							</div>
						</div>


						<!-- The Modal For Delete-->
						<div class="modal fade" id="delete">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center">
										<button type="button" class="btn1" data-dismiss="modal"
											aria-hidden="true">Cancel</button>
										<button type="button" class="btn3" id="deleteModalBtn"
											onclick="deleteReq()">Delete</button>
									</div>
								</div>
							</div>
						</div>


						<!-- The Modal For Validation-->
						<div class="modal fade" id="reqValid">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p id="modalMsg"></p>
									</div>
									<div class="modal-footer justify-content-center">
										<button type="button" class="btn1" data-dismiss="modal"
											aria-hidden="true">Ok</button>
									</div>
								</div>
							</div>
						</div>
						
						<!-- THE MODAL FOR PRODUCT -->
						<div class="modal fade" id="myModal">
						<div class="modal-dialog modal-lg" style="margin-top: 130px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<div class="modal-header">
									<h4 class="modal-title md-color">Select Product</h4>
									<button type="button" class="close cp" data-dismiss="modal">&times;</button>
								</div>

								<!-- Modal body -->
								<div class="modal-body modal-cat">
									<div class="row">

										<div class="col-md-6" df="0">
											<div style="height: 300px; overflow-y: scroll;"
												id="productCategoryCBDiv"></div>
										</div>
										<div class="col-md-6" id="productCategorySelectDiv" df="0"
											style="border-left: 1px solid #ccc;">
											<div style="height: 300px; overflow-y: scroll;">
												<div class="productlist">Select Product</div>
												<div id="select_product"></div>
												<input type="hidden" id="itemNameTemp" /> <input
													type="hidden" id="itemIdTemp" /> <input type="hidden"
													id="brandNameTemp" /> <input type="hidden"
													id="brandIdTemp" /> <input type="hidden" id="skuTemp" />
												<input type="hidden" id="prodCatIdTemp" /> <input
													type="hidden" id="prodCatNameTemp" />
											</div>
										</div>
									</div>
								</div>

								<!-- Modal footer -->
								<div class="modal-footer">
									<div class="chartbtnsec">
										<button class="btn2" onclick="selectProductVal()">SELECT</button>
										<button class="btn4" data-dismiss="modal">CANCEL</button>
									</div>
								</div>

							</div>
						</div>
					</div>
					
					<!-- Modal For Cost Center -->
					<div class="modal fade" id="modalCostCenter">
						<div class="modal-dialog modal-md" style="margin-top: 130px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<div class="modal-header">
									<h4 class="modal-title md-color">Select Cost Center</h4>
									<button type="button" class="close cp" data-dismiss="modal">&times;</button>
								</div>

								<!-- Modal body -->
								<div class="modal-body modal-cat">
									<div class="row">

										<div class="col-md-12">
											<table style="	overflow-y: scroll;"
												id="basic">
												<tbody id="costCeneterCBDiv"></tbody></table>
										</div>
										
									</div>
								</div>

								<!-- Modal footer -->
								<div class="modal-footer">
									<div class="chartbtnsec">
										<button class="btn2" onclick="selectCostCenter()">SELECT</button>
										<button class="btn4" data-dismiss="modal">CANCEL</button>
									</div>
								</div>

							</div>
						</div>
					</div>
					
					<!-- Modal For Cost Center -->
					<div class="modal fade" id="modalCostCenter1">
						<div class="modal-dialog modal-md" style="margin-top: 130px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<div class="modal-header">
									<h4 class="modal-title md-color">Select Cost Center</h4>
									<button type="button" class="close cp" data-dismiss="modal">&times;</button>
								</div>

								<!-- Modal body -->
								<div class="modal-body modal-cat">
									<div class="row">

										<div class="col-md-12">
											<table style="	overflow-y: scroll;"
												id="basic1">
												<tbody id="costCeneterCBDiv1"></tbody></table>
										</div>
										
									</div>
								</div>

								<!-- Modal footer -->
								<div class="modal-footer">
									<div class="chartbtnsec">
										<button class="btn2" onclick="selectCostCenter1()">SELECT</button>
										<button class="btn4" data-dismiss="modal">CANCEL</button>
									</div>
								</div>

							</div>
						</div>
					</div>
					
					<!-- Modal For Chart of Account -->
					<div class="modal fade" id="modalChartAccount">
						<div class="modal-dialog modal-md" style="margin-top: 130px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<div class="modal-header">
									<h4 class="modal-title md-color">Select Chart of Account</h4>
									<button type="button" class="close cp" data-dismiss="modal">&times;</button>
								</div>

								<!-- Modal body -->
								<div class="modal-body modal-cat">
									<div class="row">

										<div class="col-md-12">
											<table style="	overflow-y: scroll;"
												id="accountBasic">
												<tbody id="chartAccountCBDiv"></tbody></table>
										</div>
										
									</div>
								</div>

								<!-- Modal footer -->
								<div class="modal-footer">
									<div class="chartbtnsec">
										<button class="btn2" onclick="selectChartAccount()">SELECT</button>
										<button class="btn4" data-dismiss="modal">CANCEL</button>
									</div>
								</div>

							</div>
						</div>
					</div>
					
					<!-- The Modal For Validation-->
						<div class="modal fade" id="candValid">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p id="candMsg"></p>
									</div>
									<div class="modal-footer justify-content-center">
										<button type="button" class="btn1" data-dismiss="modal"
											aria-hidden="true">Ok</button>
									</div>
								</div>
							</div>
						</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- </div>
 -->

</body>
</html>