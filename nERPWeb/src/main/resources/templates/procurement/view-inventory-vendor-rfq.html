<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
<head>
<style type="text/css">
.highcharts-exporting-group {
	display: none;
}

.slidebox {
	padding: 14px;
	margin-top: 0px;
	margin: 0px 10px;
}

.form-group label {
	font-size: 12px;
	position: relative;
	top: 4px;
}

.holdCls {
	background-color: rgb(0, 143, 0);
}

.bg_white {
	background: #ffffff !important;
}

.blueClsWT {
	background: #0076ba;
	color: #fff;
}

.blueCls {
	background: #0076ba;
	color: #fff;
}

.blueClsWT::before {
	font-size: 8px;
	color: #FFF;
	content: '\e64c';
	font-family: 'themify';
	padding-right: 7px;
}

.tptCls {
	background: transparnt;
}
</style>
<script type="text/javascript">
	function openNav() {
		document.getElementById("mySidenav").style.cssText = "width: 350px; position: absolute; right:-30px; overflow: hidden; height:auto; top:200px;";

		document.getElementById("main_content").style.width = "72%";
	}

	function closeNav() {
		document.getElementById("mySidenav").style.width = "0";
		document.getElementById("main_content").style.width = "100%";
		$("#sku").html('');
		$("#skuEditId").html('');
		$("#brandName").html('');
		$("#brandId").val('');
		$("#brandId").val('');
		$("#prodCatId").val('');
		$("#prodCatName").html('');
		$("#itemName").html('');
		$("#locationId").val('');
		$("#quantity").val('');
		$("#uom").val('');
		$("#estimatedPrice").val('');
		$("#totalEstPrc").val('');
		$("#lastPurchaseUnitPrice").val('');
		$("#lastPurchaseTotalPrice").val('');
		$("#search").val('');
		$("#productEdit").val(null);
	}

	var count1 = 0;
	function allCheck1() {
		count1++;

		if (count1 == 1) {
			$('.checkCls1').prop("checked", true);
		} else {
			count1 = 0;
			$('.checkCls1').prop("checked", false);
		}
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#searchBar').val() == null || $('#searchBar').val() == "") {
			id.style.display = "none";
		}
	}
</script>

<script type="text/javascript">
	$(document).ready(function() {

		agGrid.simpleHttpRequest({
			url : 'vendor-rfq-view-trough-ajax'
		}).then(function(data) {
			var len = data.length;
			$('#totalReq').find('span').html(len);
			rfqOptions.api.setRowData(data);
		});

		$('#docTbl').on('click', '.rmv1', function() {
			openDeleteConfirm();
			var value = $(this).parent("div").attr("id");
			$("#dltValue").val(value);
		});

		$("#statusDiv").hide();
		$('.collapse').on('show.bs.collapse', function() {
			$(this).siblings('.panel-heading').addClass('active');
		});

		$('.collapse').on('hide.bs.collapse', function() {
			$(this).siblings('.panel-heading').removeClass('active');
		});
		$("#rfqCancelBtn").click(function() {
			$("#reqTable").show();
			$(".btn-hs").show();
			$("#rfqTable").show();
			$("#demo").hide();
			agGrid.simpleHttpRequest({
				url : 'action-rfq-view-trough-ajax'
			}).then(function(data) {
				var len = data.length;
				$('#totalReq').find('span').html(len);

				rfqOptions.api.setRowData(data);
			});
		});
	});

	$("input[class='myCheckbox']").click(function() {
		if ($("#formID input:checkbox:checked").length > 0) {
			$(".checkSubmit").addClass('active');
		} else {
			$(".checkSubmit").removeClass('active');
		}
	});

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}
</script>

<script>
	var columnDefs = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				sortable : false,
				filter : false,
				resizable : true,
				width : 20
			},
			{
				headerName : "RFQ Id",
				field : "rfqId",
				cellRenderer : function(params) {
					return '<a onclick=editRequisition("' + params.data.rfqId
							+ '") href="javascript:void(0)">'
							+ params.data.rfqId + '</a>';
				}

			}, {
				headerName : "REQ ID",
				field : "reqId",
				hide : "true"
			}, {
				headerName : "Description",
				field : "desc"
			}, {
				headerName : "Type",
				field : "reqType"
			}, {
				headerName : "Priority",
				field : "reqPrior"

			}, {
				headerName : "Location",
				field : "location"

			}, {
				headerName : "Location",
				field : "locationId",
				hide : "true"

			}, {
				headerName : "itemId",
				field : "itemId",
				hide : "true"

			}, {
				headerName : "Products(Quantity)",
				field : "itemName"

			}, {
				headerName : "Receive By Date",
				field : "receiveDate",
				cellStyle : {
					textAlign : 'center'
				}

			}, {
				headerName : "Status",
				field : "approveStatus",
				cellStyle : {
					textAlign : 'center'
				}
			}, {
				headerName : "Created By",
				field : "createdBy"

			}, {
				headerName : "Created Date",
				field : "createdOn",
				cellStyle : {
					textAlign : 'center'
				}

			} ];

	// for product table
	var productDefs = [

	{
		headerName : "SKU",
		field : "sku"/* ,
						cellRenderer : function(params) {
							return '<a onclick=editProduct("' + params.data.sku
									+ '") href="javascript:void(0)">' + params.data.sku
									+ '</a>';
						} */
	}, {
		headerName : "Brand",
		field : "brandName"
	}, {
		headerName : "Name",
		field : "itemName"

	}, {
		headerName : "itemId",
		field : "itemId",
		hide : "true"
	}, {
		headerName : "BrandId",
		field : "brand",
		hide : "true"
	}, {
		headerName : "Location",
		field : "location"

	}, {
		headerName : "locationId",
		field : "locationId",
		hide : "true"

	}, {
		headerName : "Quantity",
		field : "qty",
		type : 'rightAligned',
		valueFormatter : currencyFormatter

	}, {
		headerName : "UOM",
		field : "uom"

	}, {
		headerName : "uomId",
		field : "uomId",
		hide : "true"
	}, {
		headerName : "Unit Price",
		field : "estimatedPrice",
		type : 'rightAligned',
		editable : true,
		singleClickEdit : true,
		cellStyle : {
			'background-color' : 'white'
		},
		valueFormatter : currencyFormatter

	}, {
		headerName : "Total Price",
		field : "estimatedTotalPrice",
		type : 'rightAligned',
		editable : true,
		singleClickEdit : true,
		cellStyle : {
			'background-color' : 'white'
		},
		valueFormatter : currencyFormatter

	}, {
		headerName : "Created Date",
		field : "createdOn",
		cellStyle : {
			textAlign : 'center'
		}

	} ];

	function checkboxSelection(params) {
		return params.node.group === true;
	}

	var activityDefs = [ {
		headerCheckboxSelection : true,
		headerCheckboxSelectionFilteredOnly : true,
		checkboxSelection : true,
		sortable : false,
		filter : false,
		resizable : true,
		width : 20
	}, {
		headerName : "Activity Name",
		field : "operationName"
	}, {
		headerName : "User Name",
		field : "operationBy"
	}, {
		headerName : "Created Date",
		field : "operationOn",
		cellStyle : {
			textAlign : 'center'
		}

	} ];

	// let the grid know which columns and what data to use product table
	var activityOptions = {
		columnDefs : activityDefs,
		rowSelection : 'multiple',
		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 353
		}

	};

	// let the grid know which columns and what data to use activity table
	var productOptions = {
		columnDefs : productDefs,
		rowSelection : 'multiple',
		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 153
		},
		onCellValueChanged : function(param) {
			var totalPrice = parseFloat(param.data.estimatedPrice)
					* parseFloat(param.data.qty);
			param.data.estimatedTotalPrice = totalPrice;
			param.api.refreshCells({
				columns : [ "estimatedTotalPrice" ]
			});

		},

	};

	function checkboxSelection(params) {
		return params.node.group === true;
	}

	function checkbox(params) {
		return params.node.group === true;
	}

	// let the grid know which columns and what data to use
	var rfqOptions = {
		columnDefs : columnDefs,
		rowSelection : 'multiple',
		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 153
		}

	};

	// setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridDiv = document.querySelector('#rfqTable');
		new agGrid.Grid(gridDiv, rfqOptions);

		var gridDiv = document.querySelector('#productist');
		new agGrid.Grid(gridDiv, productOptions);

		var gridDiv = document.querySelector('#activity');
		new agGrid.Grid(gridDiv, activityOptions);

	});

	function resetState() {
		rfqOptions.columnApi.resetColumnState();

	}

	function onQuickFilterChanged() {
		rfqOptions.api
				.setQuickFilter(document.getElementById('quickFilter').value);
	}

	// for switch pages
	function switchPage() {

		agGrid.simpleHttpRequest({
			url : 'view-quatation-vendor-trough-ajax'
		}).then(function(data) {
			vendorOptions.api.setRowData(data);
		});
		if (!$("#source").html()) {
			$("#source").html('New');
		}
		var selectedRows = rfqOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.itemId;
		});

		// for product table
		agGrid.simpleHttpRequest({
			url : 'view-quatation-item-trough-ajax?id=' + selectedRowsString
		}).then(function(data) {
			productOptions.api.setRowData(data);
		});

		agGrid.simpleHttpRequest({
			url : 'vendor-rfq-activity-log?id=' + selectedRowsString
		}).then(function(data) {
			activityOptions.api.setRowData(data);
		});

	}
	// for edit indivisual product
	function editProduct(prodId) {

		var rfqId = $("#reqHeadId").html();
		var rowNode = productOptions.api.getRowNode(prodId);
		//console.log("rowNode " + JSON.stringify(rowNode.data));

		$("#sku").html(prodId);
		$("#skuEditId").html(prodId);
		$("#brandId").val(rowNode.data.brand);
		$("#brandName").html(rowNode.data.brandName);
		$("#itemId").html(rowNode.data.itemId);
		$("#itemName").html(rowNode.data.itemName);
		$("#locationId").val(rowNode.data.locationId);
		$("#productEdit").val(prodId);
		$("#quantity").val(rowNode.data.qty);
		$("#uom").val(rowNode.data.uomId);
		$("#estimatedPrice").val(rowNode.data.estimatedPrice);
		$("#totalEstPrc").val(rowNode.data.estimatedTotalPrice);
		$("#lastPurchaseUnitPrice").val(rowNode.data.lastPurchaseUnitPrice);
		$("#lastPurchaseTotalPrice").val(rowNode.data.lastPurchaseTotalPrice);
		$("#search").val(rowNode.data.itemName);
		openNav();

	}

	function editRequisition(rfqId) {
		$("#rfqTable").hide();
		$("#reqTable").hide();
		$(".btn-hs").hide();
		$("#demo").show();
		$('.loader').show();
		agGrid
				.simpleHttpRequest({
					url : 'vendor-rfq-item-trough-ajax?id=' + rfqId
				})
				.then(
						function(data) {
							$('.loader').hide();
							var blankData = [];
							productOptions.api.setRowData(blankData);
							$("#desc").val(data[0].desc);
							$("#reqType").val(data[0].reqType);
							$("#reqPrior").val(data[0].reqPrior);
							$("#receiveDate").val(data[0].receiveDate);
							$("#isHold").val(data[0].holdStatus);
							$("#source").html(data[0].reqId);
							$("#rfqId").val(rfqId);
							$("#reqHeadId").html(data[0].rfqId);
							$("#openDate").empty();
							$("#openDate").append(data[0].createdOn);
							$("#submittedDate").empty();
							$("#submittedDate").append(data[0].submittedDate);
							$("#closedDate").empty();
							$("#closedDate").html(data[0].closedDate);
							$("#comments").val(data[0].comments);
							$("#vendorRfqId").val(data[0].vendorRfqId);
							console.log("data " + JSON.stringify(data))
							productOptions.api.setRowData(data);
							headerStatus();
							$("#doctbodyData").empty();

							var documentList = data[0].documentList;
							if (documentList != null && documentList != "") {
								for (var i = 0; i < documentList.length; i++) {

									var tbl = '<tr>'
											+ '<td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
											+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option>  </select> </div></td>'
											+ '<td><div class="form-group"> <input type="text" value="'+documentList[i].documnentName+'" class="form-control docNoclss" id="docnoid_'+i+'"> </div></td>'
											+ '<td><div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_'+i+'" id="uploadFor_'+i+'"> <i class="ti-pencil" id="clickImg_'+i+'"></i> </label>'
											+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_'
											+ i
											+ '"name="userImage" onchange="saveMultiFile(event)" /> </div>'
											+ '</div> <input type="hidden" id="uploadHidden_'+i+'" value="'+documentList[i].fileName+'" class="uploadHidCls">'
											+ '<div id="uploadedBillDiv_'+i+'" align="center" class="uploadedBillCls"><div class="uploadicon position-l">'
											+ documentList[i].action
											+ '</div></div>'
											+ '<div id="imageName_'+i+'" class="imageName">'
											+ documentList[i].fileName
											+ '</div>'
											+ '<input type="hidden" id="editId_'+i+'" value="'+ documentList[i].vendorRfqId+'">'
											+ '<div id="dltImage_'+i+'" class="custom-file-delete"><i class="ti-close position-l rmv1" onclick="openDeleteConfirm()"></i></div> </td>'
											+ '</tr>';

									$("#doctbodyData").append(tbl);
								}
							} else {
								var tbl = '<tr> <td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
										+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option> </select> </div></td>'
										+ '<td><div class="form-group"> <input type="text" value="" class="form-control docNoclss" id="docnoid_"></div></td>'
										+ '<td> <div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_0" id="uploadFor_0"> <i class="ti-plus" id="clickImg_0"></i> </label>'
										+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_0" name="userImage" onchange="saveMultiFile(event)" /></div> </div> <input type="hidden" id="uploadHidden_0" class="uploadHidCls">'
										+ '<div id="uploadedBillDiv_0" align="center" class="uploadedBillCls"></div> <div id="imageName_0" class="imageName"></div><div id="dltImage_0" ></div><input type="hidden" id="editId_0></td>'
										+ '</tr>';
								$("#doctbodyData").append(tbl);
							}

						});

		agGrid.simpleHttpRequest({
			url : 'vendor-rfq-activity-log?id=' + rfqId
		}).then(function(data) {
			activityOptions.api.setRowData(data);
		});

	}

	function cancelModalBtn() {
		$("#deleteModalBtn").removeAttr("disabled");
	}
	//for closeing modal box for dlt  product
	function cancelModalProductBtn() {
		$("#deleteModalBtn").removeAttr("disabled");
		$('#deleteProduct').modal('hide');
	}
	//for closeing modal box for dlt ind product
	function cancelModalBtnDPI() {
		$('#deleteProductInd').modal('hide');
	}
</script>

<script>
	function saveData() {

		var allValid = true;
		if (!validationUpdated("Description can't be Left Blank", 'desc'))
			allValid = false;
		if (!validationUpdated("Requisition Type can't be Left Blank",
				'reqType'))
			allValid = false;
		if (!validationUpdated("Requisition Priority can't be Left Blank",
				'reqPrior'))
			allValid = false;
		if (!validationUpdated("Receive Date can't be Left Blank",
				'receiveDate'))
			allValid = false;
		if (allValid) {
			var datas = [];
			$('.loader').show();
			$("body").addClass("overlay");
			var imageValid = true;
			var uploadList = [];
			$("#doctbodyData > tr").each(
					function() {
						var uFile = $(this).find(".document")[0].files[0];
						var fileName = $(this).find(".document").val();
						var data = [];
						var x = [];
						if (fileName != '' && fileName != 'undefined'
								&& fileName != null) {
							var lastIndex = fileName.lastIndexOf("\\");
							if (lastIndex >= 0) {
								fileName = fileName.substring(lastIndex + 1);
							}
							var reader = new FileReader();
							reader.readAsDataURL(uFile);

							reader.onload = function() {
								data = reader.result.split(",");
								x.push(data[1]);
							};
						} else {
							if ($("#vendorRfqId").val()) {
								fileName = $(this).find(".uploadHidCls").val();
							} else {
								x = [];
							}

						}
						uploadData = {};
						uploadData['vendorRfqId'] = $("#vendorRfqId").val();
						uploadData['documnentName'] = $(this)
								.find(".docNoclss").val();
						uploadData['documentFile'] = x;
						uploadData['fileName'] = fileName;
						uploadData['imageNameEdit'] = $(this).find(
								".uploadHidCls").val();
						uploadList.push(uploadData);

					});
			setTimeout(function() {
				productOptions.api.forEachNode(function(rowNode, index) {
					var item = rowNode.data;
					item.desc = $("#desc").val();
					item.reqType = $("#reqType").val();
					item.reqPrior = $("#reqPrior").val();
					item.receiveDate = $("#receiveDate").val();
					item.holdStatus = $("#isHold").val();
					item.reqId = $("#source").html();
					item.rfqId = $("#rfqId").val();
					item.comments = $("#comments").val();
					item.saveStatus = '0';
					item.vendorRfqId = $("#vendorRfqId").val();
					item.moduleId = localStorage.getItem('module');
					item.componentId = localStorage.getItem('function');
					item.subComponentId = localStorage.getItem('activity');
					item.documentList = uploadList;
					datas.push(item);
					//console.log(JSON.stringify(item));
				});

				saveRequisition(datas);
			}, 1000)

		}

	}

	function submitData() {

		var allValid = true;
		if (!validationUpdated("Description can't be Left Blank", 'desc'))
			allValid = false;
		if (!validationUpdated("Requisition Type can't be Left Blank",
				'reqType'))
			allValid = false;
		if (!validationUpdated("Requisition Priority can't be Left Blank",
				'reqPrior'))
			allValid = false;
		if (!validationUpdated("Receive Date can't be Left Blank",
				'receiveDate'))
			allValid = false;
		if (allValid) {
			var datas = [];
			$('.loader').show();
			$("body").addClass("overlay");
			var imageValid = true;
			var uploadList = [];
			$("#doctbodyData > tr").each(
					function() {
						var uFile = $(this).find(".document")[0].files[0];
						var fileName = $(this).find(".document").val();
						var data = [];
						var x = [];
						if (fileName != '' && fileName != 'undefined'
								&& fileName != null) {
							var lastIndex = fileName.lastIndexOf("\\");
							if (lastIndex >= 0) {
								fileName = fileName.substring(lastIndex + 1);
							}
							var reader = new FileReader();
							reader.readAsDataURL(uFile);

							reader.onload = function() {
								data = reader.result.split(",");
								x.push(data[1]);
							};
						} else {
							if ($("#vendorRfqId").val()) {

								fileName = $(this).find(".uploadHidCls").val();

							} else {
								x = [];

							}

						}
						uploadData = {};
						uploadData['vendorRfqId'] = $("#vendorRfqId").val();
						uploadData['documnentName'] = $(this)
								.find(".docNoclss").val();
						uploadData['documentFile'] = x;
						uploadData['fileName'] = fileName;
						uploadData['imageNameEdit'] = $(this).find(
								".uploadHidCls").val();
						uploadList.push(uploadData);

					});
			setTimeout(function() {
				productOptions.api.forEachNode(function(rowNode, index) {
					var item = rowNode.data;
					item.desc = $("#desc").val();
					item.reqType = $("#reqType").val();
					item.reqPrior = $("#reqPrior").val();
					item.receiveDate = $("#receiveDate").val();
					item.holdStatus = $("#isHold").val();
					item.reqId = $("#source").html();
					item.rfqId = $("#rfqId").val();
					item.comments = $("#comments").val();
					item.vendorRfqId = $("#vendorRfqId").val();
					item.saveStatus = '1';
					item.moduleId = localStorage.getItem('module');
					item.componentId = localStorage.getItem('function');
					item.subComponentId = localStorage.getItem('activity');
					item.documentList = uploadList;
					datas.push(item);
					//console.log(JSON.stringify(item));
				});

				saveRequisition(datas);
			}, 1000)

		}

	}

	function saveRequisition(datas) {
		$
				.ajax({
					type : "POST",
					url : "vendor-rfq-save-th-ajax",
					dataType : "json",
					contentType : "application/json",
					data : JSON.stringify(datas),
					success : function(response) {
						$('.loader').hide();
						$("body").removeClass("overlay");
						if (response.message == "Success") {
							$("#messageParagraph").text(
									"Data Saved Successfully");
							$("#msgOkModal").removeClass("btn3");
							$("#msgOkModal").addClass("btn1");
							$("#msgModal").modal('show');

							$("#desc").val(response.body[0].desc);
							$("#reqType").val(response.body[0].reqType);
							$("#reqPrior").val(response.body[0].reqPrior);
							$("#receiveDate").val(response.body[0].receiveDate);
							$("#isHold").val(response.body[0].holdStatus);
							$("#rfqId").val(response.body[0].rfqId);
							$("#source").html(response.body[0].reqId);
							$("#reqHeadId").html(response.body[0].rfqId);
							$("#openDate").empty();
							$("#openDate").append(response.body[0].createdOn);
							$("#submittedDate").empty();
							$("#submittedDate").append(
									response.body[0].submittedDate);
							$("#closedDate").empty();
							$("#closedDate").html(response.body[0].closedDate);
							$("#comments").val(response.body[0].comments);
							$("#vendorRfqId").val(response.body[0].vendorRfqId);

							productOptions.api.setRowData(response.body);

							$("#doctbodyData").empty();
							var documentList = response.body[0].documentList;

							if (documentList != null && documentList != "") {
								for (var i = 0; i < documentList.length; i++) {
									var tbl = '<tr>'
											+ '<td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
											+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option>  </select> </div></td>'
											+ '<td><div class="form-group"> <input type="text" value="'+documentList[i].documnentName+'" class="form-control docNoclss" id="docnoid_'+i+'"> </div></td>'
											+ '<td><div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_'+i+'" id="uploadFor_'+i+'"> <i class="ti-pencil" id="clickImg_'+i+'"></i> </label>'
											+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_'
											+ i
											+ '" name="userImage" onchange="saveMultiFile(event)" /> </div>'
											+ '</div> <input type="hidden" id="uploadHidden_'+i+'" value="'+documentList[i].fileName+'" class="uploadHidCls">'
											+ '<div id="uploadedBillDiv_'+i+'" align="center" class="uploadedBillCls"><div class="uploadicon position-l">'
											+ documentList[i].action
											+ '</div></div>'
											+ '<div id="imageName_'+i+'" class="imageName">'
											+ documentList[i].fileName
											+ '</div>'
											+ '<div id="dltImage_'+i+'" class="custom-file-delete"><i class="ti-close position-l rmv1" onclick="openDeleteConfirm()"></i></div>'
											+ '<input type="hidden" id="editId_'+i+'" value="'+ documentList[i].vendorRfqId+'">'
											+ '</td>' + '</tr>';

									$("#doctbodyData").append(tbl);
								}
							} else {
								var tbl = '<tr> <td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
										+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option> </select> </div></td>'
										+ '<td><div class="form-group"> <input type="text" value="" class="form-control docNoclss" id="docnoid_"></div></td>'
										+ '<td> <div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_0" id="uploadFor_0"> <i class="ti-plus" id="clickImg_0"></i> </label>'
										+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_0" name="userImage" onchange="saveMultiFile(event)" /></div> </div> <input type="hidden" id="uploadHidden_0" class="uploadHidCls">'
										+ '<div id="uploadedBillDiv_0" align="center" class="uploadedBillCls"></div> <div id="imageName_0" class="custom-file-upload"></div> <input type="hidden" id="editId_0"> </td>'
										+ '</tr>';
								$("#doctbodyData").append(tbl);
							}

							agGrid
									.simpleHttpRequest(
											{
												url : 'vendor-rfq-activity-log?id='
														+ response.body[0].vendorRfqId
											}).then(function(data) {
										activityOptions.api.setRowData(data);
									});
							headerStatus();
						} else {

							$('.loader').hide();
							$("body").removeClass("overlay");
						}
					},
					error : function(data) {
						console.log(data);
						$('.loader').hide();
						$("body").removeClass("overlay");
					}
				}) //ajax ends

	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}

	function viewRFQ() {
		localStorage.setItem('activity', 'ACT0021');
		window.location.href = "/inventory/view-quatation";
	}
	function headerStatus() {

		$("#statusDiv").show();

		var openDate = $("#openDate").text();
		var submittedDate = $("#submittedDate").text();
		var closedDate = $("#closedDate").text();
		var onHoldDate = $("#onHoldDate").text();

		if (openDate) {
			$('#createdDiv').addClass('green-box');
			$('#createdDiv').removeClass('grey-box');
		} else {
			$('#createdDiv').removeClass('green-box');
			$('#createdDiv').addClass('grey-box');
		}
		if (submittedDate) {
			$('#activeDiv').addClass('green-box');
			$('#activeDiv').removeClass('grey-box');
			$('#saveAllBtn').attr('disabled', true);
			$('#submitBtnBtn').attr('disabled', true);
			$('#saveAttachmentBtn').attr('disabled', true);
		} else {
			$('#activeDiv').addClass('grey-box');
			$('#activeDiv').removeClass('green-box');
			$('#saveAllBtn').attr('disabled', false);
			$('#submitBtnBtn').attr('disabled', false);
			$('#saveAttachmentBtn').attr('disabled', false);
		}
		if (closedDate) {
			$('#completeDiv').addClass('green-box');
			$('#completeDiv').removeClass('grey-box');

		} else {
			$('#completeDiv').removeClass('green-box');
			$('#completeDiv').addClass('grey-box');
		}
		if (onHoldDate) {
			$('#onHoldDiv').addClass('green-box');
			$('#onHoldDiv').removeClass('grey-box');
		} else {
			$('#onHoldDiv').removeClass('green-box');
			$('#onHoldDiv').addClass('grey-box');
		}
	}
	function clearSearchData() {
		$("#search").val(null);
		$("#sku").html('');
		$("#brandName").html('');
		$("#brandId").val('');
		$("#itemId").html('');
		$("#itemName").html('');
	}

	// download function
	function activityCSV() {
		var dataset = [];
		activityOptions.api.forEachNodeAfterFilterAndSort(function(rowNode,
				index) {
			dataset.push(rowNode.data);
		});
		activityOptions.api.exportDataAsCsv(dataset);
	}

	function rfqCSV() {
		var dataset = [];
		grnOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		grnOptions.api.exportDataAsCsv(dataset);
	}
	function validFormData() {
		var allValid = true;
		if (!validationUpdated("Description can't be Left Blank", 'desc'))
			allValid = false;
		if (!validationUpdated("Requisition Type can't be Left Blank",
				'reqType'))
			allValid = false;
		if (!validationUpdated("Requisition Priority can't be Left Blank",
				'reqPrior'))
			allValid = false;
		if (!validationUpdated("Receive Date can't be Left Blank",
				'receiveDate'))
			allValid = false;
		return allValid;
	}
	function validSideBarData() {
		var allValid = true;

		if (!validationUpdated("Item can't be Left Blank", 'itemId'))
			allValid = false;
		if (!validationUpdated("Location can't be Left Blank", 'locationId'))
			allValid = false;
		if (!validationUpdated("Cost Center can't be Left Blank",
				'costCenterId'))
			allValid = false;
		if (!validationUpdated("Location can't be Left Blank", 'locationId'))
			allValid = false;
		if (!validationUpdated("Quantity can't be Left Blank", 'quantity'))
			allValid = false;
		if (!validationUpdated("UOM can't be Left Blank", 'uom'))
			allValid = false;
		if (!validationUpdated("Estimated Price can't be Left Blank",
				'estimatedPrice'))
			allValid = false;
		if (!validationUpdated("Total Estimated Price can't be Left Blank",
				'totalEstPrc'))
			allValid = false;
		if (!validationUpdated("Last Unit Purchase Price can't be Left Blank",
				'lastPurchaseUnitPrice'))
			allValid = false;
		if (!validationUpdated("Last Total Purchase Price can't be Left Blank",
				'lastPurchaseTotalPrice'))
			allValid = false;

		return allValid;

	}
	function validVenodData() {
		var selectedRows = vendorOptions.api.getSelectedRows();
		if (selectedRows) {
			return true;
		} else {
			$("#messageParagraph").text("Please Select At Least One Vendor");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');
			return false;
		}
	}

	function validProductData() {
		var item = null;
		productOptions.api.forEachNode(function(rowNode, index) {
			item = item + rowNode.data;
		});
		if (item) {
			return true;
		} else {
			$("#messageParagraph").text("Please Add At Least One Product");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');
			return false;
		}
	}

	function allocateVendor() {
		var selectedRows = vendorOptions.api.getSelectedRows();

		if (selectedRows != null) {
			var datas = [];
			vendorOptions.api.forEachNode(function(rowNode, index) {
				var item = rowNode.data;
				selectedRows.forEach(function(selectedRow, index) {
					if (item.vendorId === selectedRow.vendorId) {
						item.assignStatus = '1';
					}
				});
				datas.push(item);
			});
			vendorOptions.api.setRowData(datas);
		}
	}
	//function to check duplicate entry of item name
	function checkForDuplicateEntry(event) {
		var document = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var count = 0;
		$(".docNoclss").each(function() {
			if (document == $(this).val()) {
				count++;
			}
		})
		if (count >= 2) {
			$("#messageParagraph").text("Document Name Already Entered");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');

			return false;
		} else {
			return true;
		}

	}

	function saveMultiFile(event) {
		var AssignItemQty = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var currentFldId = "#" + currentFldId;

		var uFile = $(currentFldId)[0].files[0];
		var fileName = event.currentTarget.value;
		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
			fileName = fileName.substring(lastIndex + 1);
		}
		var extension = fileName.split(".");

		var iURL = URL.createObjectURL(uFile);
		$("#uploadedBillDiv_" + counter).html("");
		if (extension[1] != null && extension[1] != "") {
			$("#uploadHidden_" + counter).val('');
		}
		if (extension[1] == "jpg" || extension[1] == "png"
				|| extension[1] == "jpeg") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-picture-o'></i></a></div>";
		} else if (extension[1] == "pdf") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-pdf-o'></i> </a></div>";
		} else if (extension[1] == "xls" || extension[1] == "xlsx") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-excel-o'></i></a></div>";
		} else if (extension[1] == "doc" || extension[1] == "dox"
				|| extension[1] == "docx") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-word-o'></i></a></div>";
		} else {
			var LightImg = "<div class='uploadicon position-l '> </div>";
		}
		var dltImg = "<i class='ti-close position-l rmv1' onclick='openDeleteConfirm()'></i>";
		$("#uploadedBillDiv_" + counter).html(LightImg);
		$("#imageName_" + counter).html(fileName);
		$("#dltImage_" + counter).html(dltImg);
		$("#dltImage_" + counter).addClass("custom-file-delete");

		$("#clickImg_" + counter).removeClass("ti-plus");
		$("#clickImg_" + counter).addClass("ti-pencil");

	}
	function addMore1() {

		var lengthOfTableRow = $("#doctbodyData").children('tr').length;
		var cloneHtml = $("#docTbl tbody tr:first").clone();

		$("#docTbl tbody").append($("#docTbl tbody tr:first").clone());
		$("#myTable tbody tr td:last").html("");
		//var addMore = '<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMore1();"><span class="ti-plus"></span></button>&nbsp;'

		$("#docTbl tbody tr:last").find(".documentclss").val("");
		$("#docTbl tbody tr:last").find(".docNoclss").val("");
		$("#docTbl tbody tr:last").find(".documentclssup").val("");
		$("#docTbl tbody tr:last").find(".uploadedBillCls").empty();
		$("#docTbl tbody tr:last").find(".uploadHidCls").empty();
		$("#docTbl tbody tr:last").find(".uploadHidCls").val('');
		$("#docTbl tbody tr:last").find(".imageName").empty();
		var j = 0;
		$("#docTbl > #doctbodyData > tr").each(function(i) {

			var selectInput = $(this).find('select');
			var textInput = $(this).find('input');
			var fileInput = $(this).find('file');
			var divInput = $(this).find('div');
			var label = $(this).find('label');
			var iInput = $(this).find('i');
			selectInput.eq(0).attr('id', "docid_" + i);

			textInput.eq(1).attr('id', "docnoid_" + i);
			textInput.eq(2).attr('id', "uploadDoc_" + i);
			label.eq(1).attr('for', "uploadDoc_" + i);
			textInput.eq(3).attr('id', "uploadHidden_" + i);
			divInput.eq(4).attr('id', "uploadedBillDiv_" + i);
			divInput.eq(5).attr('id', "imageName_" + i);
			divInput.eq(6).attr('id', "dltImage_" + i);
			iInput.eq(0).attr('id', "clickImg_" + i);
			j++;
		})
		$("#clickImg_" + (j - 1)).removeClass("ti-pencil");
		$("#clickImg_" + (j - 1)).addClass("ti-plus");

	}

	function checkEmpty() {
		var infofileName = true;
		$(".formValidation").remove();
		$('.docNoclss').each(function() {
			if ($(this).val() == null || $(this).val() == "") {
				infofileName = false;
				validationModal("Document Name Required", $(this).attr('id'));
			}
		});

		var mulDocInfo = true;
		if (infofileName) {
			$('#doctbodyData > tr').each(function() {
				if ($(this).closest('tr').find('.imageName').text()) {
					mulDocInfo = true;
				} else {
					mulDocInfo = false;
					$("#messageParagraph").text("Please Choose a File ");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
					return false;
				}

			});
		}
		if (infofileName && mulDocInfo) {
			addMore1()
		}
	}

	function openDeleteConfirm() {
		$("#dltValue").val("");
		$('#deleteAttachment').modal('show');
	}
	//for closeing modal box for dlt ind product
	function closeDeleteConfirm() {
		$("#dltValue").val("");
		$('#deleteAttachment').modal('hide');
	}

	function deletAttachmentRow() {
		var lengthOfTableRow1 = 0;
		$("#docTbl > #doctbodyData > tr").each(function() {
			lengthOfTableRow1 = lengthOfTableRow1 + 1;
		})
		var id = $("#dltValue").val();
		$("#" + id).closest('tr').remove();
		closeDeleteConfirm();
		if (lengthOfTableRow1 == 1) {
			var tbl = '<tr> <td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
					+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option> </select> </div></td>'
					+ '<td><div class="form-group"> <input type="text" value="" class="form-control docNoclss" id="docnoid_"></div></td>'
					+ '<td> <div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_0" id="uploadFor_0"> <i class="ti-plus" id="clickImg_0"></i> </label>'
					+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_0" name="userImage" onchange="saveMultiFile(event)" /></div> </div> <input type="hidden" id="uploadHidden_0" class="uploadHidCls">'
					+ '<div id="uploadedBillDiv_0" align="center" class="uploadedBillCls"></div> <div id="imageName_0" class="imageName"></div><div id="dltImage_0"  ></div> </td>'
					+ '</tr>';
			$("#doctbodyData").append(tbl);
		}
	}
</script>
</head>
<body>

	<div layout:fragment="content" class="maincontent">

		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">
						<div class="row margin_topbot">
							<div class="btn-hs">
								<div class="input-style row">
									<input type="text" placeholder="Search.." name="search"
										class="searchboxinput" onkeyup="cancelBar()"
										oninput="onQuickFilterChanged()" id="quickFilter">
									<div class="searchicon">
										<a href="#"><span style="display: none" id="closeKey"
											onclick="rfqOptions.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKey').style.display='none';"
											class="close_i">X</span></a><a href="#"><i
											class="fa fa-search"></i></a>
									</div>
								</div>
							</div>
						</div>
						<div class="row" id="reqTable">

							<div class="col-md-4 btn-hs">
								<div class="font-design" id="totalReq">
									RFQ LIST (<span></span>)
								</div>
							</div>
							<div class="col-md-8 buttonsec btn-hs"></div>

						</div>

						<div id="rfqTable" style="width: 100%; height: 500px;"
							class="ag-theme-alpine"></div>

						<div class="collapse" id="demo">
							<div class="innerstickybg">
								<div class="row">

									<div class="col-md-3">
										RFQ ID: <span id="reqHeadId"></span>
									</div>
									<div class="col-md-6">
										<div id="statusDiv">
											<div class="hr2"></div>
											<div class="main-div">
												<div class="section2">
													<div id="createdDiv" class="green-box">
														<div class="green-box-heading">OPEN</div>
														<div class="date" id="openDate"></div>
													</div>
												</div>
												<div class="section3">
													<div id="activeDiv" class="green-box">
														<div class="green-box-heading">SUBMITTED</div>
														<div class="date" id="submittedDate"></div>
													</div>
												</div>
												<div class="section4">
													<div id="completeDiv" class="grey-box">
														<div class="green-box-heading">CLOSED</div>
														<div class="date" id="closedDate"></div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="col-md-3" align="right">
										<button class="btn4" id="rfqCancelBtn">Cancel</button>
										<button class="btn1" id="submitBtnBtn" onclick="submitData()">Submit</button>
										<button class="btn1" id="saveAllBtn" onclick="saveData()">Save</button>
									</div>
								</div>

							</div>
							<div class="row innersticky_contentgap">
								<div class="col-md-12">
									<label>Source: </label> <span id="source" class="source_text"></span>
								</div>
								<div class="col-md-6">
									<div class="form-group">
										<label>Description</label>
										<textarea class="form-control" id="desc"
											style="line-height: 54px !important;" readonly></textarea>
										<input type="hidden" id="rfqId" /> <input type="hidden"
											id="vendorRfqId" />
									</div>
								</div>
								<div class="col-md-6">
									<div class="row">
										<div class="col-md-6">
											<div class="form-group">
												<label>Type</label>
												<div class="select">
													<select id="reqType" disabled>
														<option th:each="c:${requisitionTypeList}"
															th:value='${c.key}' th:text="${c.name}"
															th:selected="${c.key==employeeEmployment}"></option>
													</select>
												</div>
											</div>
										</div>

										<div class="col-md-6">
											<div class="form-group">
												<label>Priority</label>
												<div class="select">
													<select id="reqPrior" disabled>
														<option th:each="c:${requisitionPrioList}"
															th:value='${c.key}' th:text="${c.name}"
															th:selected="${c.key==employeeEmployment}"></option>
													</select>
												</div>
											</div>
										</div>

									</div>
									<div class="row">
										<div class="col-md-6">
											<div class="form-group">
												<label>Receive By Date</label> <input type="text"
													id="receiveDate" class="form-control" readonly>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div id="main_content">
								<div class="wrapper center-block">
									<div class="panel-group" id="accordion" role="tablist"
										aria-multiselectable="true">

										<div class="panel panel-default">
											<div class="panel-heading active" role="tab" id="headingOne">
												<h4 class="panel-title">
													<a role="button" data-toggle="collapse"
														data-parent="#accordion" href="#itemList"
														aria-expanded="true" aria-controls="itemList"> Item
														List</a>
												</h4>
											</div>
											<div id="itemList" class="panel-collapse collapse show"
												role="tabpanel" aria-labelledby="headingOne">

												<div id="productist" style="width: 100%; height: 200px;"
													class="ag-theme-alpine"></div>


												<label>Comments</label>
												<textarea class="form-control" id="comments"
													style="line-height: 54px !important;"></textarea>


											</div>



										</div>


										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingNine">
												<h4 class="panel-title">
													<a class="collapsed mainSecond" role="button"
														data-toggle="collapse" data-parent="#accordion"
														href="#collapseNine" aria-expanded="true"
														aria-controls="collapseNine"> OTHER DOCUMENTS </a>
												</h4>
											</div>
											<div id="collapseNine" class="panel-collapse collapse show"
												role="tabpanel" aria-labelledby="headingNine">
												<div class="row">



													<div class="col-md-12 btn-hs1 padding-7" align="right">
														<button class="btn4">Download</button>
														<button class="btn1" id="saveAttachmentBtn"
															onclick="checkEmpty();">New</button>
													</div>

												</div>

												<table id="docTbl" cellspacing="7" cellpadding="7">
													<thead>
														<tr class="tr_clone">
															<!-- <th align="center"></th> -->

															<th width="320">Document Name</th>
															<th width="380">Attachment</th>


														</tr>
													</thead>
													<tbody id="doctbodyData">
														<tr>
															<td style="display: none" align="center" class="pdb-24"><input
																class="checkCls" type="checkbox" id="check2"><label
																for="check2"></label></td>
															<td style="display: none"><div class="form-group">


																	<select class="form-control documentclss" id="docid_0"
																		onblur="removeValid(event);">
																		<option value="">--Select--</option>
																		<option th:each="c,iter:${documentTypeList}"
																			th:value="${c.key}" th:text="${c.name}"></option>
																	</select>
																</div></td>
															<td><div class="form-group">
																	<input type="text" value=""
																		class="form-control docNoclss"
																		onblur="checkForDuplicateEntry(event)" id="docnoid_">
																</div></td>

															<td>
																<div class="control-group position-r">
																	<label class="custom-file-upload" for="uploadDoc_0"
																		id="uploadFor_0"> <i id="clickImg_0"
																		class="ti-plus"></i>
																	</label>
																	<div class="controls">

																		<input type="file" class="document" id="uploadDoc_0"
																			name="userImage" accept="image/*"
																			onchange="saveMultiFile(event)" />

																	</div>
																</div> <input type="hidden" id="uploadHidden_0"
																class="uploadHidCls">
																<div id="uploadedBillDiv_0" align="center"
																	class="uploadedBillCls"></div>
																<div id="imageName_0" class="imageName"></div>
																<div id="dltImage_0"></div>
															</td>

														</tr>


													</tbody>
												</table>

											

										</div>
									</div>

									<div class="panel panel-default">
										<div class="panel-heading active" role="tab" id="headingtwo">
											<h4 class="panel-title">
												<a role="button" data-toggle="collapse"
													data-parent="#accordion" href="#activityone"
													aria-expanded="true" aria-controls="itemList">
													Activities </a>
											</h4>
										</div>
										<div id="activityone" class="panel-collapse collapse show"
											role="tabpanel" aria-labelledby="headingtwo">
											<div class="row">

												<div class="col-md-6 btn-hs1">
													<div class="font-design"></div>
												</div>

												<div class="col-md-6 buttonsec btn-hs1">

													<button class="btn4" onclick="activityCSV()">Download</button>
													<!-- <button class="btn4">Upload</button> -->
												</div>

											</div>
											<div id="activity" style="width: 100%; height: 200px;"
												class="ag-theme-alpine"></div>


										</div>
									</div>
								</div>
							</div>



						</div>

					</div>
				</div>
			</div>

			<!-- delete attachment modal start -->
			<div id="deleteAttachment" class="modal fade show" aria-modal="true">
				<div class="modal-dialog modal-confirm">
					<div class="modal-content">
						<div class="modal-header flex-column">
							<button type="button" class="close" data-dismiss="modal"
								aria-hidden="true" onclick="cancelModalProductBtn()">
								<i class="ti-close modal-close"></i>
							</button>
						</div>
						<div class="modal-body">
							<p>Do you really want to delete these records? This process
								cannot be undone.</p>
							<input type="hidden" id="dltValue">
						</div>
						<div class="modal-footer justify-content-center">

							<button type="button" class="btn4" data-dismiss="modal"
								onclick="closeDeleteConfirm();">Cancel</button>
							<button type="button" class="btn3" onclick="deletAttachmentRow()">Delete</button>
						</div>
					</div>
				</div>
			</div>

			<!-- alert modal start -->
			<div id="alert" class="modal fade show" aria-modal="true">
				<div class="modal-dialog modal-confirm">
					<div class="modal-content">
						<div class="modal-header flex-column">
							<button type="button" class="close" data-dismiss="modal"
								aria-hidden="true" onclick="cancelModalBtn()">
								<i class="ti-close modal-close"></i>
							</button>
						</div>
						<div class="modal-body">
							<p id="textId"></p>
						</div>
						<div class="modal-footer justify-content-center"
							style="margin-top: -30px;">

							<button type="button" class="btn4" data-dismiss="modal"
								onclick="cancelModalBtn();">Close</button>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
	</div>
	</div>
</body>
</html>