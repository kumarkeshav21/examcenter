<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">

<head>
<script>


	//ag grid for location
	var columnDefs = [{
		headerCheckboxSelection: true,
		headerCheckboxSelectionFilteredOnly: true,
		checkboxSelection: true,
		width: 10,
		sortable: false,
		filter: false,
		resizable: true
	},
	{
		headerName: "Location ID",
		field: "vendorLocationId",
		cellRenderer: function (params) {
			return '<a onclick=editLocation("' + params.data.vendorLocationId + '") href="javascript:void(0)">' + params.data.vendorLocationId + '</a>';
		}
	},
	 {
		headerName: "Location Name",
		field: "vendorLocationName"
		
	}, 
	{
		headerName: "Location Type",
		field: "vendorLocationType",
		type: "rightAligned"
	},
	{
		headerName: "Billing Status",
		field: "vendorBillingStatus",
		cellRenderer: function (params) {
			if(params.data.vendorBillingStatus == "1"){
				return '<i class="fa fa-check" aria-hidden="true"></i>';
			}else{
				return '';
			}
		}
	},{
		headerName: "Primary Status",
		field: "vendorPrimaryStatus",
		cellRenderer: function (params) {
			if(params.data.vendorPrimaryStatus == "1"){
				return '<i class="fa fa-check" aria-hidden="true"></i>';
			}else{
				return '';
			}
		}
	},{
		headerName: "Adress",
		field: "vendorLocAddress"
		
	},{
		headerName: "Country",
		field: "vendorCountry"
		
	},{
		headerName: "State",
		field: "vendorState"
		
	},{
		headerName: "City",
		field: "vendorCity"
		
	},{
		headerName: "Created Date",
		field: "createdOn"
		
	}];

	var gridOptions = {
		columnDefs: columnDefs,
		rowSelection: 'multiple',
		defaultColDef: {
			sortable: true,
			filter: true,
			resizable: true,
			width: 149,
			height: 10
		}
	};


	//setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
	var gridDiv = document.querySelector('#myGrid');
	new agGrid.Grid(gridDiv, gridOptions);


	 

	});
	function agGridLocation(){
		var vendorId= $("#vendorId").val(); 
		var locationList=[];
		agGrid.simpleHttpRequest({
	    	url : "vendor-company-master-through-ajax?id="+ vendorId
	    }).then(function(data) {
	    	
	    	gridOptions.api.setRowData(data);
	    	 
	    	$("#location").empty();
	    	$("#location").append("<option value=''>Select</option>");

	    	$(data).each(function(i){
	    		var option = $("<option></option>");
				$(option).val(data[i].vendorLocationId);
				$(option).html(data[i].vendorLocationName);
				$("#location").append(option);
	    	});
	    	
	    });
}

	//ag grid  for location end

//ag grid for contact
	var columnContactDefs = [{
		headerCheckboxSelection: true,
		headerCheckboxSelectionFilteredOnly: true,
		checkboxSelection: true,
		width: 10,
		sortable: false,
		filter: false,
		resizable: true
	},
	{
		headerName: "Contact ID",
		field: "contactId",
		cellRenderer: function (params) {
			return '<a onclick=editContact("' + params.data.contactId + '") href="javascript:void(0)">' + params.data.contactId + '</a>';
		}
	},
	 {
		headerName: "Contact Name",
		field: "contactName"
		
	},{
		headerName: "Status",
		field: "contactStatus",
		cellRenderer: function (params) {
			if(params.data.contactStatus == "0"){
				$("#createUser").show();
				$("#resetPassword").hide();
				return 'No';
			}else{
				$("#createUser").hide();
				$("#resetPassword").show();
				return 'Yes';
			}
		}
		
	}, 
	{
		headerName: "Designation",
		field: "contactDesignation",
		type: "rightAligned"
	},
	{
		headerName: "Function",
		field: "contactFunction",
	},{
		headerName: "Location",
		field: "location",
	
	},{
		headerName: "Phone",
		field: "phone"
		
	},{
		headerName: "Primary Status",
		field: "primaryStatusContact",
		cellRenderer: function (params) {
				if(params.data.primaryStatusContact == "1"){
					return '<i class="fa fa-check" aria-hidden="true"></i>';
				}else{
					return '';
				}
			}
	},{
		headerName: "Email",
		field: "email"
		
	},{
		headerName: "Created Date",
		field: "createdOn",
		cellStyle : {
			textAlign : 'center'
		}
		
	}];

	var gridContactOptions = {
		columnDefs: columnContactDefs,
		/* rowSelection: 'single', */
		onSelectionChanged : onSelectionChanged,
		defaultColDef: {
			sortable: true,
			filter: true,
			resizable: true,
			width: 149,
			height: 10
		}
	};
	
	
	function onSelectionChanged() {
		var selectedRows = gridContactOptions.api.getSelectedRows();
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});

		if (rowCount > 0) {
			$('#createUser').attr('disabled', false);
		} else {
			$('#createUser').attr('disabled', true);
		}

	}

	//setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridContactDiv = document.querySelector('#myContactGrid');
		new agGrid.Grid(gridContactDiv, gridContactOptions);

		 

	});

	$(document).ready(function() {
		var vendorId = $("#vendorId").val();

		agGrid.simpleHttpRequest({
			url : "vendor-company-master-contact-through-ajax?id=" + vendorId
		}).then(function(data) {

			gridContactOptions.api.setRowData(data);
		});
	})

	function agGridContact() {
		var vendorId = $("#vendorId").val();

		agGrid.simpleHttpRequest({
			url : "vendor-company-master-contact-through-ajax?id=" + vendorId
		}).then(function(data) {

			gridContactOptions.api.setRowData(data);
			 
		});
	}

	//ag grid  for contact end
	//ag grid for vendor master start
	var columnVendorDefs = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true
			},
			{
				headerName : "ID",
				field : "vendorId",
				cellRenderer : function(params) {
					return '<a onclick=editVendor("' + params.data.vendorId
							+ '") href="javascript:void(0)">'
							+ params.data.vendorId + '</a>';
				}
			},
			{
				headerName : "Code",
				field : "code",
				type : "rightAligned"

			},
			{
				headerName : "Name",
				field : "vendorName",
				type : "rightAligned"
			},
			{
				headerName : "Type",
				field : "categoryType",
				type : "rightAligned"
			 
			},
			{
				headerName : "Address",
				field : "address",
				
			}, {
				headerName : "City",
				field : "city"

			}, {
				headerName : "State",
				field : "state"

			}, {
				headerName : "Country",
				field : "country"

			}, {
				headerName : "Phone",
				field : "phone"

			}, {
				headerName : "Email",
				field : "email"

			}, {
				headerName : "Bank Info",
				field : "bankInfo"

			}, {
				headerName : "Status",
				field : "vendorStatus",
				type : "rightAligned"

			}, {
				headerName : "Created Date",
				field : "createdOn",
				cellStyle : {
					textAlign : 'center'
				} 

			} ];

	var gridVendorOptions = {
		columnDefs : columnVendorDefs,
		rowSelection : 'multiple',
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 149,
			height : 10
		}
	};

	//setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridVendorDiv = document.querySelector('#myVendorGrid');
		new agGrid.Grid(gridVendorDiv, gridVendorOptions);  
	});
	function agGridVendor() {

		agGrid.simpleHttpRequest({ 
			url : "vendor-company-master-data-through-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalReq').find('span').html(len);
			gridVendorOptions.api.setRowData(data);
		});
	}

	//ag grid for vendor master end
	//ag grid for bank details start
	var columnBankDefs = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true
			},
			{
				headerName : "Bank Id",
				field : "ebankId",
				cellRenderer : function(params) {
					return '<a onclick=editBankDetails("' + params.data.ebankId
							+ '") href="javascript:void(0)">'
							+ params.data.ebankId + '</a>';
				}
			},
			{
				headerName : "Bank Name",
				field : "ebankName"
			},
			{
				headerName : "Primary Status",
				field : "bankPrimaryStatus",
				cellRenderer : function(params) {
					if (params.data.bankPrimaryStatus == "1") {
						return '<i class="fa fa-check" aria-hidden="true"></i>';
					} else {
						return '';
					}
				}
			}, {
				headerName : "Address",
				field : "ebankAddress"
			}, {
				headerName : "City",
				field : "ebankCity"
			}, {
				headerName : "State",
				field : "ebankState"
			}, {
				headerName : "Country",
				field : "ebankCountry"
			}, {
				headerName : "Account Number",
				field : "ebankAccountNo"
			},

			{
				headerName : "IFIC Code",
				field : "eIfic"
			},{
				headerName : "Created Date",
				field : "createdBy"
			} ];

	var gridBankOptions = {
		columnDefs : columnBankDefs,
		rowSelection : 'multiple',
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 149,
			height : 10
		}
	};

	//setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridBankDiv = document.querySelector('#myGrid3');
		new agGrid.Grid(gridBankDiv, gridBankOptions);

		 

	});
	function agGridBank() {
		var vendorId = $("#vendorId").val();
		agGrid.simpleHttpRequest({
			url : "vendor-company-master-bank-through-ajax?id=" + vendorId
		}).then(function(data) {

			gridBankOptions.api.setRowData(data);
		});
	}

	//ag grid for bank details end

	//ag grid for activity log start
	var activityDefs = [ {
		headerCheckboxSelection : true,
		headerCheckboxSelectionFilteredOnly : true,
		checkboxSelection : true,
		sortable : false,
		filter : false,
		resizable : true,
		width : 20
	}, {
		headerName : "Activity Name",
		field : "operationName"
	}, {
		headerName : "User Name",
		field : "operationBy"
	}, {
		headerName : "Created Date",
		field : "operationOn",
		cellStyle : {
			textAlign : 'center'
		}

	} ];

	var activityOptions = {
		columnDefs : activityDefs,

		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 353
		}

	};

	document.addEventListener('DOMContentLoaded', function() {

		var gridDiv = document.querySelector('#activity');
		new agGrid.Grid(gridDiv, activityOptions);

	});
	function agGridActivity() {
		var vendorId = $("#vendorId").val();
		agGrid.simpleHttpRequest({
			url : 'vendor-company-master-activity-through-ajax?id=' + vendorId
		}).then(function(data) {
			activityOptions.api.setRowData(data);
		});
	}
	//ag grid for activity log end
	$(document).ready(function() {
				
		agGridVendor();
						//hide main content
						var vendorId = $("#vendorId").val();
						if (vendorId) {

							$("#main").show();
						} else {

							$("#main").hide();
						}

						$('.collapse').on(
								'show.bs.collapse',
								function() {
									$(this).siblings('.panel-heading')
											.addClass('active');
								});

						$('.collapse').on(
								'hide.bs.collapse',
								function() {
									$(this).siblings('.panel-heading')
											.removeClass('active');
								});
						//onchange of state and city

						$("#vendorCountry")
								.change(
										function() {
											var country = $(this).val();
											if (country) {
												$
														.ajax({
															type : "POST",
															url : "vendor-company-master-get-state-list",
															dataType : 'json',
															contentType : 'application/json',
															data : country,
															success : function(
																	response) {
																if (response.message == "success") {

																	$(
																			"#vendorState")
																			.empty();
																	$(
																			"#vendorState")
																			.append(
																					"<option value=''>Select</option>");
																	$(
																			"#vendorCity")
																			.empty();
																	$(
																			"#vendorCity")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(
																				option)
																				.val(
																						response.body[i].key);
																		$(
																				option)
																				.html(
																						response.body[i].name);
																		$(
																				"#vendorState")
																				.append(
																						option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$(
																		"#vendorState")
																		.empty();
																$(
																		"#vendorState")
																		.append(
																				"<option value=''>Select</option>");
																$("#vendorCity")
																		.empty();
																$("#vendorCity")
																		.append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#vendorState").empty();
												$("#vendorState")
														.append(
																"<option value=''>Select</option>");
												$("#vendorCity").empty();
												$("#vendorCity")
														.append(
																"<option value=''>Select</option>");
											}
										})

						$("#vendorState")
								.change(
										function() {
											var state = $(this).val();
											if (state) {
												$
														.ajax({
															type : "POST",
															url : "manage-location-get-city-list",
															dataType : 'json',
															contentType : 'application/json',
															data : state,
															success : function(
																	response) {
																if (response.message == "success") {

																	$(
																			"#vendorCity")
																			.empty();
																	$(
																			"#vendorCity")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(
																				option)
																				.val(
																						response.body[i].key);
																		$(
																				option)
																				.html(
																						response.body[i].name);
																		$(
																				"#vendorCity")
																				.append(
																						option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$("#vendorCity")
																		.empty();
																$("#vendorCity")
																		.append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#vendorCity").empty();
												$("#vendorCity")
														.append(
																"<option value=''>Select</option>");
											}
										})

						//onchange of state and city end
						
							//onchange of state and city for bank details

						$("#countryid_b")
								.change(
										function() {
											var country = $(this).val();
											if (country) {
												$
														.ajax({
															type : "POST",
															url : "vendor-company-master-get-state-list",
															dataType : 'json',
															contentType : 'application/json',
															data : country,
															success : function(
																	response) {
																if (response.message == "success") {

																	$("#stateid_b").empty();
																	$("#stateid_b").append("<option value=''>Select</option>");
																	$("#cityid").empty();
																	$("#cityid").append("<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(option).val(response.body[i].key);
																		$(option).html(response.body[i].name);
																		$("#stateid_b").append(option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$("#stateid_b").empty();
																$("#stateid_b").append("<option value=''>Select</option>");
																$("#cityid").empty();
																$("#cityid").append("<option value=''>Select</option>");
															}
														})
											} else {
												$("#stateid_b").empty();
												$("#stateid_b").append("<option value=''>Select</option>");
												$("#cityid").empty();
												$("#cityid").append("<option value=''>Select</option>");
											}
										})

						$("#stateid_b")
								.change(
										function() {
											var state = $(this).val();
											if (state) {
												$.ajax({
															type : "POST",
															url : "manage-location-get-city-list",
															dataType : 'json',
															contentType : 'application/json',
															data : state,
															success : function(
																	response) {
																if (response.message == "success") {

																	$("#cityid")
																			.empty();
																	$("#cityid")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(option).val(response.body[i].key);
																		$(option).html(response.body[i].name);
																		$("#cityid").append(option);
																	}
																}
															},
															error : function(
																	data) {
																console.log(data);
																$("#cityid").empty();
																$("#cityid").append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#cityid").empty();
												$("#cityid")
														.append(
																"<option value=''>Select</option>");
											}
										})

						//onchange of state and city end for bank
						
						//save vendor 
						$("#saveVendor").click(
								function() {

									data = {};

									data.vendorName = $("#vendorName").val();
									data.code = $("#vendorCode").val();
									data.vendorId = $("#vendorId").val();
									data.category = $("#Category").val();
									data.categoryType = $("#type").val();
									data.comapanyOverview = $(
											"#companyOverView").val();
									data.vendorStatus = $(
											"input[name='isActive']:checked")
											.val();
									data.module = localStorage
											.getItem('module');
									data.component = localStorage
											.getItem('function');
									data.subcomponent = localStorage
											.getItem('activity');
									submitVendor(data);

								})
						//save vendor end
						//save company information

						$("#saveVendorCompanyInfo")
								.click(
										function() {

											data = {};

											data.companyDate = $("#companyDate").val();
											data.grossAnnualSale = $(
													"#grossAnnualSale").val();
											data.currency = $("#currency")
													.val();
											data.totalEmployee = $(
													"#totalEmployee").val();
											data.website = $("#website").val();

											data.vendorId = $("#vendorId")
													.val();
											data.vendorName = $("#vendorName")
													.val();
											data.code = $("#vendorCode").val();
											data.vendorId = $("#vendorId")
													.val();
											data.category = $("#Category")
													.val();
											data.categoryType = $("#type")
													.val();
											data.comapanyOverview = $(
													"#companyOverView").val();
											data.vendorStatus = $(
													"input[name='isActive']:checked")
													.val();
											data.module = localStorage
													.getItem('module');
											data.component = localStorage
													.getItem('function');
											data.subcomponent = localStorage
													.getItem('activity');
											submitVendor(data);

										}) 
						$("#saveVendorLocation")
								.click(
										function() {

											data = {};
											data.vendorLocationId = $(
													"#vendorLocationId").val();
											data.vendorLocationName = $(
													"#vendorLocationName")
													.val();
											data.vendorLocationType = $(
													"#vendorLocationType")
													.val();
											data.vendorId = $("#vendorId")
													.val();
											data.vendorBillingStatus = $(
													"input[name='isBillingActive']:checked")
													.val();
											data.vendorPrimaryStatus = $(
													"input[name='isPrimaryActive']:checked")
													.val();
											data.vendorLocAddress = $(
													"#vendorLocAddress").val();
											data.vendorCountry = $(
													"#vendorCountry").val();
											data.vendorCity = $("#vendorCity")
													.val();
											data.vendorState = $("#vendorState")
													.val();
											data.module = localStorage
													.getItem('module');
											data.component = localStorage
													.getItem('function');
											data.subcomponent = localStorage
													.getItem('activity');
											submitVendorLocation(data);
										 

										}) 
						$("#saveVendorContact")
								.click(
										function() {

											data = {};
											data.vendorId = $("#vendorId")
													.val();
											data.contactId = $("#contactId")
													.val();
											data.contactName = $("#contactName")
													.val();
											data.contactDesignation = $(
													"#contactDesignation")
													.val();
											data.contactFunction = $(
													"#contactFunction").val();
											data.location = $("#location")
													.val();
											data.phone = $("#phone").val();
											data.email = $("#email").val();
											data.primaryStatusContact = $(
													"input[name='isContactPrimaryActive']:checked")
													.val();
											data.module = localStorage
													.getItem('module');
											data.component = localStorage
													.getItem('function');
											data.subcomponent = localStorage
													.getItem('activity');
											submitVendorContact(data);

										})
						//save vendor contact end
						//save bank details
						$("#submitbankdetils")
								.click(
										function() {

											data = {};

											data.employeeId = $("#vendorId")
													.val();
											data.ebankId = $("#bankId").val();
											data.ebankName = $("#banknameid")
													.val();
											data.ebankAddress = $(
													"#addressid_b").val();
											data.ebankCity = $("#cityid").val();

											data.ebankState = $("#stateid_b")
													.val();
											data.ebankCountry = $(
													"#countryid_b").val();
											data.ebankAccountNo = $(
													"#accountNOb").val();
											data.eIfic = $("#ificb").val();
											data.bankPrimaryStatus = $(
													"#primaryStatusBank").val();
											data.module = localStorage
													.getItem('module');
											data.component = localStorage
													.getItem('function');
											data.subcomponent = localStorage
													.getItem('activity');

											submitbankdetils(data);

										}) 
						
	$("#saveDocuments").click(function() {
			
			//again
			$('.loader').show();
			$("body").addClass("overlay");
			var imageValid = true;
			var uploadList = [];
			$("#doctbodyData > tr").each(function() {
				var uFile = $(this).find(".document")[0].files[0];
				var fileName = $(this).find(".document").val();
				var data = [];
				var x = [];
				if (fileName != '' && fileName != 'undefined' && fileName != null) {
					var lastIndex = fileName.lastIndexOf("\\");
					if (lastIndex >= 0) {
						fileName = fileName.substring(lastIndex + 1);
					}
					var reader = new FileReader();
					reader.readAsDataURL(uFile);

					reader.onload = function() {
						data = reader.result.split(",");
						x.push(data[1]);
					};
				}else{
					if ($("#vendorRfqId").val()) {

						fileName = $(this).find(".uploadHidCls").val();
     					 
     				}else{
     					 x = [];
 						 
     				}
						
				}
				uploaddata = {};
				uploaddata['documentImage'] = fileName;
				uploaddata['vendorId'] = $("#vendorId").val();
				uploaddata['documentName'] = $(this).find(".documentclss").val();
				uploaddata['documentNo'] = $(this).find(".docNoclss").val();
				uploaddata['file'] = x;
				uploadList.push(uploaddata);

			});
			setTimeout(function() {
				submitVendorDocument(uploadList);
			}, 1000)
			
		});
						 
});
	
	function openNav() {
$("#vendorLocationId").val("");
$("#vendorLocationName").val("");
$("#vendorLocationType").val("");
$('#billingStatus').prop('checked', true);
$('#primaryStatus').prop('checked', true);
$("#vendorLocAddress").val("");


 
closeContactNav();
 $('#saveVendor').attr("disabled", true);
 $('#cancelBtn').attr("disabled", true);
document.getElementById("mySidenav").style.cssText = "width: 350px; position: absolute; right:-30px; overflow: hidden; height:auto;";
document.getElementById("main").style.width = "72%";
}
function openContactNav() {
$("#contactId").val("");
$("#contactName").val("");
$('#primaryStatusContact').prop('checked', true);
$("#phone").val("");
$("#email").val("");
 

closeNav();
 $('#saveVendor').attr("disabled", true);
 $('#cancelBtn').attr("disabled", true);
document.getElementById("mySideContactnav").style.cssText = "width: 350px; position: absolute; right:-30px; overflow: hidden; height:auto;";
document.getElementById("main").style.width = "72%";
}
function openNav3() {
closeNav();
closeContactNav();

$("#banknameid").val("");
$("#addressid_b").val("");
$("#stateid_b").val("");
$("#accountNOb").val("");
$("#ificb").val("");
$('#saveVendor').attr("disabled", true);
$('#cancelBtn').attr("disabled", true);
 
$('#primaryStatusBank').prop('checked', true);
document.getElementById("mySidenav3").style.cssText = "width: 350px; position: absolute; right:-30px; overflow: hidden; height:auto;";
document.getElementById("main").style.width = "72%";
}
function closeNav() {
	document.getElementById("mySidenav").style.width = "0";
	document.getElementById("main").style.width = "100%";
	$('#saveVendor').attr("disabled", false);
	$('#cancelBtn').attr("disabled", false);
}
function closeContactNav() {
	document.getElementById("mySideContactnav").style.width = "0";
	document.getElementById("main").style.width = "100%";
	$('#saveVendor').attr("disabled", false);
	$('#cancelBtn').attr("disabled", false);
}
function closeNav3() {
	document.getElementById("mySidenav3").style.width = "0";
	document.getElementById("main").style.width = "100%";
	$('#saveVendor').attr("disabled", false);
	$('#cancelBtn').attr("disabled", false);
}
	var count = 0;
	function allCheck() {
		count++;

		if (count == 1) {
			$('.checkCls').prop("checked", true);
		} else {
			count = 0;
			$('.checkCls').prop("checked", false);
		}
	}

	var count1 = 0;
	function allCheck1() {
		count1++;

		if (count1 == 1) {
			$('.checkCls1').prop("checked", true);
		} else {
			count1 = 0;
			$('.checkCls1').prop("checked", false);
		}
	}

	var count2 = 0;
	function allCheck2() {
		count2++;

		if (count2 == 1) {
			$('.checkCls2').prop("checked", true);
		} else {
			count2 = 0;
			$('.checkCls2').prop("checked", false);
		}
	}

	var count3 = 0;
	function allCheck3() {
		count3++;

		if (count3 == 1) {
			$('.checkCls3').prop("checked", true);
		} else {
			count3 = 0;
			$('.checkCls3').prop("checked", false);
		}
	}

	var count4 = 0;
	function allCheck4() {
		count4++;

		if (count4 == 1) {
			$('.checkCls4').prop("checked", true);
		} else {
			count4 = 0;
			$('.checkCls4').prop("checked", false);
		}
	}

	var count5 = 0;
	function allCheck5() {
		count5++;

		if (count5 == 1) {
			$('.checkCls5').prop("checked", true);
		} else {
			count5 = 0;
			$('.checkCls5').prop("checked", false);
		}
	}

	var count6 = 0;
	function allCheck6() {
		count6++;

		if (count6 == 1) {
			$('.checkCls6').prop("checked", true);
		} else {
			count6 = 0;
			$('.checkCls6').prop("checked", false);
		}
	}

	var count7 = 0;
	function allCheck7() {
		count7++;

		if (count7 == 1) {
			$('.checkCls7').prop("checked", true);
		} else {
			count7 = 0;
			$('.checkCls7').prop("checked", false);
		}
	}

	var count = 0;
	function allCheck() {
		count++;

		if (count == 1) {
			$('.checkCls').prop("checked", true);
		} else {
			count = 0;
			$('.checkCls').prop("checked", false);
		}
	}

	var count = 0;
	function allCheck() {
		count++;

		if (count == 1) {
			$('.checkCls').prop("checked", true);
		} else {
			count = 0;
			$('.checkCls').prop("checked", false);
		}
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#searchBar').val() == null || $('#searchBar').val() == "") {
			id.style.display = "none";
		}
	}
</script>

<script type="text/javascript">
	$(document).ready(function() {
		changeOpt();
		$("#newBtn").click(function() {
			$("#main").hide();	
			$("#myTbl").hide();
			$(".btn-hs").hide();
			$("#demo").show();		
			$("#myVendorGrid").hide();
			$('#vendorStatus').prop('checked', true);
			agGridLocation();
			agGridContact();
			agGridBank();
			agGridActivity();
			//to blanck all vendor data
			$ ("#vendorId").val("");
			$("#vendorText").text("");
			$("#vendorName").val("");
			$("#vendorCode").val("");
		
			$("#type").val("");
			$("#companyOverView").val("");
			$('#imgLoc').attr('src', '');
			$('#imgLoc').attr('src', '../assets/images/noimage.jpg');
			 
		})

		$("#cancelBtn").click(function() {
			$("#myTbl").show();
			$("#myVendorGrid").show();
			$(".btn-hs").show();
			$("#demo").hide();
			agGridVendor();
		});
		$("#quarter").click(function() {
			$("#myTbl").hide();
			("#myVendorGrid").hide();
			$(".btn-hs").hide();
			$("#demo").show();
		})

		$("#cancelBtn").click(function() {
			$("#myTbl").show();
			("#myVendorGrid").show();
			$(".btn-hs").show();
			$("#demo").hide();
		});
	});

	$("input[class='myCheckbox']").click(function() {
		if ($("#formID input:checkbox:checked").length > 0) {

			$(".checkSubmit").addClass('active');
		} else {
			$(".checkSubmit").removeClass('active');
		}
	});

	function changeOpt() {
		var Category = $("#Category").val();
		$("#type").empty();
		if (Category == 'Product') {
			var option = "<option id='ProductOpt'>Software</option> <option id='ProductOpt'>Hardware</option> <option id='ProductOpt'>Office</option> <option id='ProductOpt'>Food</option> <option id='ProductOpt'>Parts</option> <option id='ProductOpt'>Raw Material</option>";
			$("#type").append(option);
		} else {
			var option = "<option id='ServicesOpt'>Credit Card</option> <option id='ServicesOpt'>Bank</option> <option id='ServicesOpt'>Insurance</option> <option id='ServicesOpt'>Financial Service</option> <option id='ServicesOpt'>Government Agency</option> <option id='ServicesOpt'>GOffice Maintenance</option> <option id='ServicesOpt'>Consulting</option>";
			$("#type").append(option);
		}
	}
</script>


<script>
function saveFile() {
	
	var uFile = $('#fileUpload')[0].files[0]; 
	var fileName = $('#fileUpload').val();
	
	var lastIndex = fileName.lastIndexOf("\\");
	if(lastIndex >= 0) {
		fileName = fileName.substring(lastIndex + 1);
	}
	var iURL = URL.createObjectURL(uFile);
	
	$('#imgLoc').attr('src', '');
	$('#imgLoc').attr('src', iURL);
	
	var fileData = new FormData();
	fileData.append('file',uFile);
	fileData.append('path','none');
	
	$.ajax({
		type        : "POST",
		url         : "vendor-company-master-upload-file",
		enctype     : "multipart/form-data",
		contentType : false,
		data        : fileData,
		processData : false,
		cache       : false,
		success     : function(response){
						
					},			  
		error       : function(e) {
			
			  		}
	});
}

function deleteFile() {
	
	$('#imgLoc').attr('src', '');
	$('#imgLoc').attr('src', '../assets/images/noimage.jpg');
	
	var fileData = new FormData();
	
	fileData.append('file','none');
	fileData.append('path','none');
	
	$.ajax({
		type        : "POST",
		url         : "manage-location-delete-file",
		enctype     : "multipart/form-data",
		contentType : false,
		/* data        : fileData, */
		processData : false,
		cache       : false,
		success     : function(response){
						console.log("ABC")
					},			  
		error       : function(e) {
			
			  		}
	});
}
function submitVendor(dataset) {
    console.log(dataset)
    $.ajax({
        type: "POST",
        url: "vendor-company-master-save",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "Success") {
            	var vendorId=$("#vendorId").val();
            	$("#main").show();
            	$("#vendorText").text("");
            	$("#vendorId").val(response.body.vendorId);
				$("#vendorText").text("Vendor Id:"+response.body.vendorId);
				agGridVendor();
				agGrid.simpleHttpRequest({
					url : 'vendor-company-master-activity-through-ajax?id=' + response.body.vendorId
				}).then(function(data) {
					activityOptions.api.setRowData(data);
				});
				
            } else {
                swal({
                    title: response.code,
                    text: response.message,
                    type: "warning"
                })
            }
        },
        error: function(response) {
            console.log(response);
        }
    })
}
//submit vendor location
function submitVendorLocation(dataset) {
    $.ajax({
        type: "POST",
        url: "vendor-company-master-location-save",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "Success") {
            	agGridLocation();
            	closeNav();
            	agGridActivity();
            } else {
                swal({
                    title: response.code,
                    text: response.message,
                    type: "warning"
                })
            }
        },
        error: function(response) {
            console.log(response);
        }
    })
}

function submitVendorContact(dataset) {
    console.log("contact",dataset)
    $.ajax({
        type: "POST",
        url: "vendor-company-master-contact-save",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "Success") {
            	agGridContact();
            	closeContactNav();
            	agGridActivity();
            } else {
                swal({
                    title: response.code,
                    text: response.message,
                    type: "warning"
                })
            }
        },
        error: function(response) {
            console.log(response);
        }
    })
}
function submitVendorDocument(dataset) {
    $.ajax({
        type: "POST",
        url: "vendor-company-master-document-save",
        dataType: "json",
        contentType: "application/json; charset=utf-8",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "Success") {
            	
                	agGridContact();
            	closeContactNav();
            	agGridActivity();
            } else {
                swal({
                    title: response.code,
                    text: response.message,
                    type: "warning"
                })
            }
        },
        error: function(response) {
            console.log(response);
        }
    })
}
//function for submit bank details
function submitbankdetils(dataset) {
		

		
	    $.ajax({
	        type: "POST",
	        url: "vendor-company-master-bankdetails-save",
	        dataType: "json",
	        contentType: "application/json",
	        data: JSON.stringify(dataset),
	        success: function(response) {
	            if (response.message == "Success") {
	            	 console.log("in side success")
	            	 closeNav3();
	            	 agGridBank();
	            	 agGridActivity();
	            } else {
	                swal({
	                    title: response.code,
	                    text: response.message,
	                    type: "warning"
	                })
	            }
	        },
	        error: function(response) {
	            console.log(response);
	        }
	    })
	}
//function for submit bank details end
//function for edit location
function editLocation(id){

	openNav();
	if(id) {
		$.ajax({
			type : "POST",
			url : "vendor-company-master-location-edit",
			dataType : 'json',
			contentType : 'application/json',
			data : id,
			success : function(response) {
				if (response.message == "success") {
				
					$ ("#vendorLocationId").val(response.body.vendorLocationId);
					$("#vendorLocationName").val(response.body.vendorLocationName);
					$("#vendorLocationType").val(response.body.vendorLocationType);
					
					var vendorBillingStatus = response.body.vendorBillingStatus;
					
					if(vendorBillingStatus == '1') {
						$('#billingStatus').prop('checked', true);
					} else {
						$('#billingStatus').prop('checked', false);
					}
					var vendorPrimaryStatus = response.body.vendorPrimaryStatus;
					
					if(vendorPrimaryStatus == '1') {
						$('#primaryStatus').prop('checked', true);
					} else {
						$('#primaryStatus').prop('checked', false);
					}
					$("#vendorLocAddress").val(response.body.vendorLocAddress);
					$("#vendorCountry").val(response.body.vendorCountry);
					$("#vendorState").empty();
					$("#vendorState").append("<option value=''>Select</option>");
					for(var i=0; i < response.body.stateList.length; i++) {
						$("#vendorState").append("<option value='"+response.body.stateList[i].key+"'>"+response.body.stateList[i].name+"</option>");
					}
					
					$("#vendorState").val(response.body.vendorState);
					
					$("#vendorCity").empty();
					$("#vendorCity").append("<option value=''>Select</option>");
					for(var i=0; i < response.body.cityList.length; i++) {
						$("#vendorCity").append("<option value='"+response.body.cityList[i].key+"'>"+response.body.cityList[i].name+"</option>");
					}
					$("#vendorCity").val(response.body.vendorCity);
				}
			}, error : function(data) {
				console.log(data)
			}
		});
	}
}
//function for edit location
function editContact(id){

	openContactNav();
	if(id) {
		$.ajax({
			type : "POST",
			url : "vendor-company-master-contact-edit",
			dataType : 'json',
			contentType : 'application/json',
			data : id,
			success : function(response) {
				if (response.message == "success") {
				
					$ ("#contactId").val(response.body.contactId);
					$("#contactName").val(response.body.contactName);
					$("#contactDesignation").val(response.body.contactDesignation);
					$("#contactFunction").val(response.body.contactFunction);
					$("#location").val(response.body.location);
					$("#phone").val(response.body.phone);
					$("#email").val(response.body.email);
					
					var primaryStatusContact = response.body.primaryStatusContact;
					
					if(primaryStatusContact == '1') {
						$('#primaryStatusContact').prop('checked', true);
					} else {
						$('#primaryStatusContact').prop('checked', false);
					}
					
				}
			}, error : function(data) {
				console.log(data)
			}
		});
	}
}

//function for edit vendor
function editVendor(id){
$("#myTbl").hide();
			$(".btn-hs").hide(); 
			$("#demo").show();		
		 $("#myVendorGrid").hide();
			
	 
	if(id) {
		$.ajax({
			type : "POST",
			url : "vendor-company-master-edit",
			dataType : 'json',
			contentType : 'application/json',
			data : id,
			success : function(response) {
				if (response.message == "success") {
					console.log(response.body)
					$("#main").show();
					$ ("#vendorId").val(response.body.vendorId);
					$("#vendorText").text("Vendor Id: "+response.body.vendorId);
					$("#vendorName").val(response.body.vendorName);
					$("#vendorCode").val(response.body.code);
					 
					$("#type").val(response.body.categoryType);
					$("#companyOverView").val(response.body.comapanyOverview);
					
					var vendorStatus = response.body.vendorStatus;
					
					if(vendorStatus == '1') {
						$('#vendorStatus').prop('checked', true);
					} else {
						$('#vendorStatus').prop('checked', false);
					}
					$("#Category").empty();
					$("#Category").append("<option value=''>Select</option>");
					for(var i=0; i < response.body.categoryList.length; i++) {
						console.log(response.body.categoryList.length)
						$("#Category").append("<option value='"+response.body.categoryList[i].key+"'>"+response.body.categoryList[i].name+"</option>");
					}
					
					$("#Category").val(response.body.category);
					$('#imgLoc').attr('src', '');
					if(response.body.fileVendor!=null && response.body.fileVendor!="") {
						$('#imgLoc').attr('src', response.body.fileVendor);
					} else {
						$('#imgLoc').attr('src', '../assets/images/noimage.jpg');
					}
					 
					 $("#grossAnnualSale").val(response.body.grossAnnualSale);
					$("#currency").val(response.body.currency);
					$("#totalEmployee").val(response.body.totalEmployee);
					$("#website").val(response.body.website);
					
					var date = "";
					if(response.body.companyDate != null && response.body.companyDate != "") {
						date = dateFormat(response.body.companyDate);
						$('#companyDate').val(date);
					}
						//dateFormat(response.body.companyDate);
					
					 
					agGridLocation();
					agGridContact();
					agGridBank();
					agGridVendor();
					agGridActivity();
					 
				}
			}, error : function(data) {
				console.log(data)
			}
		});
	}
}
//edit bank details 

function editBankDetails(id){

	openNav3();
	if(id) {
		$.ajax({
			type : "POST",
			url : "vendor-company-master-bank-edit",
			dataType : 'json',
			contentType : 'application/json',
			data : id,
			success : function(response) {
				if (response.message == "success") {
					
					$ ("#bankId").val(response.body.ebankId);
					$ ("#banknameid").val(response.body.ebankName);
					var bankPrimaryStatus = response.body.bankPrimaryStatus;
					
					if(bankPrimaryStatus == '1') {
						$('#primaryStatusBank').prop('checked', true);
					} else {
						$('#primaryStatusBank').prop('checked', false);
					}
					$("#addressid_b").val(response.body.ebankAddress);
					 
					$("#countryid_b").val(response.body.ebankCountry);
					$("#accountNOb").val(response.body.ebankAccountNo);
					$("#ificb").val(response.body.eIfic);
					
					$("#stateid_b").empty();
					$("#stateid_b").append("<option value=''>Select</option>");
					for(var i=0; i < response.body.stateList.length; i++) {
						$("#stateid_b").append("<option value='"+response.body.stateList[i].key+"'>"+response.body.stateList[i].name+"</option>");
					}
					
					$("#stateid_b").val(response.body.ebankState);
					
					$("#cityid").empty();
					$("#cityid").append("<option value=''>Select</option>");
					for(var i=0; i < response.body.cityList.length; i++) {
						$("#cityid").append("<option value='"+response.body.cityList[i].key+"'>"+response.body.cityList[i].name+"</option>");
					}
					$("#cityid").val(response.body.ebankCity);
					
					
				}
			}, error : function(data) {
				console.log(data)
			}
		});
	}
}
//edit bank detailds end
/* function for cancel delete location */
function cancelModalLocationBtn() {
		$("#deleteModalBtn").removeAttr("disabled");
		$('#deleteLocation').modal('hide');
	}
function cancelModalVendorBtn() {
	$("#deleteModalVendorBtn").removeAttr("disabled");
	$('#deleteVendor').modal('hide');
}

/* function for cancel delete location end */

/* function for delete vendor */
function deleteVendorOnclick() {
	 
	var selectedRows = gridVendorOptions.api.getSelectedRows();
	var selectedRowsString = '';
	var selectedId= '';
	selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
			selectedRowsString += ',';
			selectedId+= ',';
			}
			selectedRowsString += '"' + selectedRow.vendorId + '"';
			selectedId +=selectedRow.vendorId;
			});
	
	if (selectedRowsString) {
	
		 
		$.ajax({
			type : "POST",
			url : "vendor-company-master-delete?id="+ selectedRowsString +"&simpleid="+selectedId ,
			success : function(response) {
			 if (response.message == "success") {
				 agGridVendor();
				 cancelModalVendorBtn();
				 //deleteVendorModel
			} 
			},
			error : function(data) {
			console.log(data);
			}
		})
		
	} else {
		$("#alert").modal('show');
		document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
	}
	 
	

	}
	//delete location 
	function deleteLocationOnclick() {
	var vendorId=$("#vendorId").val();
	var selectedRows = gridOptions.api.getSelectedRows();
	var selectedRowsString = '';
	var selectedId= '';
	selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
			selectedRowsString += ',';
			selectedId+= ',';
			}
			selectedRowsString += '"' + selectedRow.vendorLocationId + '"';
			selectedId +=selectedRow.vendorLocationId;
			});
	
	if (selectedRowsString) {
	
		/* var item = {};
		item.vendorLocationId = selectedRowsString; */
		$.ajax({
			type : "POST",
			url : "vendor-company-master-location-delete?id="+ selectedRowsString +"&simpleid="+selectedId+"&vendorId="+vendorId ,
			success : function(response) {
			 if (response.message == "success") {
				 agGridLocation();
			} 
			},
			error : function(data) {
			console.log(data);
			}
		})
		
	} else {
		$("#alert").modal('show');
		document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
	}
		cancelModalLocationBtn();

	}
	
function deleteVendorLocation() {
	$('#deleteLocation').modal('show');
}
function deleteVendorData() {
	
	$('#deleteVendorModel').modal('show');
}

  
 function addMore1() {
	
		var lengthOfTableRow = $("#doctbodyData").children('tr').length;
		var cloneHtml = $("#docTbl tbody tr:first").clone();

		$("#docTbl tbody").append($("#docTbl tbody tr:first").clone());
		$("#myTable tbody tr td:last").html("");
		//var addMore = '<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMore1();"><span class="ti-plus"></span></button>&nbsp;'
 
		$("#docTbl tbody tr:last").find(".documentclss").val("");
		$("#docTbl tbody tr:last").find(".docNoclss").val("");
		$("#docTbl tbody tr:last").find(".documentclssup").val("");
		$("#docTbl tbody tr:last").find(".uploadedBillCls").empty();
		$("#docTbl tbody tr:last").find(".uploadHidCls").empty();
		$("#docTbl tbody tr:last").find(".imageName").empty();
		
		/* var editTr = 0;

		if (lengthOfTableRow > editTr) {

			$("#docTbl tbody tr").eq(lengthOfTableRow - 1).find('td:last')
					.append(removeMore);
		} */
		
		$("#docTbl > #doctbodyData > tr").each(function(i) {
			
			var selectInput = $(this).find('select');
			var textInput = $(this).find('input');
			var fileInput = $(this).find('file');
			var divInput = $(this).find('div');
			var label = $(this).find('label');
			selectInput.eq(0).attr('id', "docid_" + i);

			textInput.eq(1).attr('id', "docnoid_" + i);
			textInput.eq(2).attr('id', "uploadDoc_" + i);
			label.eq(1).attr('for', "uploadDoc_" + i);	
			textInput.eq(3).attr('id', "uploadHidden_" + i);
			divInput.eq(4).attr('id', "uploadedBillDiv_" + i);
			divInput.eq(5).attr('id', "imageName_" + i);
			
			
		})

	}
 function saveMultiFile(event) {
		var AssignItemQty = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var currentFldId = "#" + currentFldId;
		
		var uFile = $(currentFldId)[0].files[0];
		var fileName = event.currentTarget.value;
		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
			fileName = fileName.substring(lastIndex + 1);
		}
		var extension = fileName.split(".");
		
		var iURL = URL.createObjectURL(uFile);
		$("#uploadedBillDiv_" + counter).html("");
		
		/* var LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'>Preview Image</a>"; */
		if(extension[1] == "jpg" || extension[1] == "png"){
		var LightImg ="<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><img src='"+iURL+"' height='20' width='20'></a></div>";
		}else if(extension[1] == "pdf"){
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-pdf-o'></i> </a></div>";
		}else{
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'>Preview Image</a></div>";
		}
		$("#uploadedBillDiv_" + counter).html(LightImg);
		$("#imageName_" + counter).html(fileName);
		
		}
 
 
/* Done By Sagar 27-01-2021 */ 
 
$(document).ready(function(){
	$("#createUser").click(function(){
		var selectedRows = gridContactOptions.api.getSelectedRows();
		var vendContactId = "";
		var vendorId = "";
		var contactName = "";
		var phone = "";
		var email = "";
		selectedRows.forEach(function(selectedRow, index) {
			vendContactId = selectedRow.contactId;
			vendorId = selectedRow.vendorId;
			contactName = selectedRow.contactName;
			phone = selectedRow.phone;
			email = selectedRow.email;
		});
		
		obj = {};
		
		obj.contactId = vendContactId;
		obj.vendorId = vendorId;
		obj.contactName = contactName;
		obj.phone = phone;
		obj.email = email; 
		if(vendContactId) {
			$('.loader').show();
        	$("body").addClass("overlay");
			$.ajax({
		        type: "POST",
		        url: "vendor-company-master-create-user",
		        dataType: "json",
		        contentType: "application/json",
		        data: JSON.stringify(obj),
		        success: function(response) {
		            if (response.message == "success") {
		            	$('.loader').hide();
		            	$("body").removeClass("overlay");
		            	agGridContact();
		            	$("#messageParagraph").text("User Created Successfully");
			        	$("#msgOkModal").removeClass("btn3");
			        	$("#msgOkModal").addClass("btn1");
			        	$("#msgModal").modal('show');
		            }
		        }, error: function(data) {
		        	console.log(data)
		        	$('.loader').hide();
		        	$("body").removeClass("overlay");
		        }
			});
		}
	})
	
	$("#resetPassword").click(function(){
		var cnt = 0;
		var contactId = "";
		var emailId = "";
		var contactName = "";
		var vendorId = "";
		gridContactOptions.api.forEachNode(function(rowNode,index){
			if(rowNode.data.contactStatus == "1") {
				cnt = cnt + 1;
				contactId = rowNode.data.contactId;
				vendorId = rowNode.data.vendorId;
				emailId = rowNode.data.email;
				contactName = rowNode.data.contactName;
			}
		})
		obj = {};
		
		obj.contactId = contactId;
		obj.contactName = contactName;
		obj.email = emailId;
		obj.vendorId = vendorId;
		console.log(obj)
		if(contactId) {
			$('.loader').show();
        	$("body").addClass("overlay");
			$.ajax({
		        type: "POST",
		        url: "vendor-company-master-reset-password",
		        dataType: "json",
		        contentType: "application/json",
		        data: JSON.stringify(obj),
		        success: function(response) {
		            if (response.message == "success") {
		            	$('.loader').hide();
		            	$("body").removeClass("overlay");
		            	$("#messageParagraph").text("Password Reset Successfully");
			        	$("#msgOkModal").removeClass("btn3");
			        	$("#msgOkModal").addClass("btn1");
			        	$("#msgModal").modal('show');
		            }
		        }, error: function(data) {
		        	console.log(data)
		        	$('.loader').hide();
		        	$("body").removeClass("overlay");
		        }
			});
		}
	})
})
</script>
</head>
<body>
	<div layout:fragment="content" class="maincontent">

		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">
						<div class="row margin_topbot">
							<div class="btn-hs">
								<div class="input-style row">
									<input type="text" id="searchBar" placeholder="Search.."
										name="search" class="searchboxinput" onkeyup="cancelBar()">
									<div class="searchicon">
										<a href="#"><span style="display: none" id="closeKey"
											onclick="$('#searchBar').val('');document.getElementById('closeKey').style.display='none';"
											class="close_i">X</span></a> <a href="#"><i
											class="fa fa-search"></i></a>
									</div>
								</div>
							</div>
						</div>

						<div class="row">

							<div class="col-md-7 btn-hs">
							<div class="font-design" id="totalReq">
									VENDOR LIST (<span></span>)
								</div>
								 
							</div>

							<div class="col-md-5 butttonsec btn-hs">
								<button class="btn4">Download</button>
								<button class="btn4">Upload</button>
								<div class="buttongap"></div>
								<button class="btn3" data-toggle="modal" data-target="#delete"
									onclick="deleteVendorData();">DELETE</button>
								<button class="btn1" id="newBtn">NEW</button>

							</div>
						</div>
						<div id="myVendorGrid" style="width: 100%; height: 500px;"
							class="ag-theme-alpine"></div>

						<div class="collapse" id="demo">
							<div class="innerstickybg">
								<div class="row">

									<div class="col-md-4" id="vendorText">Vendor ID: </div>
									<input type="hidden" id="vendorId" />
									<div class="col-md-4">
										<hr>
										<div class="main-div">
											<div class="section2">
												<div class="green-box">
													<div class="green-box-heading">CREATED</div>
													<div class="date">9-OCT-20</div>
												</div>
											</div>
											<div class="section3">
												<div class="green-box">
													<div class="green-box-heading">ACTIVE</div>
													<div class="date">11-OCT-20</div>
												</div>
											</div>
											<div class="section4">
												<div class="grey-box">
													<div>CLOSED</div>
												</div>
											</div>

										</div>
									</div>
									<div class="col-md-4" align="right">
										<button class="btn4" id="cancelBtn">Cancel</button>
										<button class="btn1" id="saveVendor">Save</button>
									</div>
								</div>

							</div>
							<div class="row innersticky_contentgap">
								<div class="col-md-3">
									<div class="hvrbox">
										<img src="../assets/images/noimage.jpg" id="imgLoc"
											alt="Location" class="hvrbox-layer_bottom img-fluid"
											style="height: 203px; width: 241px;">
										<div class="hvrbox-layer_top">
											<div class="hvrbox-text">
												<input type="file" id="fileUpload" hidden
													onchange="saveFile();" /> <span><label
													for="fileUpload"><i class="ti-files"
														style="cursor: pointer;"></i> <!-- <i class="fa fa-pencil-square-o"></i> --></label></span>
												<span><i class="fa fa-trash red"
													onclick="deleteFile();"></i></span>
											</div>
										</div>
									</div>
								</div>
								<div class="col-md-9">
									<div class="row">
										<div class="col-md-12">

											<input type="text" name="code" value="" id="vendorName"
												placeholder="Vendor Name" class="form-control_big">
										</div>
									</div>
									<div class="row">
										<div class="col-md-4">
											<div class="form-group">
												<label>Code</label> <input type="text" name="code" value=""
													id="vendorCode" placeholder="Code" class="form-control">
											</div>
										</div>

										<div class="col-md-4">
											<div class="form-group">
												<label>Category</label>

												<div class="select">
													<select id="Category" onchange="changeOpt()">
														<option th:value="NULL">Select</option>
														<option th:each="c:${categoryTypeList}"
															th:value='${c.key}' th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>

										<div class="col-md-4">
											<div class="form-group">
												<label>Type</label>

												<div class="select">
													<select id="type">
														<option>Option 1</option>
														<option>Option 2</option>
														<option>Option 3</option>
													</select> <span class="focus"></span>
												</div>
											</div>
										</div>
										<div class="col-md-8">
											<div class="form-group">
												<label>Company Overview</label>
												<textarea id="companyOverView"
													placeholder="Shree Vendor is in business for 10 years."></textarea>
											</div>
										</div>

										<div class="col-md-4">
											<div class="form-group">

												<input type="checkbox" name="isActive" id="vendorStatus"
													value="1"> <label
													style="position: relative; top: 1px;">Active</label>
											</div>
										</div>


									</div>
								</div>
							</div>

							<!-- 	main div start here -->
							<div id="main">
								<!-- 	sidenave for vendor location start here -->
								<div id="mySidenav" class="sidenav">
									<div class="slidebox">
										<div class="row">
											<div class="col-md-10">
												<div class="edit edittxt">Location</div>
												<input type="text"
													class="form-control transparenttxtbox idfield"
													placeholder="id" id="vendorLocationId">
											</div>
											<div class="col-md-2">
												<div class="arrow">
													<a href="javascript:void(0)" class="closebtn"
														onclick="closeNav()"><i class="ti-arrow-right"></i></a>
												</div>
											</div>
										</div>
										<div class="chartbtnsec">
											<div align="right">
												<button class="btn4" onclick="closeNav()">CANCEL</button>
												<!-- <button class="btn3" onclick="deleteLocNav();">DELETE</button> -->
												<button class="btn1" id="saveVendorLocation">SAVE</button>
											</div>
										</div>
										<div class="clearfix"></div>
										<div class="col-md-12">
											<div class="form-group">
												<label>Name</label> <input type="text"
													class="form-control transparenttxtbox"
													id="vendorLocationName">
											</div>
										</div>
										<div class="col-md-12">
											<div class="form-group">
												<label>Type</label>
												<div class="select">
													<select id="vendorLocationType">
														<option th:value="NULL">Select</option>
														<option th:each="c,iter:${locationTypeList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="row " style="padding: 0px 15px;">
											<div class="col-md-6">
												<div class="form-group">
													<label style="position: relative; top: 1px;">Billing</label>
													<input type="checkbox" name="isBillingActive"
														id="billingStatus" value="1">
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label style="position: relative; top: 1px;">Primary</label>
													<input type="checkbox" name="isPrimaryActive"
														id="primaryStatus" value="1">
												</div>
											</div>
										</div>
										<div class="col-md-12">
											<div class="form-group">
												<label>Address</label> <input type="text"
													class="form-control transparenttxtbox"
													id="vendorLocAddress">
											</div>
										</div>

										<div class="col-md-12">
											<div class="form-group">
												<label>Country</label>
												<div class="select">
													<select id="vendorCountry">
														<option th:value="NULL">Select</option>
														<option th:each="c:${countryList}" th:value='${c.key}'
															th:text="${c.name}"></option>


													</select> <span class="focus"></span>
												</div>
											</div>

										</div>
										<div class="col-md-12">
											<div class="form-group">
												<label>State</label>
												<div class="select">
													<select id="vendorState">
														<option th:value="NULL">Select</option>
													</select> <span class="focus"></span>
												</div>
											</div>
										</div>
										<div class="col-md-12">
											<div class="form-group">
												<label>City</label>
												<div class="select">
													<select id="vendorCity">
														<option th:value="NULL">Select</option>
													</select> <span class="focus"></span>
												</div>
											</div>
										</div>



									</div>
								</div>

								<div id="mySideContactnav" class="sidenav">

									<div class="slidebox">
										<div class="row">
											<div class="col-md-10">
												<div class="edit edittxt">Contact</div>
												<input type="text"
													class="form-control transparenttxtbox idfield"
													id="contactId">
											</div>
											<div class="col-md-2">
												<div class="arrow">
													<a href="javascript:void(0)" class="closebtn"
														onclick="closeContactNav()"><i class="ti-arrow-right"></i></a>
												</div>
											</div>
										</div>
										<div class="chartbtnsec">
											<div align="right">
												<button class="btn4" onclick="closeContactNav()">CANCEL</button>
												<!-- <button class="btn3" onclick="deleteLocNav();">DELETE</button> -->
												<button class="btn1" id="saveVendorContact">SAVE</button>
											</div>
										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Name</label> <input type="text"
													class="form-control transparenttxtbox" id="contactName">
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group">
												<label style="position: relative; top: 1px;">Primary</label>
												<input type="checkbox" name="isContactPrimaryActive"
													id="primaryStatusContact" value="1">
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Designation</label>
												<div class="select">
													<select id="contactDesignation">

														<option th:value="NULL">Select</option>
														<!-- <option th:value="JTM00001">It Developer</option> -->
														<option th:each="c,iter:${jobTypeList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Function</label>
												<div class="select">
													<select id="contactFunction">

														<option th:value="NULL">Select</option>

														<option th:each="c,iter:${DepartmentList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Location</label>
												<div class="select">
													<select id="location">

														<option th:value="NULL">Select</option>

														<option th:each="c:${jobLocationList}" th:value='${c.key}'
															th:text="${c.name}"></option>


													</select> <span class="focus"></span>
												</div>
											</div>

										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Phone</label> <input type="text"
													class="form-control transparenttxtbox" id="phone">
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Email</label> <input type="text"
													class="form-control transparenttxtbox" id="email">
											</div>
										</div>



									</div>
								</div>

								<div id="mySidenav3" class="sidenav">
									<div class="slidebox">
										<div class="row">
											<div class="col-md-10">
												<div class="edit edittxt">Banks</div>
												<input type="text"
													class="form-control transparenttxtbox idfield" id="bankId">
											</div>
											<div class="col-md-2">
												<div class="arrow">
													<a href="javascript:void(0)" class="closebtn"
														onclick="closeNav3()"><i class="ti-arrow-right"></i></a>
												</div>
											</div>
										</div>
										<div class="chartbtnsec">
											<div align="right">
												<button class="btn4">CANCEL</button>

												<button class="btn1" id="submitbankdetils">SAVE</button>
											</div>
										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Bank Name</label>
												<div class="select">
													<select class="bankclsss" id="banknameid">
														<option>Select</option>
														<option th:each="c,iter:${BankNameList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group">
												<label style="position: relative; top: 1px;">Primary</label>
												<input type="checkbox" name="isBankPrimaryActive"
													id="primaryStatusBank" value="1">
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Address</label> <input type="text" name="Address"
													value="" placeholder="Address"
													class="form-control adresscls" id="addressid_b">
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">

												<label>Country</label>
												<div class="select">
													<select class="countryclss" id="countryid_b">
														<option value="">Select</option>
														<option th:each="c,iter:${counntryList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">

												<label>State</label>
												<div class="select">
													<select class="stateclss" id="stateid_b">
														<option value="">Select</option>
														<option th:each="c,iter:${stateList}" th:value="${c.key}"
															th:text="${c.name}"></option>
													</select>
												</div>

											</div>

										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">

												<label>City</label>
												<div class="select">
													<select class=" cityclsss" id="cityid">
														<option value="">Select</option>
														<option th:each="c,iter:${cityList}" th:value="${c.key}"
															th:text="${c.name}"></option>
													</select>
												</div>

											</div>
										</div>



										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Acc No</label> <input type="text" name="AccountNO "
													value="" placeholder="AccountNO"
													class="form-control  accontnoclss" id="accountNOb">
											</div>
										</div>



										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>IFSC Code</label> <input type="text" name="IFIC "
													value="" placeholder="ific" class="form-control  IFICcls"
													id="ificb">
											</div>
										</div>



									</div>
								</div>
								<!-- side nave for bank detail end -->
								<div class="wrapper center-block">
									<div class="panel-group" id="accordion" role="tablist"
										aria-multiselectable="true">

										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingOne">
												<h4 class="panel-title">
													<a class="collapsed" role="button" data-toggle="collapse"
														data-parent="#accordion" href="#collapseOne"
														aria-expanded="false" aria-controls="collapseOne">
														Location </a>
												</h4>
											</div>
											<div id="collapseOne" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingThree">
												<div class="row">

													<div class="col-md-5 btn-hs1">
														<div class="font-design"></div>
													</div>

													<div class="col-md-7 butttonsec">
														<button class="btn4">Download</button>
														<button class="btn4">Download</button>
														<div class="buttongap"></div>
														<button class="btn3" data-toggle="modal"
															data-target="#delete" onclick="deleteVendorLocation();">DELETE</button>
														<button class="btn1" id="newLocation" onclick="openNav();">NEW</button>
													</div>
												</div>
												<div id="myGrid" style="width: 100%; height: 100px;"
													class="ag-theme-alpine"></div>


											</div>
										</div>


										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingThree">
												<h4 class="panel-title">
													<a class="collapsed" role="button" data-toggle="collapse"
														data-parent="#accordion" href="#collapseThree"
														aria-expanded="false" aria-controls="collapseTwo">
														Contacts </a>
												</h4>
											</div>
											<div id="collapseThree" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingThree">
												<div class="row">

													<div class="col-md-5 btn-hs1">
														<div class="font-design">
															<!-- Vendor LIST <span>(10)</span> -->
														</div>
													</div>

													<div class="col-md-7 butttonsec">
														<button class="btn4">Upload</button>
														<button class="btn4">Download</button>
														<div class="buttongap"></div>
														<button class="btn3" data-toggle="modal"
															data-target="#delete">DELETE</button>
														<button class="btn1" id="newContact"
															onclick="openContactNav();">NEW</button>
														<button class="btn2" disabled="disabled" id="createUser">CREATE
															USER</button>
														<button class="btn2" id="resetPassword">RESET
															PASSWORD</button>
													</div>


												</div>
												<div id="myContactGrid" style="width: 100%; height: 100px;"
													class="ag-theme-alpine"></div>

											</div>
										</div>


										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingFour">
												<h4 class="panel-title">
													<a class="collapsed" role="button" data-toggle="collapse"
														data-parent="#accordion" href="#collapseFour"
														aria-expanded="false" aria-controls="collapseFour">
														Legal Information</a>
												</h4>
											</div>
											<div id="collapseFour" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingFour">
												<div class="row">


													<div class="col-md-5 padding-7 btn-hs1">
														<div class="font-design">
															<!-- Vendor LIST <span>(10)</span> -->
														</div>
													</div>

													<div class="col-md-7 butttonsec">
														<button class="btn1" onclick="addMore1();">New</button>
														<button class="btn3">Delete</button>
														<button class="btn4" id="saveDocuments">Save</button>
													</div>





												</div>



												<table id="docTbl" cellspacing="7" cellpadding="7">
													<thead>
														<tr class="tr_clone">
															<th align="center"></th>
															<th width="320">Document Type</th>
															<th width="320">Document No</th>

															<th width="280">Attachment</th>


														</tr>
													</thead>
													<tbody id="doctbodyData">
														<tr>


															<td align="center" class="pdb-24"><input
																class="checkCls" type="checkbox" id="check2"><label
																for="check2"></label></td>
															<td><div class="form-group">


																	<select class="form-control documentclss" id="docid_0">
																		<option value="">Select</option>
																		<option th:each="c,iter:${documentTypeList}"
																			th:value="${c.key}" th:text="${c.name}"></option>
																	</select>
																</div></td>

															<td><div class="form-group">
																	<input type="text" value=""
																		class="form-control docNoclss" id="docnoid_">
																</div></td>

															<td>
																<div class="control-group position-r">
																	<label class="custom-file-upload" for="uploadDoc_0"
																		id="uploadFor_0"> <i class="ti-plus"></i>
																	</label>
																	<div class="controls">

																		<input type="file" class="document" id="uploadDoc_0"
																			name="userImage" accept="image/*"
																			onchange="saveMultiFile(event)" />

																	</div>
																</div> <input type="hidden" id="uploadHidden_0"
																class="uploadHidCls">
																<div id="uploadedBillDiv_0" align="center"
																	class="uploadedBillCls"></div>
																<div id="imageName_0" class="imageName"></div>
															</td>






														</tr>
													</tbody>
												</table>

											</div>
										</div>



										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingFive">
												<h4 class="panel-title">
													<a class="collapsed" role="button" data-toggle="collapse"
														data-parent="#accordion" href="#collapseFive"
														aria-expanded="false" aria-controls="collapseFive">
														Bank Details </a>
												</h4>
											</div>
											<div id="collapseFive" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingFive">
												<div class="row">


													<div class="col-md-5  btn-hs1">
														<div class="font-design">
															<!-- Vendor LIST <span>(10)</span> -->
														</div>
													</div>

													<div class="col-md-7 butttonsec">
														<button class="btn4">Upload</button>
														<button class="btn4">Download</button>
														<div class="buttongap"></div>
														<button class="btn3" data-toggle="modal"
															data-target="#delete">DELETE</button>
														<button class="btn1" id="newBtn1" onclick="openNav3();">NEW</button>
													</div>




												</div>

												<div id="myGrid3" style="width: 100%; height: 100px;"
													class="ag-theme-alpine"></div>

											</div>
										</div>




										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingSix">
												<h4 class="panel-title">
													<a class="collapsed" role="button" data-toggle="collapse"
														data-parent="#accordion" href="#collapseSix"
														aria-expanded="false" aria-controls="collapseSix">
														Company Information </a>
												</h4>
											</div>
											<div id="collapseSix" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingSix">
												<div class="row">


													<div class="col-md-5  btn-hs1">
														<div class="font-design">
															<!-- Vendor LIST <span>(10)</span> -->
														</div>
													</div>

													<div class="col-md-7 butttonsec">
														<button class="btn3" data-toggle="modal"
															data-target="#delete">DELETE</button>
														<button class="btn1" id="saveVendorCompanyInfo">SAVE</button>
													</div>


												</div>

												<div class="row">

													<div class="col-md-3">
														<div class="form-group">
															<label>Date Of Company Established</label> <input
																type="date" id="companyDate" value=""
																class="form-control">
														</div>
													</div>

													<div class="col-md-3">
														<div class="form-group">
															<label>Gross Annual Sale</label> <input type="text"
																id="grossAnnualSale" value="" class="form-control">
														</div>
													</div>

													<div class="col-md-3">
														<div class="form-group">
															<label>Sales Currency</label> <input type="text"
																id="currency" value="" class="form-control">
														</div>
													</div>
													<div class="col-md-3">
														<div class="form-group">
															<label>Total Employee</label> <input type="text"
																id="totalEmployee" value="" class="form-control">
														</div>
													</div>
													<div class="col-md-3">
														<div class="form-group">
															<label>Website</label> <input type="text" id="website"
																value="" class="form-control">
														</div>
													</div>
												</div>

											</div>
										</div>




										<div class="panel panel-default">
											<div class="panel-heading" role="tab" id="headingSeven">
												<h4 class="panel-title">
													<a class="collapsed" role="button" data-toggle="collapse"
														data-parent="#accordion" href="#collapseSeven"
														aria-expanded="false" aria-controls="collapseSeven">
														Activity</a>
												</h4>
											</div>
											<div id="collapseSeven" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingFour">
												<div class="row">

													<div class="col-md-5  btn-hs1">
														<div class="font-design"></div>
													</div>

													<div class="col-md-7 butttonsec">
														<button class="btn4">Download</button>
														<button class="btn4">Upload</button>

													</div>



												</div>


												<div id="activity" style="width: 100%; height: 100px;"
													class="ag-theme-alpine"></div>
												<!-- 	<table class="newtbl" id="myTbl" cellpadding="1" cellspacing="1">
									<thead>
										<tr>
											<th align="center" width="20"><input type="checkbox"
												name="" id="chk13" onclick="allCheck7()"><label for="chk13"></label></th>
											<th>Activity</th>
											<th>User Name</th>
											<th>Create Date</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td align="center"><input type="checkbox" name=""
												id="chk14" class="checkCls7"><label for="chk14"></label></td>


											<td align="left">Vendor Approved</td>

											<td align="left">Pinaki Datta</td>

											<td align="center">9-Oct-2020</td>
										</tr>
									</tbody>
								</table> -->

											</div>
										</div>

									</div>
								</div>

							</div>

							<!-- 	main div end here -->
						</div>
						<!-- delete modal start -->
						<div id="deleteLocation" class="modal fade show" aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalLocationBtn()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="btn1" data-dismiss="modal"
											onclick="cancelModalLocationBtn();">Cancel</button>
										<button type="button" class="btn3"
											onclick="deleteLocationOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>
						<!-- delete vendor -->
						<div id="deleteVendorModel" class="modal fade show"
							aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalVendorBtn()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="btn1" data-dismiss="modal"
											onclick="cancelModalVendorBtn();">Cancel</button>
										<button type="button" class="btn3" data-dismiss="modal"
											onclick="deleteVendorOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>