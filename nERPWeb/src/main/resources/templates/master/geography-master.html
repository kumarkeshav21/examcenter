<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
<head>
<style>
#totalData
.ag-row:first-child {
	border: none!important;
    }
	
#totalData .ag-theme-alpine .ag-row:first-child {
		border:none !important;
	}

.ag-theme-alpine .ag-row-selected {
	border: 1px solid #090 !important;
}


#myGrid
.ag-row:focus {
	border: 1px solid #090 !important;
}

#myGrid
.ag-row-first:focus {
	border: 1px solid #090 !important;
}

.ag-row:first-child {
	border: 1px solid #090;
}
</style>
<style>
.yrdiv {
	font-size: 14px;
	font-weight: 100;
	color: #929292;
	cursor: pointer;
}

.slnocls {
	font-size: 14px;
	font-weight: 100;
	color: #929292;
}

[
type
=
"radio"
]














:checked
,
[
type
=
"radio"
]














:not







 







(
:checked







 







)
{
position














:







 







absolute














;
left














:







 







-9999
px














;
}
[type="radio"]:checked+label, [type="radio"]:not (:checked ) +label {
	position: relative;
	padding-left: 28px;
	cursor: pointer;
	line-height: 20px;
	display: inline-block;
	color: #666;
}

[type="radio"]:checked+label:before, [type="radio"]:not (:checked ) +label:before
	{
	content: '';
	position: absolute;
	left: 0;
	top: 0;
	width: 18px;
	height: 18px;
	border: 1px solid #ddd;
	border-radius: 100%;
	background: #fff;
}

[type="radio"]:checked+label:after, [type="radio"]:not (:checked ) +label:after
	{
	content: '';
	width: 12px;
	height: 12px;
	background: #008F00;
	position: absolute;
	top: 3px;
	left: 3px;
	border-radius: 100%;
	-webkit-transition: all 0.2s ease;
	transition: all 0.2s ease;
}

[type="radio"]:not (:checked ) +label:after {
	opacity: 0;
	-webkit-transform: scale(0);
	transform: scale(0);
}

[type="radio"]:checked+label:after {
	opacity: 1;
	-webkit-transform: scale(1);
	transform: scale(1);
}
</style>

<script>
	function openNav() {
		
		closeYearNav();
		
		$('#countryId').val("");
		$("#countryOrderId").val("");
		$("#countryCode").val("");
		$("#countryName").val("");
		$("#countryStatus").val("");
		
		document.getElementById("mySidenav").style.cssText = "width: 250px; position: absolute; right:-30px; overflow: hidden; height:auto; top:80px;";
		
		document.getElementById("main_content").style.cssText = "width: 83%; height:560px;";
		
	}
	
	function closeNav() {
		document.getElementById("mySidenav").style.width = "0";
		document.getElementById("main_content").style.cssText = "width:103%; height:560px;";
	}

	function openNav1() {
		
		closeYearNav();
	
		$('#stateId').val("");
		$('#stateOrderId').val("");
		$('#stateCode').val("");
		$('#stateName').val("");
		$('#stateStatus').val("");
		
		document.getElementById("mySidenav1").style.cssText = "width: 250px; position: absolute; right:-30px; overflow: hidden; height:auto; top:80px;";

		document.getElementById("main_content").style.cssText = "width: 83%; height:560px;";
	}
	

	function closeNav1() {
		document.getElementById("mySidenav1").style.width = "0";
		document.getElementById("main_content").style.cssText = "width:103%; height:560px;";
	}
	

	function openNav3() {
		
		closeYearNav();
		
		$('#districtId').val("");
		$('#districtOrderId').val("");
		$('#districtCode').val("");
		$('#districtName').val("");
		$('#districtStatus').val("");
		
		document.getElementById("mySidenav3").style.cssText = "width: 250px; position: absolute; right:-30px; overflow: hidden; height:auto; top:80px;";

		document.getElementById("main_content").style.cssText = "width: 83%; height:560px;";
	}
	
	function closeNav3() {
		document.getElementById("mySidenav3").style.width = "0";
		document.getElementById("main_content").style.cssText = "width:103%; height:560px;";
	} 

	function openNav2() {
		
		closeYearNav();
		
		$('#cityId').val("");
		$("#cityOrderId").val("");
		$("#cityCode").val("");
		$("#cityName").val("");
		$("#cityStatus").val("");
		
		document.getElementById("mySidenav2").style.cssText = "width: 250px; position: absolute; right:-30px; overflow: hidden; height:auto; top:80px;";

		document.getElementById("main_content").style.cssText = "width: 83%; height:560px;";
	}
	
	function closeNav2() {
		document.getElementById("mySidenav2").style.width = "0";
		document.getElementById("main_content").style.cssText = "width:103%; height:560px;";
	}
	
	

</script>

<script type="text/javascript">

	$(document).ready(function() {
		
		$('#totalData').find('.ag-row').css('border','none');
		$('#totalData').find('.ag-row:first').css('border','none');
	/* 	
		// city master data
		agGrid.simpleHttpRequest({
			url : 'geography-master-total-view'
		}).then(function(data) { 
			totalGridOption.api.setRowData(data);  
		}); */
						agGrid.simpleHttpRequest({
							url : 'geography-master-country-type-view'
						}).then(function(data) {
							
							if(!data1){
								data.push(data1);
							}
							
							$('#countryId').val(data[0].globalId);
							gridOptions.api.setRowData(data);
							 
							closeAllNav();
							
							// call state master data
							agGrid.simpleHttpRequest({
								url : 'geography-master-state-type-view'
							}).then(function(stateData) {

								if(!data2){
									stateData.push(data2);
								}
								var countryId = data[0].globalId; 
								for(var i = 0 ; i<stateData.length ;i++){ 
									stateData[i].globalId = countryId ;  
								} 
								gridOptions1.api.setRowData(stateData);
								$('#stateId').val(stateData[0].stateId);
								gridOptions1.api.forEachNode(node=> node.rowIndex ? 0 : node.setSelected(true))
								closeAllNav();
								
								// call district master data
								agGrid.simpleHttpRequest({
									url : 'geography-master-district-type-view'
								}).then(function(districtData) {

									if(!data4){
										districtData.push(data4);
									}
									var countryId = data[0].globalId; 
									var stateId = stateData[0].stateId; 
									for(var i = 0 ; i<districtData.length ;i++){ 
										districtData[i].globalId = countryId ;  
										districtData[i].stateId = stateId;  
									}
									gridOptions3.api.setRowData(districtData);
									$('#districtId').val(districtData[0].districtId);
									gridOptions3.api.forEachNode(node=> node.rowIndex ? 0 : node.setSelected(true))
									closeAllNav();
									
									// city master data
									agGrid.simpleHttpRequest({
										url : 'geography-master-city-type-view'
									}).then(function(cityData) {

										if(!data3){
											cityData.push(data3);
										}
										var districtId = districtData[0].districtId;
										for(var i = 0 ; i<cityData.length ;i++){ 
											cityData[i].globalId = districtId ;   
										}
										gridOptions2.api.setRowData(cityData);
										gridOptions2.api.forEachNode(node=> node.rowIndex ? 0 : node.setSelected(true))
										closeAllNav();
										
									});
								});
								
							});
							
						});
						 
						$('.collapse').on(
								'show.bs.collapse',
								function() {
									$(this).siblings('.panel-heading')
											.addClass('active');
								});

						$('.collapse').on(
								'hide.bs.collapse',
								function() {
									$(this).siblings('.panel-heading')
											.removeClass('active');
								});
						
						window.onclick = function(event) { 
							//console.log(event.target.id)
						 //  if (event.target.id == 'myGrid' || event.target.id == 'myGrid1' || event.target.id == 'myGrid2' || event.target.id == 'myGrid3') {
						    	
						       $('#myGrid').find('.ag-row').css('border','none');
						        $('#myGrid1').find('.ag-row').css('border','none');
						        $('#myGrid2').find('.ag-row').css('border','none');
						        $('#myGrid3').find('.ag-row').css('border','none');
						       // $('#totalData').find('.ag-row').css('border','none');

						    /* }else{
								
							       $('#myGrid').find('.ag-row:first').css('border','none');
							        $('#myGrid1').find('.ag-row:first').css('border','none');
							        $('#myGrid2').find('.ag-row:first').css('border','none');
							        $('#myGrid3').find('.ag-row:first').css('border','none');
							 } */
						}
						
					});
	/*if the user clicks anywhere outside the select box,
	 then close all select boxes:*/
	//document.addEventListener("click", closeAllSelect);
function closeAllNav(){
	closeNav1();
	closeNav();
	closeNav2();
	closeNav3();
}
	
</script>

<script type="text/javascript">
/* Country */
	var data1 = {};
	function submitCountryType() {
	
		closeNav();
		
		data1.globalId = $('#countryId').val();
		data1.countryOrderId = $("#countryOrderId").val();
		data1.countryCode = $("#countryCode").val();
		data1.countryName = $("#countryName").val();
		data1.countryStatus = $("#countryStatus").val();
		
		$.ajax({
			type : "POST",
			url : "geography-master-country-type",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(data1),
			success : function(response) {
				if (response.message == "Success") {
					agGrid.simpleHttpRequest({
						url : 'geography-master-country-type-view'
					}).then(function(data) {
						gridOptions.api.setRowData(data);
					});
				} 
			},
			error : function(response) {
				console.log(response);
			}
		})
	}

	var columnDefs = [{
		headerName: "Country Id",
		field: "globalId",
		hide: true,
		width: 100
	}, {
		headerName: "Order",
		field: "countryOrderId",
		width: 100
	}, {
		headerName: "Code",
		field: "countryCode"
	}, {
		headerName: "Country Name",
		field: "countryName"
	}, {
		headerName: "Status",
		field: "countryStatus",
		cellRenderer: function (params) {
			if (params.data.countryStatus == "Active") {
				return '<div style="color:green">' + params.data.countryStatus + '</div>';
			} else {
				return '<div>' + params.data.countryStatus + '</div>';
			}
		}
	}];

	var gridOptions = {
		columnDefs : columnDefs,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 150,
			height : 10
		},
		rowSelection: 'single',
		onRowClicked: onSelectionChangedCountry

	};
	
	function onSelectionChangedCountry()
	{
		
		closeNav1();
		closeNav3();
		closeNav2();
		openNav();
		
		var selectedNodes= gridOptions.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);
		
		var id = selectedData.map(node => node.globalId);
		
		var stateId = null;
		var distId = null;

		agGrid.simpleHttpRequest({
			url : 'geography-master-state-type-view-onclick?id=' + id
		}).then(function(data) { 
			for(var i = 0 ; i<data.length ;i++){ 
				data[i].globalId = id ; 
				stateId = data[i].stateId;
			}
			
			gridOptions1.api.setRowData(data);
			gridOptions1.api.forEachNode(node=> node.rowIndex ? 0 : node.setSelected(true));
			callDist(stateId);
		});
		
		
		$('#countryCode').val(selectedData.map(node => node.countryCode));
		$('#countryName').val(selectedData.map(node => node.countryName));
		$('#countryOrderId').val(selectedData.map(node => node.countryOrderId));
		if(selectedData.map(node => node.countryStatus) == "Active"){
			$('#countryStatus').val("1");	
		} else{
			$('#countryStatus').val("0");
		}
		$('#countryId').val(selectedData.map(node => node.globalId));

	}

	
	function callDist(stateId){
		agGrid.simpleHttpRequest({
			url : 'geography-master-district-type-view-onclick?id=' + stateId
		}).then(function(data) {
			var distId = '';
			  if(data != null){
				 distId = data[0].districtId;   
			}  
			for(var i = 0 ; i<data.length ;i++){  
				data[i].stateId = stateId;  
			}
			gridOptions3.api.setRowData(data);
			callCity(distId);
		});
	}
	
	function callCity(distId){
		 agGrid.simpleHttpRequest({
				url : 'geography-master-city-type-view-onclick?id=' + distId
			}).then(function(data) {
				
				for(var i = 0 ; i<data.length ;i++){ 
					data[i].districtId = distId ;   
				}
				gridOptions2.api.setRowData(data);
			});
	}
	
	function deleteCountry(){
		closeNav();
		
		var id = $('#countryId').val();

		$.ajax({
			type : "GET",
			url : "geography-master-country-type-delete?id=" + id,
			dataType : "json",
			contentType : "application/json",
			success : function(response) {
				if (response.message == "Success") {
					agGrid.simpleHttpRequest({
						url : 'geography-master-country-type-view'
					}).then(function(data) {
						gridOptions.api.setRowData(data);
					});
				} 
			},
			error : function(response) {
				console.log(response);
			}
		}) 
	}

	/* State */
	var data2 = {};
	function submitStateType() {

		closeNav1();
		var id = $('#countryId').val();
		data2.globalId = $('#countryId').val();
		data2.stateId = $('#stateId').val();
		data2.stateOrderId = $("#stateOrderId").val();
		data2.stateCode = $("#stateCode").val();
		data2.stateName = $("#stateName").val();
		data2.stateStatus = $("#stateStatus").val();

		
		$.ajax({
			type : "POST",
			url : "geography-master-state-type",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(data2),
			success : function(response) {
				if (response.message == "Success") {
					agGrid.simpleHttpRequest({
						url : 'geography-master-state-type-view-onclick?id=' + id
					}).then(function(data) {
						gridOptions1.api.setRowData(data);
					});
				}
			},
			error : function(response) {
				console.log(response);
			}
		})
	}

	var columnDefs1 = [{
		headerName : "Country",
		field : "globalId",
		hide: true
	},{
		headerName : "stateId",
		field : "stateId", 
		width : 100,
		hide : true
	}, {
		headerName : "Order",
		field : "stateOrderId", 
		width : 100
	}, {
		headerName : "Code",
		field : "stateCode"
	}, {
		headerName : "State Name",
		field : "stateName"
	}, {
		headerName : "Status",
		field : "stateStatus",
		cellRenderer: function(params){
			if(params.data.stateStatus == "Active"){
				return '<div style="color:green">' + params.data.stateStatus + '</div>';
			} else{
				return '<div>' + params.data.stateStatus + '</div>';
			}
		}
	} ];

	var gridOptions1 = {
		columnDefs : columnDefs1,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 150,
			height : 10
		},
		rowSelection: 'single',
		onRowClicked: onSelectionChangedState

	};
	
	function onSelectionChangedState(){
		closeNav();
		closeNav2();
		closeNav3();
		openNav1();
		
		var selectedNodes= gridOptions1.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);

		var id = selectedData.map(node => node.stateId);
		agGrid.simpleHttpRequest({
			url : 'geography-master-district-type-view-onclick?id=' + id
		}).then(function(data) {
			gridOptions3.api.setRowData(data);
		});
		
		$('#stateId').val(selectedData.map(node => node.stateId));
		$('#stateOrderId').val(selectedData.map(node => node.stateOrderId));
		$('#stateCode').val(selectedData.map(node => node.stateCode));
		$('#stateName').val(selectedData.map(node => node.stateName));
		if(selectedData.map(node => node.stateStatus) == "Active"){
			$('#stateStatus').val("1");	
		} else{
			$('#stateStatus').val("0");
		}

	}
	
	function deleteState(){
		closeNav1();
		
		var id = $('#stateId').val();
		var idCo = $('#countryId').val();


		$.ajax({
			type : "GET",
			url : "geography-master-state-type-delete?id=" + id,
			dataType : "json",
			contentType : "application/json",
			success : function(response) {
				if (response.message == "Success") {
					agGrid.simpleHttpRequest({
						url : 'geography-master-state-type-view-onclick?id=' + idCo
					}).then(function(data) {
						gridOptions1.api.setRowData(data);
					});
				} 
			},
			error : function(response) {
				console.log(response);
			}
		}) 
	}
	

	/* District */
	var data4 = {};
	function submitDistrictType() {
	
		closeNav3();
		
		var id = $('#stateId').val();
		data4.stateId = $('#stateId').val();
		data4.districtId = $('#districtId').val();
		data4.districtOrderId = $("#districtOrderId").val();
		data4.districtCode = $("#districtCode").val();
		data4.districtName = $("#districtName").val();
		data4.districtStatus = $("#districtStatus").val();
 
		$.ajax({
			type : "POST",
			url : "geography-master-district-type",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(data4),
			success : function(response) {
				if (response.message == "Success") {
					agGrid.simpleHttpRequest({
						url : 'geography-master-district-type-view-onclick?id=' + id
					}).then(function(data) {
						gridOptions3.api.setRowData(data);
					});
				} 
			},
			error : function(response) {
				console.log(response);
			}
		}) 
	}

	var columnDefs3 = [{
		headerName : "Country",
		field : "globalId", 
		hide : true
	},{
		headerName : "stateId",
		field : "stateId", 
		width : 100,
		hide : true
	}, {
		headerName : "District",
			field : "districtId", 
			hide : true,
			width : 100
		},{
		headerName : "Order",
		field : "districtOrderId", 
		width : 100
	}, {
		headerName : "Code",
		field : "districtCode"
	}, {
		headerName : "District Name",
		field : "districtName"
	}, {
		headerName : "Status",
		field : "districtStatus",
		cellRenderer: function(params){
			if(params.data.districtStatus == "Active"){
				return '<div style="color:green">' + params.data.districtStatus + '</div>';
			} else{
				return '<div>' + params.data.districtStatus + '</div>';
			}
		}
	} ];

	var gridOptions3 = {
		columnDefs : columnDefs3,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 150,
			height : 10
		},
		rowSelection: 'single',
		onRowClicked: onSelectionChangedDistrict

	};
	
	function onSelectionChangedDistrict() {
		closeNav1();
		closeNav();
		closeNav2();
		openNav3();

		var selectedNodes= gridOptions3.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);
		
		var id = selectedData.map(node => node.districtId);
		agGrid.simpleHttpRequest({
			url : 'geography-master-city-type-view-onclick?id=' + id
		}).then(function(data) {
			for(var i = 0 ; i<data.length ;i++){ 
				data[i].districtId = id ;   
			}
			gridOptions2.api.setRowData(data);
			gridOptions2.api.forEachNode(node=> node.rowIndex ? 0 : node.setSelected(true))
		});
		
		$('#districtId').val(selectedData.map(node => node.districtId));
		$('#districtOrderId').val(selectedData.map(node => node.districtOrderId));
		$('#districtCode').val(selectedData.map(node => node.districtCode));
		$('#districtName').val(selectedData.map(node => node.districtName));
		if(selectedData.map(node => node.districtStatus) == "Active"){
			$('#districtStatus').val("1");	
		} else{
			$('#districtStatus').val("0");
		}

	}

	function deleteDistrict(){
		closeNav3();
		
		var id = $('#districtId').val();
		var idSt = $('#stateId').val();

		$.ajax({
			type : "GET",
			url : "geography-master-district-type-delete?id=" + id,
			dataType : "json",
			contentType : "application/json",
			success : function(response) {
				if (response.message == "Success") {
					agGrid.simpleHttpRequest({
						url : 'geography-master-district-type-view-onclick?id=' + idSt
					}).then(function(data) {
						gridOptions3.api.setRowData(data);
					});
				} 
			},
			error : function(response) {
				console.log(response);
			}
		}) 
	}
	 

	/* City */
	var data3 = {};
	function submitCityType() {

		closeNav2();
		
		var id = $('#districtId').val();
	
		data3.globalId = $('#countryId').val();
		data3.stateId = $('#stateId').val();
		data3.districtId = $('#districtId').val();
		data3.cityId = $('#cityId').val();
		data3.cityOrderId = $("#cityOrderId").val();
		data3.cityCode = $("#cityCode").val();
		data3.cityName = $("#cityName").val();
		data3.cityStatus = $("#cityStatus").val();
		

		$.ajax({
			type : "POST",
			url : "geography-master-city-type",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(data3),
			success : function(response) {
				if (response.message == "Success") {
					agGrid.simpleHttpRequest({
						url : 'geography-master-city-type-view-onclick?id=' + id
					}).then(function(data) {
						for(var i = 0 ; i<data.length ;i++){ 
							data[i].districtId = id ;   
						}
						gridOptions2.api.setRowData(data);
					});
				}
			},
			error : function(response) {
				console.log(response);
			}
		})
	}

	var columnDefs2 = [
	{
				headerName : "District",
				field : "districtId", 
				hide : true,
				width : 100
	}, {
		headerName : "Order",
		field : "cityOrderId",
		width : 100
	}, {
		headerName : "Code",
		field : "cityCode"
	}, {
		headerName : "City Name",
		field : "cityName"
	}, {
		headerName : "Status",
		field : "cityStatus",
		cellRenderer: function(params){
			if(params.data.cityStatus == "Active"){
				return '<div style="color:green">' + params.data.cityStatus + '</div>';
			} else{
				return '<div>' + params.data.cityStatus + '</div>';
			}
		}
	} ];


 	var gridOptions2 = {
		columnDefs : columnDefs2,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 150,
			height : 10
		},
		rowSelection: 'single',
		onRowClicked: onSelectionChangedCity

	};
 	/*	// added for a tobal view 
	var totalcolumnDefs = [{
		headerName: "Country Id",
		field: "globalId",
		hide: true,
		width: 100
	}, {
		headerName: "Order",
		field: "countryOrderId",
		width: 100
	}, {
		headerName: "Code",
		field: "countryCode"
	}, {
		headerName: "Country Name",
		field: "countryName"
	}, {
		headerName: "Status",
		field: "countryStatus",
		cellRenderer: function (params) {
			if (params.data.countryStatus == "Active") {
				return '<div style="color:green">' + params.data.countryStatus + '</div>';
			} else {
				return '<div>' + params.data.countryStatus + '</div>';
			}
		}
	}, {
		headerName: "stateId",
		field: "stateId",
		width: 100,
		hide: true
	}, {
		headerName: "Order",
		field: "stateOrderId",
		width: 100
	}, {
		headerName: "Code",
		field: "stateCode"
	}, {
		headerName: "State Name",
		field: "stateName"
	}, {
		headerName: "Status",
		field: "stateStatus",
		cellRenderer: function (params) {
			if (params.data.stateStatus == "Active") {
				return '<div style="color:green">' + params.data.stateStatus + '</div>';
			} else {
				return '<div>' + params.data.stateStatus + '</div>';
			}
		}
	}, {
		headerName: "District",
		field: "districtId",
		hide: true,
		width: 100
	}, {
		headerName: "Order",
		field: "districtOrderId",
		width: 100
	}, {
		headerName: "Code",
		field: "districtCode"
	}, {
		headerName: "District Name",
		field: "districtName"
	}, {
		headerName: "Status",
		field: "districtStatus",
		cellRenderer: function (params) {
			if (params.data.districtStatus == "Active") {
				return '<div style="color:green">' + params.data.districtStatus + '</div>';
			} else {
				return '<div>' + params.data.districtStatus + '</div>';
			}
		}
	}, {
		headerName: "Order",
		field: "cityOrderId",
		width: 100
	}, {
		headerName: "Code",
		field: "cityCode"
	}, {
		headerName: "City Name",
		field: "cityName"
	}, {
		headerName: "Status",
		field: "cityStatus",
		cellRenderer: function (params) {
			if (params.data.cityStatus == "Active") {
				return '<div style="color:green">' + params.data.cityStatus + '</div>';
			} else {
				return '<div>' + params.data.cityStatus + '</div>';
			}
		}
	}]; */
/* 	var totalGridOption = {
		columnDefs : totalcolumnDefs,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 150,
			height : 10
		},
		rowSelection: 'single' 

	}; */
	
	
	function onSelectionChangedCity()
	{
		closeNav();
		closeNav1();
		closeNav3();
		openNav2();
		
		var selectedNodes= gridOptions2.api.getSelectedNodes();
		var selectedData= selectedNodes.map(node => node.data);

		$('#cityId').val(selectedData.map(node => node.cityId));
		$('#cityOrderId').val(selectedData.map(node => node.cityOrderId));
		$('#cityCode').val(selectedData.map(node => node.cityCode));
		$('#cityName').val(selectedData.map(node => node.cityName));
		if(selectedData.map(node => node.cityStatus) == "Active"){
			$('#cityStatus').val("1");	
		} else{
			$('#cityStatus').val("0");
		}

	}
	
	function deleteCity(){
		closeNav2();
		
		var id = $('#cityId').val();
		var idDis = $('#districtId').val();

		$.ajax({
			type : "GET",
			url : "geography-master-city-type-delete?id=" + id,
			dataType : "json",
			contentType : "application/json",
			success : function(response) {
				if (response.message == "Success") {
					agGrid.simpleHttpRequest({
						url : 'geography-master-city-type-view-onclick?id=' + idDis
					}).then(function(data) {
						for(var i = 0 ; i<data.length ;i++){ 
							data[i].districtId = id ;   
						}
						gridOptions2.api.setRowData(data);
					});
				} 
			},
			error : function(response) {
				console.log(response);
			}
		}) 
	}  
	
	window.onclick = function(event) {
		if (event.target.id == 'myGrid' || event.target.id == 'myGrid1' || event.target.id == 'myGrid2' || event.target.id == 'myGrid3') {

			$('#myGrid').find('.ag-row:first').css('border','none');
			$('#myGrid1').find('.ag-row:first').css('border','none');
			$('#myGrid2').find('.ag-row:first').css('border','none');
			$('#myGrid3').find('.ag-row:first').css('border','none');
			$('#totalData').find('.ag-row:first').css('border','none');
			}
		}
	

	// setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridDiv = document.querySelector('#myGrid');
		new agGrid.Grid(gridDiv, gridOptions);
/* 		
		var totaGridDiv = document.querySelector('#totalData');
		new agGrid.Grid(totaGridDiv, totalGridOption); */

		var gridDiv1 = document.querySelector('#myGrid1');
		new agGrid.Grid(gridDiv1, gridOptions1);

		var gridDiv2 = document.querySelector('#myGrid2');
		new agGrid.Grid(gridDiv2, gridOptions2);
		
		var gridDiv3 = document.querySelector('#myGrid3');
		new agGrid.Grid(gridDiv3, gridOptions3);

	});
	
	
	</script>

<script>
/* Sagar Anchal - 27-01-2021 */
function openFiscalSidebar() {
	$("#deleteFiscalBtn").hide();
	closeFiscalSidebar();
	$("#yearId").val("");
	$("#year").val("");
	$("#startMonth").val("Jan");
	$("#endMonth").val("Jan");
	document.getElementById("myFiscalSidenav").style.width = "24%";
}
function closeFiscalSidebar() {
	document.getElementById("myFiscalSidenav").style.width = "0";
}
function deleteFiscality() {
	$("#delete").modal("show");
}
function editYrDetails(id,year,startMnth,endMnth) {
	openFiscalSidebar();
	$("#deleteFiscalBtn").show();
	$("#yearId").val(id);
	/* $("#year").val(year); */
	
	var stMnth = startMnth.split("-");
	var eMnth = endMnth.split("-");
	
	$(".init").attr("value",year);
	$(".yearClass ul").children('li').removeClass("selected");
	$("#"+year).addClass("selected");
	$(".yearClass ul").children('.init').html($("#"+year).html());
	
	$(".strtmnthinit").attr("value",stMnth[0]);
	$(".startMnthClass ul").children('li').removeClass("selected");
	$("#"+stMnth[0]).addClass("selected");
	$(".startMnthClass ul").children('.strtmnthinit').html($("#"+stMnth[0]).html());
	
	$(".endmnthinit").attr("value",eMnth[0]);
	$(".endMnthClass ul").children('li').removeClass("selected");
	$(".endMnthClass ul").children("#"+eMnth[0]).addClass("selected");
	$(".endMnthClass ul").children('.endmnthinit').html($("#"+eMnth[0]).html());
	
	/* $("#startMonth").val(stMnth[0]);
	$("#endMonth").val(eMnth[0]);
	
	$(".fiscalyear").removeClass("selected");
	$("#divfy_"+id).addClass("selected"); */
}
function cancelModalBtn() {
	$("#delete").modal("hide");
	$("#deleteModalBtn").removeAttr("disabled");
}
$(document).ready(function(){
	var dateFormat = localStorage.getItem("dateFormat");
	$("#dateExp").datetimepicker({
		format : dateFormat,
		closeOnDateSelect : true,
		timepicker : false,
	})
	
	getFiscalYearList();
	var mnthList = [{"key":"Jan","name":"January"},{"key":"Feb","name":"February"},{"key":"Mar","name":"March"},{"key":"Apr","name":"April"},
					{"key":"May","name":"May"},{"key":"Jun","name":"June"},{"key":"Jul","name":"July"},{"key":"Aug","name":"August"},
					{"key":"Sep","name":"September"},{"key":"Oct","name":"October"},{"key":"Nov","name":"November"},{"key":"Dec","name":"December"}];
	
	$("#startMonth").empty();
	$("#startMonth").append('<li class="strtmnthinit" value="">Select</li>');
	$("#startMonth").append('<li data-value="strtMnthBlank" id="strtMnthBlank" style="display: none;">Select</li>');
	$("#endMonth").empty();
	$("#endMonth").append('<li class="endmnthinit" value="">Select</li>');
	$("#endMonth").append('<li data-value="endMnthBlank" id="endMnthBlank" style="display: none;">Select</li>');
	for(var i = 0; i < mnthList.length; i++) {
		//var option = '<option value="'+mnthList[i].key+'">'+mnthList[i].name+'</option>';
		var option = '<li data-value="'+mnthList[i].key+'" id="'+mnthList[i].key+'" style="display: none;">'+mnthList[i].name+'</li>';
		$("#startMonth").append(option);
		$("#endMonth").append(option);
	}
	
	$("#deleteModalBtn").click(function(){
		var id = $("#yearId").val();
		$('.loader').show();
    	$("body").addClass("overlay");
    	$("#deleteModalBtn").attr("disabled",true);
		$.ajax({
	        type: "POST",
	        url: "geography-master-delete-fiscal-year",
	        dataType: "json",
	        contentType: "application/json",
	        data: id,
	        success: function(response) {
	            if (response.message == "success") {
	            	cancelModalBtn();
	            	closeFiscalSidebar();
	            	getFiscalYearList();
	            	$("#messageParagraph").text("Data Deleted Successfully");
		        	$("#msgOkModal").removeClass("btn3");
		        	$("#msgOkModal").addClass("btn1");
		        	$("#msgModal").modal('show');
		        	$('.loader').hide();
	            	$("body").removeClass("overlay");
	            }
	        }, error: function(data) {
	        	console.log(data)
	        	$('.loader').hide();
	        	$("body").removeClass("overlay");
	        }
		});
	})
	
	$("#submitFiscality").click(function(){
		
		obj = {};
		
		obj.yearId = $("#yearId").val();
		obj.year = $("#year").val();
		obj.monthDtls = $("#startMonth").val();
		obj.endMnth = $("#endMonth").val();
		
		$(".formValidation").remove();
		allPValid = true;
		if( $("#year").val() == null || $("#year").val() == ""){
			allPValid = false;
			validationAll("Year Required","year");
		} 
		
		if($("#startMonth").val() == $("#endMonth").val()) {
			allPValid = false;
			$("#messageParagraph").text("Start Month & End Month Can't Be Same");
        	$("#msgOkModal").addClass("btn3");
        	$("#msgOkModal").removeClass("btn1");
        	$("#msgModal").modal('show');
		}
		
		if(allPValid) {
			var hiddenYrList = $("#hiddenYrList").val();
			if(hiddenYrList == null || hiddenYrList == "") {
				savefiscalYear(obj);
			} else {
				var data = hiddenYrList.split(",");
				var yrList = [];
				for(var i = 0; i < data.length; i++) {
					yrList.push(data[i]);
				}
				var isExist = yrList.includes($("#year").val());
				if(isExist) {
					$("#messageParagraph").text("Year Already Exists");
		        	$("#msgOkModal").addClass("btn3");
		        	$("#msgOkModal").removeClass("btn1");
		        	$("#msgModal").modal('show');
				} else {
					savefiscalYear(obj);
				}
			}
		}
	})
})
function savefiscalYear(dataset) {
	$.ajax({
        type: "POST",
        url: "geography-master-save-fiscal-year",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "success") {
            	closeFiscalSidebar();
            	getFiscalYearList();
            	$("#messageParagraph").text("Data Saved Successfully");
	        	$("#msgOkModal").removeClass("btn3");
	        	$("#msgOkModal").addClass("btn1");
	        	$("#msgModal").modal('show');
	        	$('.loader').hide();
            	$("body").removeClass("overlay");
            }
        }, error: function(data) {
        	console.log(data)
        	$('.loader').hide();
        	$("body").removeClass("overlay");
        }
	});
}
function getFiscalYearList() {
	$('.loader').show();
	$("body").addClass("overlay");
	$("#fiscalYrDivList").empty();
	$.ajax({
        type: "POST",
        url: "geography-master-get-fiscal-year-list",
        dataType: "json",
        contentType: "application/json",
        data: "a",
        success: function(response) {
            if (response.message == "success") {
            	var dataset = [];
            	for(var i = 0; i < response.body.length; i++) {
            		var c = i + 1;
            		var div = '<div class="fiscalyear" id="divfy_'+response.body[i].yearId+'"><span class="">'+c+' - </span><span class="" onclick=editYrDetails("'+response.body[i].yearId+'","'+response.body[i].year+'","'+response.body[i].monthDtls+'","'+response.body[i].endMnth+'")> '+response.body[i].year+' - '+response.body[i].monthDtls+' - '+response.body[i].endMnth+'</span></div>';
            		
            		$("#fiscalYrDivList").append(div);
            		dataset.push(response.body[i].year);
            	}
            	$("#hiddenYrList").val(dataset);
            	$('.loader').hide();
            	$("body").removeClass("overlay");
            }
        }, error: function(data) {
        	console.log(data);
        	$('.loader').hide();
        	$("body").removeClass("overlay");
        }
	});
}
function saveDateFormat(id) {
	$('.loader').show();
	$("body").addClass("overlay");
	$("#deleteModalBtn").attr("disabled",true);
	$.ajax({
        type: "POST",
        url: "geography-master-change-dateformat",
        dataType: "json",
        contentType: "application/json",
        data: id,
        success: function(response) {
            if (response.message == "success") {
            	localStorage.setItem("dateFormat",response.body.dfJS);
            	console.log(localStorage.getItem("dateFormat"))
            	$("#messageParagraph").text("Date Format Changed Successfully");
	        	$("#msgOkModal").removeClass("btn3");
	        	$("#msgOkModal").addClass("btn1");
	        	$("#msgModal").modal('show');
	        	$('.loader').hide();
            	$("body").removeClass("overlay");
            }
        }, error: function(data) {
        	console.log(data)
        	$('.loader').hide();
        	$("body").removeClass("overlay");
        }
	});
}
function openYearNav() {
	
	$('#year').val("");
	$("#yearId").val("");
	$("#yearStatus").val("1");
	
	closeNav1();
	closeNav3();
	closeNav2();
	closeNav();
	closeFiscalSidebar();
	
	document.getElementById("myYearSidenav").style.cssText = "width: 250px; position: absolute; right:-30px; overflow: hidden; height:auto; top:245px;";
	document.getElementById("main_year_content").style.cssText = "width: 103%; height:200px;";
	
}
function closeYearNav() {
	
	$('#year').val("");
	$("#yearId").val("");
	$("#yearStatus").val("1");
	
	document.getElementById("myYearSidenav").style.width = "0";
	document.getElementById("main_year_content").style.cssText = "width:103%; height:200px;";
}
function onSelectionEditYear() {
	openYearNav();
	var selectedRows = gridYearOptions.api.getSelectedRows();
	var yearId = "";
	var year = "";
	var yearStatus = "";
    selectedRows.forEach(function(selectedRow, index) {
    	yearId = selectedRow.yearId;
    	year = selectedRow.year;
    	yearStatus = selectedRow.yearStatus;
    });
    $("#yearId").val(yearId);
    $("#year").val(year);
    if(yearStatus == "Active") {
    	yearStatus = "1";
    } else {
    	yearStatus = "0";
    }
    $("#yearStatus").val(yearStatus);
}
var columnDefsYr = [{
	headerName : "Year",
	field : "year"
}, {
	headerName : "Status",
	field : "yearStatus",
	cellRenderer: function(params){
		if(params.data.yearStatus == "Active"){
			return '<div style="color:green">' + params.data.yearStatus + '</div>';
		} else{
			return '<div>' + params.data.yearStatus + '</div>';
		}
	}
}];

var gridYearOptions = {
	columnDefs : columnDefsYr,
	defaultColDef : {
		sortable : true,
		filter : true,
		resizable : true,
		width : 270,
		height : 10
	},
	rowSelection: 'single',
	onSelectionChanged: onSelectionEditYear
};
function totalYearCSV() {
	var dataset = [];
	gridYearOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
		dataset.push(rowNode.data);
	});
	gridYearOptions.api.exportDataAsCsv(dataset);
}
$(document).ready(function(){
	agGrid.simpleHttpRequest({
		url : 'geography-master-get-year-list'
	}).then(function(data) {
		gridYearOptions.api.setRowData(data);
		
		var dataset = [];
		gridYearOptions.api.forEachNode(function(rowNode,index){
			dataset.push(rowNode.data.year)
		})
		setYearOption(dataset);
	});
	
	
	
	$("#saveCalendarYear").click(function(){
		
		obj = {};
		
		obj.yearId = $("#yearId").val();
		obj.year = $("#year").val();
		obj.yearStatus = $("#yearStatus").val();
		
		$(".formValidation").remove();
		allPValid = true;
		if( $("#year").val() == null || $("#year").val() == ""){
			allPValid = false;
			validationAll("Year Required","year");
		} 
		
		if(allPValid) {
			saveCalendarYear(obj);
		}
	})
})
function setYearOption(dataset) {
	$(".selectYearDy").empty();
	if(dataset.length > 0) {
		$(".selectYearDy").append('<li class="init" value="">Select</li>');
		$(".selectYearDy").append('<li data-value="yearBlank" id="yearBlank" style="display: none;">Select</li>');
		for(var i = 0; i < dataset.length; i++) {
			$(".selectYearDy").append('<li data-value="'+dataset[i]+'" id="'+dataset[i]+'" style="display: none;">'+dataset[i]+'</li>')
		}
	} else {
		$(".selectYearDy").append('<li class="init" value="">Select</li>');
		$(".selectYearDy").append('<li data-value="yearBlank" id="yearBlank" style="display: none;">Select</li>');
	}
}
function saveCalendarYear(dataset) {
	console.log(dataset)
	$.ajax({
        type: "POST",
        url: "geography-master-save-calendar-year",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "success") {
            	closeYearNav();
            	agGrid.simpleHttpRequest({
            		url : 'geography-master-get-year-list'
            	}).then(function(data) {
            		gridYearOptions.api.setRowData(data);
            		
            		var dataset = [];
            		gridYearOptions.api.forEachNode(function(rowNode,index){
            			dataset.push(rowNode.data.year)
            		})
            		setYearOption(dataset);
            	}); /* selectYearDy */
            	
            	$("#messageParagraph").text("Data Saved Successfully");
	        	$("#msgOkModal").removeClass("btn3");
	        	$("#msgOkModal").addClass("btn1");
	        	$("#msgModal").modal('show');
	        	$('.loader').hide();
            	$("body").removeClass("overlay");
            } else {
            	if(response.message == "Duplicate entry 'x' for  'TYM_Year'") {
            		response.message = "You have already entered this year";
            	}
            	$("#messageParagraph").text(response.message);
	        	$("#msgOkModal").addClass("btn3");
	        	$("#msgOkModal").removeClass("btn4");
	        	$("#msgModal").modal('show');
	        	$('.loader').hide();
            	$("body").removeClass("overlay");
            }
        }, error: function(data) {
        	console.log(data)
        	$('.loader').hide();
        	$("body").removeClass("overlay");
        }
	});
}
document.addEventListener('DOMContentLoaded', function() {
	var gridDiv = document.querySelector('#myYearGrid');
	new agGrid.Grid(gridDiv, gridYearOptions);
});
</script>
<script type="text/javascript">
$(document).ready(function(){ 
	
	$(".yearClass ul").on("click", ".init", function() {
		$(".yearClass").toggleClass("selectliscroll");
		$(this).closest("ul").children('li:not(.init)').toggle();
	});
	
	$(".yearClass ul").on("click", "li:not(.init)", function() {
		$(".yearClass ul").children('li:not(.init)').removeClass('selected');
		$(this).addClass('selected');
		$(".yearClass ul").children('.init').html($(this).html());
		$(".yearClass ul").children('.init').attr("value",$(this).attr("data-value"));
		$(".yearClass ul").children('li:not(.init)').toggle();
	});
	
	/** Start Month Drop Down **/
	
	$(".startMnthClass ul").on("click", ".strtmnthinit", function() {
		$(".startMnthClass").toggleClass("selectliscroll");
		$(this).closest("ul").children('li:not(.strtmnthinit)').toggle();
	});
	
	$(".startMnthClass ul").on("click", "li:not(.strtmnthinit)", function() {
		$(".startMnthClass ul").children('li:not(.strtmnthinit)').removeClass('selected');
		$(this).addClass('selected');
		$(".startMnthClass ul").children('.strtmnthinit').html($(this).html());
		$(".startMnthClass ul").children('.strtmnthinit').attr("value",$(this).attr("data-value"));
		$(".startMnthClass ul").children('li:not(.strtmnthinit)').toggle();
	});
	
	/** End Month Drop Down **/
	
	$(".endMnthClass ul").on("click", ".endmnthinit", function() {
		$(".endMnthClass").toggleClass("selectliscroll");
		$(this).closest("ul").children('li:not(.endmnthinit)').toggle();
	});
	
	$(".endMnthClass ul").on("click", "li:not(.endmnthinit)", function() {
		$(".endMnthClass ul").children('li:not(.endmnthinit)').removeClass('selected');
		$(this).addClass('selected');
		$(".endMnthClass ul").children('.endmnthinit').html($(this).html());
		$(".endMnthClass ul").children('.endmnthinit').attr("value",$(this).attr("data-value"));
		$(".endMnthClass ul").children('li:not(.endmnthinit)').toggle();
	});
	
	$(".yearClass ul").on("click", "li:not(.init)", function() {
		var value = $(".init").attr("value");
		
		/* $(".init").attr("value","1");
		$(".yearClass ul").children('li').removeClass("selected");
		$("#1").addClass("selected");
		$(".yearClass ul").children('.init').html($("#1").html()); */
	});

})

/*function liChange() {
alert("sagar")
} */
</script>

<script>


function checkValue(str, max) {
  	if (str.charAt(0) !== '0' || str == '00') {
    	var num = parseInt(str);
    	if (isNaN(num) || num <= 0 || num > max) num = 1;
    	str = num > parseInt(max.toString().charAt(0)) && num.toString().length == 1 ? '0' + num : num.toString();
  	};
  	return str;
};

function checkLength(str, max) {
	console.log(str.length)
}
$(document).ready(function(){
	
}) 


function saveFile() { 
	
	$('.loader').show();
	$("body").addClass("overlay");
    var uFile = $('#fileUpload')[0].files[0];
    var fileName = $('#fileUpload').val();

    var lastIndex = fileName.lastIndexOf("\\");
    if (lastIndex >= 0) {
        fileName = fileName.substring(lastIndex + 1);
    } 
    var iURL = URL.createObjectURL(uFile); 
    
    var fileData = new FormData();
    fileData.append('file', uFile);
    fileData.append('path', "");
 
    $.ajax({
        type: "POST",
        url: "geography-master-city-type-upload-data",
        enctype: "multipart/form-data",
        contentType: false,
        data: fileData,
        processData: false,
        cache: false,
        success: function(response) {
        	$('.loader').hide();
			$("body").removeClass("overlay");
			var selectedNodes= gridOptions3.api.getSelectedNodes();
			var selectedData= selectedNodes.map(node => node.data); 
			var id = selectedData.map(node => node.districtId);
			$("#messageParagraph").text(response.message);
        	$("#msgOkModal").addClass("btn3");
        	$("#msgOkModal").removeClass("btn4");
        	$("#msgModal").modal('show');
			callCity(id);
        },
        error: function(e) {
        	$('.loader').hide();
			$("body").removeClass("overlay");
			$("#messageParagraph").text(response.message);
        	$("#msgOkModal").addClass("btn3");
        	$("#msgOkModal").removeClass("btn4");
        	$("#msgModal").modal('show');
        }
    });  
}
function saveGlobalCsv() {  
	$('.loader').show();
	$("body").addClass("overlay");
    var uFile = $('#fileUploadGlobal')[0].files[0];
    var fileName = $('#fileUploadGlobal').val();

    var lastIndex = fileName.lastIndexOf("\\");
    if (lastIndex >= 0) {
        fileName = fileName.substring(lastIndex + 1);
    } 
    var iURL = URL.createObjectURL(uFile); 
    
    var fileData = new FormData();
    fileData.append('file', uFile);
    fileData.append('path', "");
 
    $.ajax({
        type: "POST",
        url: "geography-master-upload-global-data",
        enctype: "multipart/form-data",
        contentType: false,
        data: fileData,
        processData: false,
        cache: false,
        success: function(response) {
        	$('.loader').hide();
			$("body").removeClass("overlay");
			var selectedNodes= gridOptions3.api.getSelectedNodes();
			var selectedData= selectedNodes.map(node => node.data); 
			var id = selectedData.map(node => node.districtId);
			$("#messageParagraph").text(
            "Data Saved Successfully");
           $("#msgOkModal").removeClass("btn3");
           $("#msgOkModal").addClass("btn1");
           $("#msgModal").modal('show');
			agGrid.simpleHttpRequest({
				url : 'geography-master-country-type-view'
			}).then(function(data) {
				 
				$('#countryId').val(data[0].globalId);
				gridOptions.api.setRowData(data);
				gridOptions.api.forEachNode(node=> node.rowIndex ? 0 : node.setSelected(true));
				closeAllNav();
			});
			 
        },
        error: function(e) {
        	$('.loader').hide();
			$("body").removeClass("overlay");
			$("#messageParagraph").text("Something Went Wrong");
        	$("#msgOkModal").addClass("btn3");
        	$("#msgOkModal").removeClass("btn4");
        	$("#msgModal").modal('show');
        }
    });  
}

function saveStateCsv(){  
	$('.loader').show();
	$("body").addClass("overlay");
    var uFile = $('#fileUploadState')[0].files[0];
    var fileName = $('#fileUploadState').val();

    var lastIndex = fileName.lastIndexOf("\\");
    if (lastIndex >= 0) {
        fileName = fileName.substring(lastIndex + 1);
    } 
    var iURL = URL.createObjectURL(uFile); 
    
    var fileData = new FormData();
    fileData.append('file', uFile);
    fileData.append('path', "");
 
    $.ajax({
        type: "POST",
        url: "geography-master-upload-state-data",
        enctype: "multipart/form-data",
        contentType: false,
        data: fileData,
        processData: false,
        cache: false,
        success: function(response) {
        	$('.loader').hide();
			$("body").removeClass("overlay");
			var selectedNodes= gridOptions3.api.getSelectedNodes();
			var selectedData= selectedNodes.map(node => node.data); 
			var id = selectedData.map(node => node.districtId);
			$("#messageParagraph").text(
            "Data Saved Successfully");
           $("#msgOkModal").removeClass("btn3");
           $("#msgOkModal").addClass("btn1");
           $("#msgModal").modal('show');
			agGrid.simpleHttpRequest({
				url : 'geography-master-country-type-view'
			}).then(function(data) { 
				$('#countryId').val(data[0].globalId);
				gridOptions.api.setRowData(data);
				gridOptions.api.forEachNode(node=> node.rowIndex ? 0 : node.setSelected(true))
				closeAllNav();
			});
			 
        },
        error: function(e) {
        	$('.loader').hide();
			$("body").removeClass("overlay");
			$("#messageParagraph").text("Something Went Wrong");
        	$("#msgOkModal").addClass("btn3");
        	$("#msgOkModal").removeClass("btn4");
        	$("#msgModal").modal('show');
        }
    });  
}

function saveDistCsv(){  
	$('.loader').show();
	$("body").addClass("overlay");
    var uFile = $('#fileUploadState')[0].files[0];
    var fileName = $('#fileUploadState').val();

    var lastIndex = fileName.lastIndexOf("\\");
    if (lastIndex >= 0) {
        fileName = fileName.substring(lastIndex + 1);
    } 
    var iURL = URL.createObjectURL(uFile); 
    
    var fileData = new FormData();
    fileData.append('file', uFile);
    fileData.append('path', "");
 
    $.ajax({
        type: "POST",
        url: "geography-master-upload-dist-data",
        enctype: "multipart/form-data",
        contentType: false,
        data: fileData,
        processData: false,
        cache: false,
        success: function(response) {
        	$('.loader').hide();
			$("body").removeClass("overlay");
			var selectedNodes= gridOptions3.api.getSelectedNodes();
			var selectedData= selectedNodes.map(node => node.data); 
			var id = selectedData.map(node => node.districtId);
			$("#messageParagraph").text(
            "Data Saved Successfully");
           $("#msgOkModal").removeClass("btn3");
           $("#msgOkModal").addClass("btn1");
           $("#msgModal").modal('show');
			agGrid.simpleHttpRequest({
				url : 'geography-master-country-type-view'
			}).then(function(data) { 
				$('#countryId').val(data[0].globalId);
				gridOptions.api.setRowData(data);
				gridOptions.api.forEachNode(node=> node.rowIndex ? 0 : node.setSelected(true))
				closeAllNav();
			});
			 
        },
        error: function(e) {
        	$('.loader').hide();
			$("body").removeClass("overlay");
			$("#messageParagraph").text("Something Went Wrong");
        	$("#msgOkModal").addClass("btn3");
        	$("#msgOkModal").removeClass("btn4");
        	$("#msgModal").modal('show');
        }
    });  
}
function downloadStateCsv(){  
	   var params = { 
			    columnKeys: ['globalId', 'stateOrderId' ,'stateCode' ,'stateName' ,'stateStatus']
			};
	   gridOptions1.api.exportDataAsCsv(params);
} 
function getParams() {
	  return {
	    allColumns: true 
	  };
	} 
/* function saveTotalCsv(){
	 gridOptions1.api.exportDataAsCsv(getParams());
} */
	/*
	function downloadGlobalCsv() {
	  var api = gridOptions.api,
	    params = getParams(); 
	  
	  api.exportDataAsCsv(params);
	}
	*/
function downloadGlobalCsv() { 
	  var dataset = [];
	  gridOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
	        dataset.push(rowNode.data);
	    });
	  gridOptions.api.exportDataAsCsv(dataset);
	}
	
function downloadDistrictCsv(){
	 var params = { 
			    columnKeys: ['globalId', 'stateId' ,'districtOrderId','districtCode' ,'districtName' ,'districtStatus']
			};
	 gridOptions3.api.exportDataAsCsv(params); 
}

function downloadCityCsv(){
	   var dataset = [];
	   gridOptions2.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
	        dataset.push(rowNode.data);
	    });
	   gridOptions2.api.exportDataAsCsv(dataset);
}
function downloadTotalCsv(){
	
}
</script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
</head>

<body>
</head>

<body>

	<div layout:fragment="content">
		<div class="content-wrap">
			<div class="container-fluid">
				<div class="maincontent">
					<div class="row">

						<div class="maincontentsec">
							<div class="content_padding">
								<div class="wrapper center-block">
									<div class="panel-group" id="accordion" role="tablist"
										aria-multiselectable="true">
										<div class="panel panel-default">
											<div class="panel-heading active" role="tab" id="headingOne">
												<h4 class="panel-title">
													<a role="button" data-toggle="collapse"
														data-parent="#accordion" href="#collapseOne"
														aria-expanded="true" aria-controls="collapseOne">
														Select Global </a>
												</h4>

											</div>

											<div id="collapseOne" class="panel-collapse collapse show"
												role="tabpanel" aria-labelledby="headingOne"
												style="height: 620px;">
												<div class="panel-body">
													<div class="row" id="main_content">

														<!-- <div class="col-md-12">
															<div class="row">
																<div class="col-md-10">
																	<div class="sml_plus">
																		<i class="ti-plus"></i>
																	</div>
																	<div class="sml_action">
																		<i class="ti-bolt-alt"></i>
																	</div>
																</div>

																<div class="sml_hide">
																	<i class="ti-download" onclick="downloadTotalCsv()"></i>
																</div>
																<div class="upload_csv">
																	<label for="fileUploadTotal" id="uploadForTotal_">
																		<i id="clickImg_" class="ti-upload"></i>
																	</label>
																	<div class="controls">

																		<input type="file" class="document"
																			id="fileUploadTotal" name="userImage" accept=".csv"
																			onchange="saveTotalCsv()" />

																	</div>
																</div>

															</div>
															<div class="box_reference" align="center">
																<div id="totalData" style="width: 100%; height: 200px;"
																	class="ag-theme-alpine"></div>
															</div>
														</div> -->

														<div class="col-md-6">
															<div class="row">
																<div class="col-md-10">
																	<div class="sml_plus"
																		onclick='closeNav1();closeNav2();closeNav3();openNav();'>
																		<i class="ti-plus"></i>
																	</div>
																	<div class="sml_action">
																		<i class="ti-bolt-alt"></i>
																	</div>
																</div>

																<div class="sml_hide">
																	<i class="ti-download" onclick="downloadGlobalCsv()"></i>
																</div>
																<div class="upload_csv">
																	<label for="fileUploadGlobal" id="uploadForGlobal_">
																		<i id="clickImg_" class="ti-upload"></i>
																	</label>
																	<div class="controls">

																		<input type="file" class="document"
																			id="fileUploadGlobal" name="userImage" accept=".csv"
																			onchange="saveGlobalCsv()" />

																	</div>
																</div>

															</div>
															<div class="box_reference" align="center">
																<div id="myGrid" style="width: 100%; height: 200px;"
																	class="ag-theme-alpine"></div>
															</div>
														</div>





														<div class="col-md-6">
															<div class="row">
																<div class="col-md-10">
																	<div class="sml_plus">
																		<i class="ti-plus"
																			onclick='closeNav();closeNav2();closeNav3();openNav1()'></i>
																	</div>

																	<div class="sml_action">
																		<i class="ti-bolt-alt"></i>
																	</div>
																</div>

																<div class="sml_hide">
																	<i class="ti-download" onclick="downloadStateCsv()"></i>
																</div>
																<div class="upload_csv">
																	<label for="fileUploadState" id="uploadForState_">
																		<i id="clickImg_" class="ti-upload"></i>
																	</label>
																	<div class="controls">

																		<input type="file" class="document"
																			id="fileUploadState" name="userImage" accept=".csv"
																			onchange="saveStateCsv()" />

																	</div>
																</div>
															</div>
															<div class="box_reference" align="center">
																<div id="myGrid1" style="width: 100%; height: 200px;"
																	class="ag-theme-alpine"></div>

															</div>
														</div>

														<div class="col-md-6">
															<div class="row">
																<div class="col-md-10">
																	<div class="sml_plus">
																		<i class="ti-plus"
																			onclick='closeNav1();closeNav2();closeNav();openNav3()'></i>
																	</div>

																	<div class="sml_action">
																		<i class="ti-bolt-alt"></i>
																	</div>
																</div>

																<div class="sml_hide">
																	<i class="ti-download" onclick='downloadDistrictCsv()'></i>
																</div>
																<div class="upload_csv">
																	<label for="fileUploadDist" id="uploadForDist_">
																		<i id="clickImg_" class="ti-upload"></i>
																	</label>
																	<div class="controls">

																		<input type="file" class="document"
																			id="fileUploadDist" name="userImage" accept=".csv"
																			onchange="saveDistCsv()" />

																	</div>
																</div>
															</div>
															<div class="box_reference" align="center">
																<div id="myGrid3" style="width: 100%; height: 200px;"
																	class="ag-theme-alpine"></div>

															</div>
														</div>

														<div class="col-md-6">
															<div class="row">
																<div class="col-md-10">

																	<div class="sml_plus"
																		onclick='closeNav1();closeNav();closeNav3();openNav2()'>
																		<i class="ti-plus"></i>
																	</div>

																	<div class="sml_action">
																		<i class="ti-bolt-alt"></i>
																	</div>
																</div>

																<div class="sml_hide">
																	<i class="ti-download" onclick="downloadCityCsv()"></i>
																</div>

																<div class="upload_csv">
																	<label for="fileUpload" id="uploadFor_"> <i
																		id="clickImg_" class="ti-upload"></i>
																	</label>
																	<div class="controls">

																		<input type="file" class="document" id="fileUpload"
																			name="userImage" accept=".csv" onchange="saveFile()" />

																	</div>
																</div>

															</div>
															<div class="box_reference" align="center">
																<div id="myGrid2" style="width: 100%; height: 200px;"
																	class="ag-theme-alpine"></div>

															</div>
														</div>
														<div class="clearfix"></div>
													</div>
													<div class="clearfix"></div>





													<!-- <div class="slidearrow_new" onclick="openNav()">
															<i class="ti-arrow-left"></i>
														</div> -->
														
														
														<!-- Panel slide -->
														
													<div id="mySidenav" class="sidenav">
														<div class="slidebox">
															<div class="row">
																<div class="col-md-9">
																	<div class="edit">Country</div>
																</div>
																<div class="col-md-3">
																	<div class="arrow">
																		<a href="javascript:void(0)" class="closebtn"
																			onclick="closeNav()"><i class="ti-arrow-right"></i></a>
																	</div>
																</div>


																<div class="chartbtnsec1">
																	<div align="right">
																		<button class="btn4" onclick="closeNav()">CANCEL</button>
																		<button class="btn3" onclick="deleteCountry()">DELETE</button>
																		<button class="btn1" onclick="submitCountryType()">SAVE</button>
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Code</label> <input type="text"
																			id="countryCode"
																			class="form-control transparenttxtbox"
																			placeholder="Code"><input type="hidden"
																			id="countryId">
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Name</label> <input type="text"
																			id="countryName"
																			class="form-control transparenttxtbox"
																			placeholder="Name">
																	</div>
																</div>


																<div class="col-md-12">
																	<div class="form-group">
																		<label>Status</label> <select id="countryStatus"
																			class="form-control">
																			<option value="">Select</option>
																			<option value="1">Active</option>
																			<option value="0">Inactive</option>
																		</select>
																	</div>
																</div>


																<div class="col-md-12">
																	<div class="form-group">
																		<label>Order</label> <input type="text"
																			id="countryOrderId"
																			class="form-control transparenttxtbox"
																			placeholder="Order">
																	</div>
																</div>
															</div>
														</div>
													</div>


													<!-- <div class="slidearrow_new" onclick="openNav1()">
															<i class="ti-arrow-left"></i>
														</div> -->

													<div id="mySidenav1" class="sidenav">
														<div class="slidebox">
															<div class="row">
																<div class="col-md-9">
																	<div class="edit">State</div>
																</div>
																<div class="col-md-3">
																	<div class="arrow">
																		<a href="javascript:void(0)" class="closebtn"
																			onclick="closeNav1()"><i class="ti-arrow-right"></i></a>
																	</div>
																</div>

																<div class="chartbtnsec1">
																	<div align="right">
																		<button class="btn4" onclick="closeNav1()">CANCEL</button>
																		<button class="btn3" onclick="deleteState()">DELETE</button>
																		<button class="btn1" onclick="submitStateType()">SAVE</button>
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Code</label> <input type="text" id="stateCode"
																			class="form-control transparenttxtbox"
																			placeholder="Code"><input type="hidden"
																			id="stateId">
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Name</label> <input type="text" id="stateName"
																			class="form-control transparenttxtbox"
																			placeholder="Name">
																	</div>
																</div>


																<div class="col-md-12">
																	<div class="form-group">
																		<label>Status</label> <select id="stateStatus"
																			class="form-control">
																			<option value="">Select</option>
																			<option value="1">Active</option>
																			<option value="0">Inactive</option>
																		</select>
																	</div>
																</div>


																<div class="col-md-12">
																	<div class="form-group">
																		<label>Order</label> <input type="text"
																			id="stateOrderId"
																			class="form-control transparenttxtbox"
																			placeholder="Order">
																	</div>
																</div>


															</div>
														</div>
													</div>


													<!-- <div class="slidearrow_new" onclick="openNav2()">
															<i class="ti-arrow-left"></i>
														</div> -->

													<div id="mySidenav2" class="sidenav">
														<div class="slidebox">
															<div class="row">
																<div class="col-md-9">
																	<div class="edit">City</div>
																</div>
																<div class="col-md-3">
																	<div class="arrow">
																		<a href="javascript:void(0)" class="closebtn"
																			onclick="closeNav2()"><i class="ti-arrow-right"></i></a>
																	</div>
																</div>


																<div class="chartbtnsec1">
																	<div align="right">
																		<button class="btn4" onclick="closeNav2()">CANCEL</button>
																		<button class="btn3" onclick="deleteCity()">DELETE</button>
																		<button class="btn1" onclick="submitCityType()">SAVE</button>
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Code</label> <input type="text" id="cityCode"
																			class="form-control transparenttxtbox"
																			placeholder="Code"><input type="hidden"
																			id="cityId">
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Name</label> <input type="text" id="cityName"
																			class="form-control transparenttxtbox"
																			placeholder="Name">
																	</div>
																</div>


																<div class="col-md-12">
																	<div class="form-group">
																		<label>Status</label> <select id="cityStatus"
																			class="form-control">
																			<option value="">Select</option>
																			<option value="1">Active</option>
																			<option value="0">Inactive</option>
																		</select>
																	</div>
																</div>


																<div class="col-md-12">
																	<div class="form-group">
																		<label>Order</label> <input type="text"
																			id="cityOrderId"
																			class="form-control transparenttxtbox"
																			placeholder="Order">
																	</div>
																</div>

															</div>

														</div>
													</div>


													<div id="mySidenav3" class="sidenav">
														<div class="slidebox">
															<div class="row">
																<div class="col-md-9">
																	<div class="edit">District/County</div>
																</div>
																<div class="col-md-3">
																	<div class="arrow">
																		<a href="javascript:void(0)" class="closebtn"
																			onclick="closeNav3()"><i class="ti-arrow-right"></i></a>
																	</div>
																</div>
																<div class="chartbtnsec1">
																	<div align="right">
																		<button class="btn4" onclick="closeNav3()">CANCEL</button>
																		<button class="btn3" onclick="deleteDistrict()">DELETE</button>
																		<button class="btn1" onclick="submitDistrictType()">SAVE</button>
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Code</label> <input type="text"
																			id="districtCode"
																			class="form-control transparenttxtbox"
																			placeholder="Code"><input type="hidden"
																			id="districtId">
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Name</label> <input type="text"
																			id="districtName"
																			class="form-control transparenttxtbox"
																			placeholder="Name">
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Status</label> <select id="districtStatus"
																			class="form-control">
																			<option value="">Select</option>
																			<option value="1">Active</option>
																			<option value="0">Inactive</option>
																		</select>
																	</div>
																</div>


																<div class="col-md-12">
																	<div class="form-group">
																		<label>Order</label> <input type="text"
																			id="districtOrderId"
																			class="form-control transparenttxtbox"
																			placeholder="Order">
																	</div>
																</div>

															</div>
														</div>
													</div>
												</div>
											</div>
										<!-- </div>
									</div>
								</div>  -->
								
								
								<!-- Panel slide -->

								<div class="panel panel-default">
									<div class="panel-heading" role="tab" id="headingTwo">
										<h4 class="panel-title">
											<a class="collapsed" role="button" data-toggle="collapse"
												data-parent="#accordion" href="#collapseTwo"
												aria-expanded="false" aria-controls="collapseTwo">
												Select Timezone </a>
										</h4>
										<!-- 	<hr style="width: 99%; left: -10px"> -->
									</div>
									<div id="collapseTwo" class="panel-collapse collapse"
										role="tabpanel" aria-labelledby="headingTwo">
										<div class="panel-body">
											<div class="row">
												<div class="col-md-3">
													<div class="color_greentxt">1. India</div>
												</div>
												<div class="col-md-3">
													<div class="selectbox">
														<select>
															<option value="0">Indian Standard Time (IST)</option>
															<option value="1">Indian Standard Time (IST)</option>
															<option value="2">Indian Standard Time (IST)</option>
															<option value="3">Indian Standard Time (IST)</option>
															<option value="4">Indian Standard Time (IST)</option>
														</select>
													</div>
												</div>
											</div>
											<div class="row">
												<div class="col-md-3">
													<div class="color_greentxt">2. United Sates</div>
												</div>
												<div class="col-md-3">
													<div class="selectbox">
														<select>
															<option value="0">Central Standard Time (CST)</option>
															<option value="1">Central Standard Time (CST)</option>
															<option value="2">Central Standard Time (CST)</option>
															<option value="3">Central Standard Time (CST)</option>
															<option value="4">Central Standard Time (CST)</option>
														</select>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<div class="panel-heading" role="tab" id="headingThree">
										<h4 class="panel-title">
											<a class="collapsed" role="button" data-toggle="collapse"
												data-parent="#accordion" href="#collapseThree"
												aria-expanded="false" aria-controls="collapseThree">
												Select Currency </a>
										</h4>
										<!-- <hr style="width: 99%; left: -10px"> -->
									</div>
									<div id="collapseThree" class="panel-collapse collapse"
										role="tabpanel" aria-labelledby="headingThree">
										<div class="panel-body">
											<div class="row">
												<div class="col-md-3">
													<div class="color_greentxt">Primary Currency</div>
												</div>
												<div class="col-md-3">
													<div class="selectbox">
														<select>
															<option value="0">Uniited State Dollar (USD)</option>
															<option value="1">Indian Rupees (IR)</option>

														</select>
													</div>
												</div>
											</div>

											<div class="row">
												<div class="col-md-3">
													<div class="color_greentxt">1. India</div>
												</div>
												<div class="col-md-3">
													<div class="selectbox">
														<select>
															<option value="0">Indian Standard Time (IST)</option>
															<option value="1">Indian Standard Time (IST)</option>
															<option value="2">Indian Standard Time (IST)</option>
															<option value="3">Indian Standard Time (IST)</option>
															<option value="4">Indian Standard Time (IST)</option>
														</select>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<div class="panel-heading" role="tab" id="headingSix">
										<h4 class="panel-title">
											<a class="collapsed" role="button" data-toggle="collapse"
												data-parent="#accordion" href="#collapseSix"
												aria-expanded="false" aria-controls="collapseSix"> Add
												Calendar Year</a>
										</h4>
										<!-- 	<hr style="width: 99%; left: -10px"> -->
									</div>
									<div id="collapseSix" class="panel-collapse collapse"
										role="tabpanel" aria-labelledby="headingSix">
										<div class="panel-body">
											<div class="row" id="main_year_content">

												<div class="col-md-6">
													<div class="row">
														<div class="col-md-10">
															<div class="sml_plus" onclick='openYearNav();'>
																<i class="ti-plus"></i>
															</div>
															<div class="sml_action">
																<i class="ti-bolt-alt"></i>
															</div>
														</div>
														<div class="sml_hide" onclick="totalYearCSV();">
															<i class="ti-download"></i>
														</div>
													</div>
													<div class="box_reference" align="center">
														<div id="myYearGrid" style="width: 100%; height: 200px;"
															class="ag-theme-alpine"></div>
													</div>
												</div>
											</div>
											<div class="clearfix"></div>
											<div id="myYearSidenav" class="sidenav">
												<div class="slidebox">
													<div class="row">
														<div class="col-md-9">
															<div class="edit">Year</div>
														</div>
														<div class="col-md-3">
															<div class="arrow">
																<a href="javascript:void(0)" class="closebtn"
																	onclick="closeYearNav()"><i class="ti-arrow-right"></i></a>
															</div>
														</div>

														<div class="chartbtnsec1">
															<div align="right">
																<button class="btn4" onclick="closeYearNav()">CANCEL</button>
																<!-- <button class="btn3" onclick="deleteCountry()">DELETE</button> -->
																<button class="btn1" id="saveCalendarYear">SAVE</button>
															</div>
														</div>
														<div class="col-md-12">
															<div class="form-group">
																<label>Year</label> <input type="text" id="year"
																	class="form-control transparenttxtbox" placeholder=""
																	onblur="removeValid(event)"><input
																	type="hidden" id="yearId">
															</div>
														</div>
														<div class="col-md-12">
															<div class="form-group">
																<label>Status</label>
																<div class="select">
																	<select id="yearStatus" class="">
																		<option value="1">Active</option>
																		<option value="0">Inactive</option>
																	</select>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<div class="panel-heading" role="tab" id="headingFour">
										<h4 class="panel-title">
											<a class="collapsed" role="button" data-toggle="collapse"
												data-parent="#accordion" href="#collapseFour"
												aria-expanded="false" aria-controls="collapseFour">
												Fiscality </a>
										</h4>

									</div>
									<div id="collapseFour" class="panel-collapse collapse"
										role="tabpanel" aria-labelledby="headingFour">
										<div class="panel-body">
											<div class="row">
												<div class="col-md-3">
													<div class="color_greentxt cp"
														onclick="openFiscalSidebar();">Add New Fiscal Year</div>
													<div id="fiscalYrDivList" style="margin-top: 12px;">

													</div>
												</div>
											</div>
											<div id="myFiscalSidenav" class="sidenav"
												style="right: -30px; position: absolute; display: block; top: 300px;">
												<div class="slidebox">
													<div class="row">
														<div class="col-md-9">
															<div class="edit">Fiscal Year</div>
														</div>
														<div class="col-md-3">
															<div class="arrow">
																<a href="javascript:void(0)" class="closebtn"
																	onclick="closeFiscalSidebar()"><i
																	class="ti-arrow-right"></i></a>
															</div>
														</div>
													</div>
													<div class="chartbtnsec1">
														<div align="right">
															<button class="btn4" onclick="closeFiscalSidebar()">CANCEL</button>
															<button id="deleteFiscalBtn" class="btn3"
																onclick="deleteFiscality()">DELETE</button>
															<button class="btn1" id="submitFiscality">SAVE</button>
														</div>
													</div>


													<div class="clearfix"></div>
													<div class="selectlidropdown yearClass">
														<input type="hidden" id="yearId"> <input
															type="hidden" id="hiddenYrList"> <label>Year</label>
														<ul class="list-unstyled selectYearDy"
															onchange="liChange();">
															<li class="init" value="">Select</li>
														</ul>
														<!-- <select id="year" onblur="removeValid(event)" class="selectYearDy">
																		<option value="">Select</option>
																		<option th:each="c,iter:${yearList}" th:value="${c}" th:text="${c}"></option>
																	</select> -->
													</div>

													<div class="clearfix"></div>
													<label>Start Month</label>
													<div class="selectlidropdown startMnthClass">
														<ul class="list-unstyled selectStrtMnthDy" id="startMonth">
															<li class="strtmnthinit" value="">Select</li>
														</ul>
														<!-- <select id="startMonth">
														</select> -->
													</div>

													<div class="clearfix"></div>
													<label>End Month</label>
													<div class="selectlidropdown endMnthClass">
														<ul class="list-unstyled selectEndMnthDy" id="endMonth">
															<li class="endmnthinit" value="">Select</li>
														</ul>
														<!-- <select id="endMonth">
														</select> -->
													</div>

												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<div class="panel-heading" role="tab" id="headingFive">
										<h4 class="panel-title">
											<a class="collapsed" role="button" data-toggle="collapse"
												data-parent="#accordion" href="#collapseFive"
												aria-expanded="false" aria-controls="collapseFive"> Date
												Format </a>
										</h4>

									</div>
									<div id="collapseFive" class="panel-collapse collapse"
										role="tabpanel" aria-labelledby="headingFive">
										<div class="panel-body">
											<div class="row">
												<div class="col-md-3">
													<!-- <input type="text" id="dateExp" class="form-control"> -->
													<p th:each="c,iter:${dateFormatTypeList}">
														<input type="radio" th:id="${c.key}" name="radio-group"
															th:if="${session.DATEFORMAT_ID == c.key}" checked
															th:attr="onchange=|saveDateFormat('${c.key}')|">
														<input type="radio" th:id="${c.key}" name="radio-group"
															th:unless="${session.DATEFORMAT_ID == c.key}"
															th:attr="onchange=|saveDateFormat('${c.key}')|">
														<label th:for="${c.key}" th:text="${c.name}"></label>
													</p>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div id="delete" class="modal fade show" aria-modal="true">
				<div class="modal-dialog modal-confirm">
					<div class="modal-content">
						<div class="modal-header flex-column">
							<button type="button" class="close" data-dismiss="modal"
								aria-hidden="true" onclick="cancelModalBtn()">
								<i class="ti-close modal-close"></i>
							</button>
						</div>
						<div class="modal-body">
							<p>Do you really want to delete these records? This process
								cannot be undone.</p>
						</div>
						<div class="modal-footer justify-content-center">
							<button type="button" class="btn4" data-dismiss="modal"
								onclick="cancelModalBtn();">Cancel</button>
							<button type="button" class="btn3" id="deleteModalBtn">Delete</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</html>